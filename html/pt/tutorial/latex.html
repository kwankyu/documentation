
<!DOCTYPE html>

<html lang="pt_BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Sage, LaTeX e Companheiros &#8212; Tutorial Sage v9.5</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <script async="async" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Buscar" href="search.html" />
    <link rel="next" title="Programação" href="programming.html" />
    <link rel="prev" title="Interfaces" href="interfaces.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Índice Geral"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="programming.html" title="Programação"
             accesskey="N">próximo</a> |</li>
        <li class="right" >
          <a href="interfaces.html" title="Interfaces"
             accesskey="P">anterior</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Tutorial Sage v9.5</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Sage, LaTeX e Companheiros</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="sage-latex-e-companheiros">
<h1>Sage, LaTeX e Companheiros<a class="headerlink" href="#sage-latex-e-companheiros" title="Link permanente para este título">¶</a></h1>
<p>AUTOR:  Rob Beezer (2010-05-23)</p>
<p>O Sage e o dialeto LaTeX do TeX tem um relacionamento sinergético
intenso. Esta seção tem como objetivo introduzir as diversas formas de
interação entre eles, começado pelas mais básicas e indo até as menos
usuais. (Logo você pode não querer ler esta seção inteira na sua
primeira passagem por este tutorial.)</p>
<section id="panorama-geral">
<h2>Panorama Geral<a class="headerlink" href="#panorama-geral" title="Link permanente para este título">¶</a></h2>
<p>Pode ser mais fácil entender os vários usos do LaTeX com um panorama
geral sobre os três principais métodos usados pelo Sage.</p>
<ol class="arabic">
<li><p>Todo objeto no Sage possui uma representação em LaTeX. Você
pode acessar essa representação executando, no Notebook ou na
linha de comando do Sage, <code class="docutils literal notranslate"><span class="pre">latex(foo)</span></code> where <code class="docutils literal notranslate"><span class="pre">foo</span></code> é algum
objeto no Sage. O resultado é uma string que deve fornecer uma
representação razoável de <code class="docutils literal notranslate"><span class="pre">foo</span></code> no modo matemático em LaTeX
(por exemplo, quando cercado por um par de símbolos $). Alguns
exemplos disso seguem abaixo.</p>
<p>Dessa forma, o Sage pode ser usado efetivamente para construir
partes de um documento LaTeX: crie ou calcule um objeto no
Sage, imprima <code class="docutils literal notranslate"><span class="pre">latex()</span></code> do objeto e copie-e-cole o resultado
no seu documento.</p>
</li>
<li><p>A interface Notebook é configurada para usar o <a class="reference external" href="http://www.mathjax.org/">MathJax</a> para representar
fórmulas matemáticas de forma clara em um web navegador. O MathJax é
uma coleção de rotinas em JavaScript e fontes associadas.
Tipicamente esses fontes ficam armazenadas em um servidor e são
enviadas para o navegador juntamente com a página onde elas estão
sendo usadas. No caso do Sage, o Notebook está sempre conectado a
um servidor usado para executar os comando do Sage, e esse servidor
também fornece as fontes do MathJax necessárias. Logo não é
necessário configurar nada mais para ter formulas matemáticas
representadas no seu navegador quando você usa o Notebook do Sage.</p>
<p>O MathJax é implementado para representar um subconjunto grande,
mas não completo, do TeX. Ele não suporta objetos como, por
exemplo, tabelas complicadas e seções, e é focado para
representar acuradamente pequenas fórmulas em TeX. A
representação automática de fórmulas matemáticas no Notebook é
obtida convertendo a representação <code class="docutils literal notranslate"><span class="pre">latex()</span></code> de um objeto
(como descrito acima) em uma forma de HTML mais adequada ao
MathJax.</p>
<p>Como o MathJax usa as suas próprias fontes de tamanho variável,
ele é superior a outros métodos que convertem equações, ou
outros pequenos trechos de TeX, em imagens estáticas.</p>
</li>
<li><p>Na linha de comando do Sage, ou no Notebook quando o código em
LaTeX é complicado demais para o MathJax processar, uma
instalação local do LaTeX pode ser usada. O Sage inclui quase
tudo que você precisa para compilar e usar o Sage, mas uma
exceção significativa é o TeX. Então nessas situações você
precisa ter o TeX instalado, juntamente com algumas ferramentas
de conversão, para usar os recursos completos.</p></li>
</ol>
<p>Aqui nós demonstramos alguns usos básicos da função <code class="docutils literal notranslate"><span class="pre">latex()</span></code>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="go">z</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">12</span><span class="p">)</span>
<span class="go">z^{12}</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">integrate</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
<span class="go">\frac{1}{5} \, z^{5}</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="s1">&#39;a string&#39;</span><span class="p">)</span>
<span class="go">\text{\texttt{a{ }string}}</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">\Bold{Q}</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]))</span>
<span class="go">\left(\begin{array}{rrr}</span>
<span class="go">2 &amp; 4 &amp; 6 \\</span>
<span class="go">-1 &amp; -1 &amp; -1</span>
<span class="go">\end{array}\right)</span>
</pre></div>
</div>
<p>A funcionalidade básica do MathJax é em sua maior parte automática no
Notebook, mas nós podemos demonstrar esse suporte parcialmente com a
classe <code class="docutils literal notranslate"><span class="pre">MathJax</span></code>. A função <code class="docutils literal notranslate"><span class="pre">eval</span></code> dessa classe converte um objeto
do Sage em sua representação LaTeX e adiciona HTML que por sua vez
evoca a classe “matemática” do CSS, a qual então emprega o MathJax.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.html</span> <span class="kn">import</span> <span class="n">MathJax</span>
<span class="gp">sage: </span><span class="n">js</span> <span class="o">=</span> <span class="n">MathJax</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="go">z</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">12</span><span class="p">)</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbf{#1}}z^{12}\]&lt;/html&gt;</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbf{#1}}\Bold{Q}\]&lt;/html&gt;</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbf{#1}}\Bold{Z}[x]\]&lt;/html&gt;</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">integrate</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbf{#1}}\frac{1}{5} \, z^{5}\]&lt;/html&gt;</span>
</pre></div>
</div>
</section>
<section id="uso-basico">
<h2>Uso Básico<a class="headerlink" href="#uso-basico" title="Link permanente para este título">¶</a></h2>
<p>Como indicado acima, a forma mais simples de explorar o suporte do
Sage para o LaTeX é usando a função <code class="docutils literal notranslate"><span class="pre">latex()</span></code> para criar código
LaTeX para representar objetos matemáticos. Essas strings podem então
ser incorporadas em documentos LaTeX. Isso funciona igualmente no
Notebook ou na linha de comando do Sage.</p>
<p>No outro extremo está o comando <code class="docutils literal notranslate"><span class="pre">view()</span></code>. Na linha de comando do
Sage o comando <code class="docutils literal notranslate"><span class="pre">view(foo)</span></code> irá criar a representação em LaTeX de
<code class="docutils literal notranslate"><span class="pre">foo</span></code>, incorporar isso em um documento simples em LaTeX, e então
processar o documento usando o LaTeX em seu sistema. Por fim, o
visualizador apropriado será aberto para apresentar o documento
gerado. Qual versão do TeX é usada, e portanto as opções para a saída
e visualizador, podem ser personalizados (veja
<a class="reference internal" href="#sec-custom-processing"><span class="std std-ref">Personalizando o Processamento em LaTeX</span></a>).</p>
<p>No Notebook, o comando <code class="docutils literal notranslate"><span class="pre">view(foo)</span></code> cria uma combinação apropriada de
HTML e CSS para que o MathJax mostre a representação em LaTeX na folha
de trabalho. Para o usuário, ele simplesmente cria uma versão
cuidadosamente formatada do resultado, distinta da saída padrão em
modo texto do Sage. Nem todo objeto no Sage possui uma representação
em LaTeX adequada às capacidades limitadas do MathJax. Nesses casos, a
interpretação pelo MathJax pode ser deixada de lado, e com isso o LaTeX
do sistema é chamado, e o resultado dessa chamada é convertido em uma
imagem que é inserida na folha de trabalho. Como alterar e controlar
esse processo é discutido abaixo na seção
<a class="reference internal" href="#sec-custom-generation"><span class="std std-ref">Personalizando a Criação de Código LaTeX</span></a>.</p>
<p>O comando interno <code class="docutils literal notranslate"><span class="pre">pretty_print()</span></code> ilustra a conversão de objetos do
Sage para HTML que emprega o MathJax no Notebook.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pretty_print</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">12</span><span class="p">)</span>
<span class="go">x^12</span>
<span class="gp">sage: </span><span class="n">pretty_print</span><span class="p">(</span><span class="n">integrate</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">))</span>
<span class="go">-cos(x)</span>
</pre></div>
</div>
<p>O Notebook tem outros dois recursos para empregar o TeX. O primeiro é
o botão “Typeset” bem acima da primeira célula da folha de trabalho, à
direita dos quatro menus de opções. Quando selecionado, o resultado de
qualquer cálculo vai ser interpretado pelo MathJax. Note que esse
efeito não é retroativo – células calculadas anteriormente precisam
ser recalculadas para ter o resultado representado pelo MathJax.
Essencialmente, selecionar o botão “Typeset” é equivalente a aplicar o
comando <code class="docutils literal notranslate"><span class="pre">view()</span></code> ao resultado de cada célula.</p>
<p>Um segundo recurso disponível no Notebook é possibilidade de inserir
código TeX para fazer anotações na folha de trabalho. Quando o cursos
esta posicionado entre células de modo que uma barra azul fica
visível, então shift+clique irá abrir um mini processador de texto,
TinyMCE. Isso permite digitar texto, usando um editor WSISYG para
criar HTML e CSS. Logo é possível inserir texto formatado para
complementar a folha de trabalho. Todavia, texto entre símbolos $, ou
$$, é interpretado pelo MathJax como “inline” ou “display math”
espectivamente.</p>
</section>
<section id="personalizando-a-criacao-de-codigo-latex">
<span id="sec-custom-generation"></span><h2>Personalizando a Criação de Código LaTeX<a class="headerlink" href="#personalizando-a-criacao-de-codigo-latex" title="Link permanente para este título">¶</a></h2>
<p>Exitem várias formas de personalizar o código LaTeX gerado pelo
comando <code class="docutils literal notranslate"><span class="pre">latex()</span></code>. No Notebook e na linha de comando existe um
objeto pré-definido chamado <code class="docutils literal notranslate"><span class="pre">latex</span></code> que possui diversos métodos, os
quais você pode listar digitando <code class="docutils literal notranslate"><span class="pre">latex.</span></code>, seguido da tecla tab
(note a presença do ponto).</p>
<p>Um bom exemplo é o método <code class="docutils literal notranslate"><span class="pre">latex.matrix_delimiters</span></code>. Ele pode ser
usado para alterar a notação de matrizes – parênteses grandes,
colchetes, barras verticais. Nenhuma noção de estilo é enfatizada,
você pode configurar como desejado. Observe como as barras invertidas
usadas em LaTeX requerem uma barra adicional para que elas não sejam
interpretadas pelo Python como um comando (ou seja, sejam implementadas
simplesmente como parte de uma string.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">\left(\begin{array}{rr}</span>
<span class="go">0 &amp; 1 \\</span>
<span class="go">2 &amp; 3</span>
<span class="go">\end{array}\right)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">matrix_delimiters</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s1">&#39;]&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">\left[\begin{array}{rr}</span>
<span class="go">0 &amp; 1 \\</span>
<span class="go">2 &amp; 3</span>
<span class="go">\end{array}\right]</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">matrix_delimiters</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">{&#39;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">\left\{\begin{array}{rr}</span>
<span class="go">0 &amp; 1 \\</span>
<span class="go">2 &amp; 3</span>
<span class="go">\end{array}\right\}</span>
</pre></div>
</div>
<p>O método <code class="docutils literal notranslate"><span class="pre">latex.vector_delimiters</span></code> funciona de forma similar.</p>
<p>A forma como anéis e corpos comuns podem ser representados pode ser
controlada pelo método <code class="docutils literal notranslate"><span class="pre">latex.blackboard_bold</span></code>. Esses conjuntos são
representados por padrão em negrito, mas podem opcionalmente ser
escritos em letras duplas como é comum em trabalhos escritos. Isso é
obtido redefinindo a macro <code class="docutils literal notranslate"><span class="pre">\Bold{}</span></code> que faz parte do Sage.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">\Bold{Q}</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.html</span> <span class="kn">import</span> <span class="n">MathJax</span>
<span class="gp">sage: </span><span class="n">js</span> <span class="o">=</span> <span class="n">MathJax</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbf{#1}}\Bold{Q}\]&lt;/html&gt;</span>

<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">blackboard_bold</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbb{#1}}\Bold{Q}\]&lt;/html&gt;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">blackboard_bold</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>É possível aproveitar os recursos do TeX adicionando novas funções
(macros em inglês) e novos pacotes. Primeiro, funções individuais podem
ser adicionadas para serem usadas quando o MathJax interpreta pequenos
trechos de códigos TeX no Notebook.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_macros</span><span class="p">()</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_macro</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">newcommand{</span><span class="se">\\</span><span class="s2">foo}</span><span class="si">{bar}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_macros</span><span class="p">()</span>
<span class="go">&#39;\\newcommand{\\foo}{bar}&#39;</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="go">x + y</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.html</span> <span class="kn">import</span> <span class="n">MathJax</span>
<span class="gp">sage: </span><span class="n">js</span> <span class="o">=</span> <span class="n">MathJax</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">js</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="go">&lt;html&gt;\[\newcommand{\Bold}[1]{\mathbf{#1}}\newcommand{\foo}{bar}x + y\]&lt;/html&gt;</span>
</pre></div>
</div>
<p>Macros adicionais usadas dessa forma serão também usadas eventualmente
se a versão do TeX no seu sistema for usada para lidar com algo muito
complicado para o MathJax. O comando <code class="docutils literal notranslate"><span class="pre">latex_extra_preamble</span></code> é usado
para construir o preambulo de um documento completo em LaTeX.
Ilustramos a seguir como fazer isso. Novamente note a necessidade de
barras invertidas duplas nas strings do Python.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_macros</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.latex</span> <span class="kn">import</span> <span class="n">latex_extra_preamble</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">latex_extra_preamble</span><span class="p">())</span>
<span class="go">\newcommand{\ZZ}{\Bold{Z}}</span>
<span class="go">...</span>
<span class="go">\newcommand{\Bold}[1]{\mathbf{#1}}</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_macro</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">newcommand{</span><span class="se">\\</span><span class="s2">foo}</span><span class="si">{bar}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">latex_extra_preamble</span><span class="p">())</span>
<span class="go">\newcommand{\ZZ}{\Bold{Z}}</span>
<span class="go">...</span>
<span class="go">\newcommand{\Bold}[1]{\mathbf{#1}}</span>
<span class="go">\newcommand{\foo}{bar}</span>
</pre></div>
</div>
<p>Novamente, para expressões grandes ou mais complicadas do LaTeX, é
possível adicionar pacotes (ou qualquer outra coisa) ao preambulo do
arquivo LaTeX. Qualquer coisa pode ser incorporada no preambulo com o
comando <code class="docutils literal notranslate"><span class="pre">latex.add_to_preamble</span></code>, e o comando mais especializado
<code class="docutils literal notranslate"><span class="pre">latex.add_package_to_preamble_if_available</span></code> irá primeiro verificar
se certo pacote está realmente disponível antes de adicioná-lo ao
preambulo</p>
<p>Agora adicionamos o pacote geometry ao preambulo e usamos ele para
definir o tamanho da região na página que o TeX vai usar
(efetivamente definido as margens). Novamente, observe a necessidade
de barras duplas nas strings do Python.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.latex</span> <span class="kn">import</span> <span class="n">latex_extra_preamble</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_macros</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_to_preamble</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">usepackage</span><span class="si">{geometry}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_to_preamble</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">geometry{letterpaper,total={8in,10in}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">()</span>
<span class="go">&#39;\\usepackage{geometry}\\geometry{letterpaper,total={8in,10in}}&#39;</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">latex_extra_preamble</span><span class="p">())</span>
<span class="go">\usepackage{geometry}\geometry{letterpaper,total={8in,10in}}</span>
<span class="go">\newcommand{\ZZ}{\Bold{Z}}</span>
<span class="go">...</span>
<span class="go">\newcommand{\Bold}[1]{\mathbf{#1}}</span>
</pre></div>
</div>
<p>Um pacote pode ser adicionado juntamente com a verificação de sua
existência, da seguinte forma. Como um exemplo, nós ilustramos uma
tentativa de adicionar ao preambulo um pacote que supostamente não
existe.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">()</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_to_preamble</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">usepackage{foo-bar-unchecked}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">()</span>
<span class="go">&#39;\\usepackage{foo-bar-unchecked}&#39;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_package_to_preamble_if_available</span><span class="p">(</span><span class="s1">&#39;foo-bar-checked&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">()</span>
<span class="go">&#39;\\usepackage{foo-bar-unchecked}&#39;</span>
</pre></div>
</div>
</section>
<section id="personalizando-o-processamento-em-latex">
<span id="sec-custom-processing"></span><h2>Personalizando o Processamento em LaTeX<a class="headerlink" href="#personalizando-o-processamento-em-latex" title="Link permanente para este título">¶</a></h2>
<p>É também possível controlar qual variação do TeX é usada quando a
versão do sistema for evocada, logo influenciando também o resultado.
De forma similar, é também possível controlar quando o Notebook irá
usar o MathJax (trechos simples em TeX) ou a versão do TeX do sistema
(expressões mais complicadas).</p>
<p>O comando <code class="docutils literal notranslate"><span class="pre">latex.engine()</span></code> pode ser usado para controlar de os
executáveis <code class="docutils literal notranslate"><span class="pre">latex</span></code>, <code class="docutils literal notranslate"><span class="pre">pdflatex</span></code> ou <code class="docutils literal notranslate"><span class="pre">xelatex</span></code> do sistema são
usados para processar expressões mais complicadas. Quando <code class="docutils literal notranslate"><span class="pre">view()</span></code> é
chamado na linha de comando do Sage e o processador é definido como
<code class="docutils literal notranslate"><span class="pre">latex</span></code>, um arquivo dvi é produzido e o Sage vai usar um
visualizador de dvi (como o xdvi) para apresentar o resultado. Por
outro lado, usando <code class="docutils literal notranslate"><span class="pre">view()</span></code> na linha de comando do Sage, quando o
processador é definido como <code class="docutils literal notranslate"><span class="pre">pdflatex</span></code>, irá produzir um PDF e o Sage vai
executar o programa disponível no seu sistema para visualizar arquivos
PDF (acrobat, okular, evince, etc.).</p>
<p>No Notebook, é necessário interver na decisão de se o MathJax vai
interpretar trechos em TeX, ou se o LaTeX do sistema deve fazer o
trabalho se o código em LaTeX for complicado demais. O dispositivo é
uma lista de strings, que se forem encontradas em um trecho de código
LaTeX sinalizam para o Notebook usar o LaTeX (ou qualquer executável
que for definido pelo comando <code class="docutils literal notranslate"><span class="pre">latex.engine()</span></code>). Essa lista é
gerenciada pelos comandos <code class="docutils literal notranslate"><span class="pre">latex.add_to_mathjax_avoid_list</span></code> e
<code class="docutils literal notranslate"><span class="pre">latex.mathjax_avoid_list</span></code>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">([])</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">()</span>    <span class="c1"># not tested</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">])</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">()</span>                <span class="c1"># not tested</span>
<span class="go">[&#39;foo&#39;, &#39;bar&#39;]</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_to_mathjax_avoid_list</span><span class="p">(</span><span class="s1">&#39;tikzpicture&#39;</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">()</span>                      <span class="c1"># not tested</span>
<span class="go">[&#39;foo&#39;, &#39;bar&#39;, &#39;tikzpicture&#39;]</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">([])</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">()</span>    <span class="c1"># not tested</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Suponha que uma expressão em LaTeX é produzida no Notebook com o
comando <code class="docutils literal notranslate"><span class="pre">view()</span></code> ou enquanto o botão “Typeset” está selecionado, e
então reconhecida, através da “lista de comandos a serem evitados no
MathJax”, como necessitando a versão do LaTeX no sistema. Então o
executável selecionado (como especificado por <code class="docutils literal notranslate"><span class="pre">latex.engine()</span></code>) irá
processar o código em LaTeX. Todavia, em vez de então abrir um
visualizador externo (o que é o comportamento na linha de comando), o
Sage irá tentar converter o resultado em uma imagem, que então é
inserida na folha de trabalho como o resultado da célula.</p>
<p>Exatamente como essa conversão é feita depende de vários fatores –
qual executável você especificou como processador e quais utilitários
de conversão estão disponíveis no seu sistema. Quatro conversores
usuais que irão cobrir todas as ocorrências são o <code class="docutils literal notranslate"><span class="pre">dvips</span></code>,
<code class="docutils literal notranslate"><span class="pre">ps2pdf</span></code>, e <code class="docutils literal notranslate"><span class="pre">dvipng</span></code>, e do pacote <code class="docutils literal notranslate"><span class="pre">ImageMagick</span></code>, o <code class="docutils literal notranslate"><span class="pre">convert</span></code>.
O objetivo é produzir um arquivo PNG para ser inserido de volta na
folha de trabalho. Quando uma expressão em LaTeX pode ser convertida
com sucesso em um arquivo dvi pelo processador LaTeX, então o dvipng
deve dar conta da conversão. Se a expressão em LaTeX e o processador
especificado criarem um arquivo dvi com conteúdo especial que o dvipng
não pode converter, então o dvips vai criar um arquivo PostScript.
Esse arquivo PostScript, ou um PDF criado por pelo processador
<code class="docutils literal notranslate"><span class="pre">pdflatex</span></code>, é então convertido em um arquivo dvi pelo programa
<code class="docutils literal notranslate"><span class="pre">convert</span></code>. A presença de dois desses conversores pode ser testado
com as rotinas <code class="docutils literal notranslate"><span class="pre">have_dvipng()</span></code> e <code class="docutils literal notranslate"><span class="pre">have_convert()</span></code>.</p>
<p>Essas conversões são feitas automaticamente se você tiver os
conversores necessários instalados; se não, então uma mensagem de erro
é impressa dizendo o que está faltando e onde obter.</p>
<p>Para um exemplo concreto de como expressões complicadas em LaTeX podem
ser processadas, veja o exemplo na próxima seção
(<a class="reference internal" href="#sec-tkz-graph"><span class="std std-ref">Exemplo: Grafos Combinatoriais com tkz-graph</span></a>) para usar o pacote <code class="docutils literal notranslate"><span class="pre">tkz-graph</span></code> para produzir
ilustrações de grafos combinatoriais de alta qualidade. Para outros
exemplos, existem alguns casos teste incluídos no Sage. Para usá-los,
é necessário importar o objeto <code class="docutils literal notranslate"><span class="pre">sage.misc.latex.latex_examples</span></code>, que
é uma instância da classe <code class="docutils literal notranslate"><span class="pre">sage.misc.latex.LatexExamples</span></code>, como
mostrado abaixo. Essa classe possui exemplos de diagramas comutativos,
grafos combinatoriais, teoria de nós e pstricks, os quais
respectivamente testam os seguintes pacotes: xy, tkz-graph, xypic,
pstricks. Após importar o objeto, use completamento tab em
<code class="docutils literal notranslate"><span class="pre">latex_examples</span></code> para ver os exemplos disponíveis. Ao carregar um
exemplo você irá obter explicações sobre o que é necessário para fazer
o conteúdo do exemplo ser exibido corretamente. Para de fato ver os
exemplos, é necessário usar <code class="docutils literal notranslate"><span class="pre">view()</span></code> (uma vez que o preambulo,
processador, etc. estão configurados corretamente).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.latex</span> <span class="kn">import</span> <span class="n">latex_examples</span>
<span class="gp">sage: </span><span class="n">latex_examples</span><span class="o">.</span><span class="n">diagram</span><span class="p">()</span>
<span class="go">LaTeX example for testing display of a commutative diagram produced</span>
<span class="go">by xypic.</span>

<span class="go">To use, try to view this object -- it will not work.  Now try</span>
<span class="go">&#39;latex.add_to_preamble(&quot;\\usepackage[matrix,arrow,curve,cmtip]{xy}&quot;)&#39;,</span>
<span class="go">and try viewing again. You should get a picture (a part of the diagram arising</span>
<span class="go">from a filtered chain complex).</span>
</pre></div>
</div>
</section>
<section id="exemplo-grafos-combinatoriais-com-tkz-graph">
<span id="sec-tkz-graph"></span><h2>Exemplo: Grafos Combinatoriais com tkz-graph<a class="headerlink" href="#exemplo-grafos-combinatoriais-com-tkz-graph" title="Link permanente para este título">¶</a></h2>
<p>Ilustrações de alta qualidade de grafos combinatoriais (daqui por
diante, simplesmente grafos) são possíveis com o pacote <code class="docutils literal notranslate"><span class="pre">tkz-graph</span></code>.
Esse pacote baseia-se no <code class="docutils literal notranslate"><span class="pre">tikz</span></code> front-end da biblioteca <code class="docutils literal notranslate"><span class="pre">pgf</span></code>.
Logo todos esses componentes precisam ser parte de uma instalação
completa do LaTeX em seu sistema, e pode acontecer que alguns desses
componentes não estejam em sua versão mais recente em algumas
distribuições do TeX. Logo, para melhores resultados, seria necessário
ou recomendável instalar esses pacotes como parte do seu diretório
texmf pessoal. Criar, manter e personalizar uma instalação do TeX no
sistema ou em um diretório pessoal vai além do escopo deste documento,
mas deve ser fácil encontrar instruções para isso. Os arquivos
necessários estão listados em <a class="reference internal" href="#sec-system-wide-tex"><span class="std std-ref">Uma Instalação Completa do TeX</span></a>.</p>
<p>Portanto, para começar precisamos nos certificar que os pacotes
relevantes estão incluídos adicionando-os ao preambulo do eventual
documento LaTeX. As imagens dos grafos não são formadas corretamente
quando um arquivo dvi é usando como formato intermediário, logo é
melhor definir o processador do LaTeX como <code class="docutils literal notranslate"><span class="pre">pdflatex</span></code>. A esta altura
um comando como <code class="docutils literal notranslate"><span class="pre">view(graphs.CompleteGraph(4))</span></code> deve funcionar na
linha de comando do Sage e produzir um PDF com a imagem completa do
grafo <span class="math notranslate nohighlight">\(K_4\)</span>.</p>
<p>Para uma experiência semelhante no Notebook, é necessário desabilitar
o processador MathJax para o código LaTeX do grafo usando a “lista de
comandos a serem evitados pelo MathJax”. Grafos são criados usando o
ambiente <code class="docutils literal notranslate"><span class="pre">tikzpicture</span></code>, logo essa uma boa escolha para uma string
a ser incluída na lista que acabamos de mencionar. Agora,
<code class="docutils literal notranslate"><span class="pre">view(graphs.CompleteGraph(4))</span></code> em uma folha de trabalho deve
executar o pdflatex para criar um PDF e então o programa <code class="docutils literal notranslate"><span class="pre">convert</span></code>
para obter um gráfico PNG que vai ser inserido na folha de trabalho.
Os seguintes comandos ilustram os passos para obter grafos processados
pelo LaTeX no Notebook.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_latex</span> <span class="kn">import</span> <span class="n">setup_latex_preamble</span>
<span class="gp">sage: </span><span class="n">setup_latex_preamble</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">extra_preamble</span><span class="p">()</span> <span class="c1"># random - depends on system&#39;s TeX installation</span>
<span class="go">&#39;\\usepackage{tikz}\n\\usepackage{tkz-graph}\n\\usepackage{tkz-berge}\n&#39;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">engine</span><span class="p">(</span><span class="s1">&#39;pdflatex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">add_to_mathjax_avoid_list</span><span class="p">(</span><span class="s1">&#39;tikzpicture&#39;</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="o">.</span><span class="n">mathjax_avoid_list</span><span class="p">()</span>                      <span class="c1"># not tested</span>
<span class="go">[&#39;tikz&#39;, &#39;tikzpicture&#39;]</span>
</pre></div>
</div>
<p>Agora, um comando como <code class="docutils literal notranslate"><span class="pre">view(graphs.CompleteGraph(4))</span></code> deve produzir
um gráfico do grafo no Notebook, tendo usado <code class="docutils literal notranslate"><span class="pre">pdflatex</span></code> para
processar os comandos do <code class="docutils literal notranslate"><span class="pre">tkz-graph</span></code> para construir o grafo. Note
que há diversas opções que afetam o resultado do gráfico obtido usando
o LaTeX via <code class="docutils literal notranslate"><span class="pre">tkz-graph</span></code>, o que mais uma vez está além do escopo
desta seção (veja a seção do Manual de Referência com título “Opções
do LaTeX para Grafos” para instruções e detalhes).</p>
</section>
<section id="uma-instalacao-completa-do-tex">
<span id="sec-system-wide-tex"></span><h2>Uma Instalação Completa do TeX<a class="headerlink" href="#uma-instalacao-completa-do-tex" title="Link permanente para este título">¶</a></h2>
<p>Vários dos recursos avançados de integração do TeX com o Sage requerem
uma instalação do TeX em seu sistema. Várias versões do Linux possuem
pacotes do TeX baseados no TeX-live, para o OSX existe o TeXshop e
para o windows existe o MikTex. O utilitário <code class="docutils literal notranslate"><span class="pre">convert</span></code> é parte do
<a class="reference external" href="http://www.imagemagick.org/">ImageMagick</a> (que deve ser um pacote
na sua versão do Linux ou ser fácil de instalar), e os três programas
<code class="docutils literal notranslate"><span class="pre">dvipng</span></code>, <code class="docutils literal notranslate"><span class="pre">ps2pdf</span></code>, e <code class="docutils literal notranslate"><span class="pre">dvips</span></code> podem estar incluídos na sua
distribuição do TeX. Os dois primeiros podem também ser obtidos em,
respectivamente, <a class="reference external" href="http://sourceforge.net/projects/dvipng/">http://sourceforge.net/projects/dvipng/</a> e como parte
do <a class="reference external" href="http://www.ghostscript.com/">Ghostscript</a>.</p>
<p>A criação de grafos combinatoriais requer uma versão recente da
biblioteca PGF, e o arquivo <code class="docutils literal notranslate"><span class="pre">tkz-graph.sty</span></code>, que está disponível em
<a class="reference external" href="https://www.ctan.org/pkg/tkz-graph">https://www.ctan.org/pkg/tkz-graph</a>, os arquivos  <code class="docutils literal notranslate"><span class="pre">tkz-arith.sty</span></code> e
talvez <code class="docutils literal notranslate"><span class="pre">tkz-berge.sty</span></code>, que estão disponíveis em
<a class="reference external" href="https://www.ctan.org/pkg/tkz-berge">https://www.ctan.org/pkg/tkz-berge</a>.</p>
</section>
<section id="programas-externos">
<h2>Programas Externos<a class="headerlink" href="#programas-externos" title="Link permanente para este título">¶</a></h2>
<p>Existem três programas disponíveis para integrar ainda mais o TeX e o
Sage. O primeiro é o sagetex. Uma descrição concisa do sagetex é que
ele é uma coleção de funções do TeX que permitem incluir em um
documento LaTeX instruções para usar o Sage para calcular vários
objetos, e/ou formatar objetos usando o comando <code class="docutils literal notranslate"><span class="pre">latex()</span></code> existente
no Sage. Logo, como um passo intermediário para compilar um documento
LaTeX, todos os recursos computacionais e de formatação do Sage podem
ser executados automaticamente. Como um exemplo, um exame matemático
pode manter uma correspondência entre questões e respostas usando o
sagetex para fazer cálculos com o Sage. Veja <a class="reference internal" href="sagetex.html#sec-sagetex"><span class="std std-ref">Usando o SageTeX</span></a> para
mais informações.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Tabela de Conteúdo</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sage, LaTeX e Companheiros</a><ul>
<li><a class="reference internal" href="#panorama-geral">Panorama Geral</a></li>
<li><a class="reference internal" href="#uso-basico">Uso Básico</a></li>
<li><a class="reference internal" href="#personalizando-a-criacao-de-codigo-latex">Personalizando a Criação de Código LaTeX</a></li>
<li><a class="reference internal" href="#personalizando-o-processamento-em-latex">Personalizando o Processamento em LaTeX</a></li>
<li><a class="reference internal" href="#exemplo-grafos-combinatoriais-com-tkz-graph">Exemplo: Grafos Combinatoriais com tkz-graph</a></li>
<li><a class="reference internal" href="#uma-instalacao-completa-do-tex">Uma Instalação Completa do TeX</a></li>
<li><a class="reference internal" href="#programas-externos">Programas Externos</a></li>
</ul>
</li>
</ul>

  <h4>Tópico anterior</h4>
  <p class="topless"><a href="interfaces.html"
                        title="capítulo anterior">Interfaces</a></p>
  <h4>Próximo tópico</h4>
  <p class="topless"><a href="programming.html"
                        title="próximo capítulo">Programação</a></p>
  <div role="note" aria-label="source link">
    <h3>Essa Página</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/latex.rst.txt"
            rel="nofollow">Exibir Fonte</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Busca rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Ir" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Índice Geral"
             >índice</a></li>
        <li class="right" >
          <a href="programming.html" title="Programação"
             >próximo</a> |</li>
        <li class="right" >
          <a href="interfaces.html" title="Interfaces"
             >anterior</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Tutorial Sage v9.5</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Sage, LaTeX e Companheiros</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Criada usando <a href="https://www.sphinx-doc.org/pt_BR/master">Sphinx</a> 4.2.0.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>