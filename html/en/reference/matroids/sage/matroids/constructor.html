
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=600, initial-scale=1">
    <title>Matroid construction &#8212; Sage 9.2 Reference Manual: Matroid Theory</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="The abstract Matroid class" href="matroid.html" />
    <link rel="prev" title="Matroid Theory" href="../../index.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matroid.html" title="The abstract Matroid class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../index.html" title="Matroid Theory"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.2 Reference Manual: Matroid Theory</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Matroid construction</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="matroid-construction">
<span id="sage-matroids-constructor"></span><h1>Matroid construction<a class="headerlink" href="#matroid-construction" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.matroids.constructor"></span><div class="section" id="theory">
<h2>Theory<a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h2>
<p>Matroids are combinatorial structures that capture the abstract properties
of (linear/algebraic/…) dependence. Formally, a matroid is a pair
<span class="math notranslate nohighlight">\(M = (E, I)\)</span> of a finite set <span class="math notranslate nohighlight">\(E\)</span>, the <em>groundset</em>, and a collection of
subsets <span class="math notranslate nohighlight">\(I\)</span>, the independent sets, subject to the following axioms:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I\)</span> contains the empty set</p></li>
<li><p>If <span class="math notranslate nohighlight">\(X\)</span> is a set in <span class="math notranslate nohighlight">\(I\)</span>, then each subset of <span class="math notranslate nohighlight">\(X\)</span> is in <span class="math notranslate nohighlight">\(I\)</span></p></li>
<li><p>If two subsets <span class="math notranslate nohighlight">\(X\)</span>, <span class="math notranslate nohighlight">\(Y\)</span> are in <span class="math notranslate nohighlight">\(I\)</span>, and <span class="math notranslate nohighlight">\(|X| &gt; |Y|\)</span>, then there exists
<span class="math notranslate nohighlight">\(x \in X - Y\)</span> such that <span class="math notranslate nohighlight">\(Y + \{x\}\)</span> is in <span class="math notranslate nohighlight">\(I\)</span>.</p></li>
</ul>
<p>See the <a class="reference external" href="https://en.wikipedia.org/wiki/Matroid">Wikipedia article on matroids</a> for more theory
and examples. Matroids can be obtained from many types of mathematical
structures, and Sage supports a number of them.</p>
<p>There are two main entry points to Sage’s matroid functionality. The object
<a class="reference internal" href="matroids_catalog.html#module-sage.matroids.matroids_catalog" title="sage.matroids.matroids_catalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">matroids.</span></code></a> contains a number of
constructors for well-known matroids. The function
<a class="reference internal" href="#sage.matroids.constructor.Matroid" title="sage.matroids.constructor.Matroid"><code class="xref py py-func docutils literal notranslate"><span class="pre">Matroid()</span></code></a> allows you to define
your own matroids from a variety of sources. We briefly introduce both below;
follow the links for more comprehensive documentation.</p>
<p>Each matroid object in Sage comes with a number of built-in operations. An
overview can be found in the documentation of
<a class="reference internal" href="matroid.html#module-sage.matroids.matroid" title="sage.matroids.matroid"><code class="xref py py-mod docutils literal notranslate"><span class="pre">the</span> <span class="pre">abstract</span> <span class="pre">matroid</span> <span class="pre">class</span></code></a>.</p>
</div>
<div class="section" id="built-in-matroids">
<h2>Built-in matroids<a class="headerlink" href="#built-in-matroids" title="Permalink to this headline">¶</a></h2>
<p>For built-in matroids, do the following:</p>
<ul class="simple">
<li><p>Within a Sage session, type <code class="docutils literal notranslate"><span class="pre">matroids.</span></code> (Do not press “Enter”, and do not
forget the final period “.”)</p></li>
<li><p>Hit “tab”.</p></li>
</ul>
<p>You will see a list of methods which will construct matroids. For example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">Wheel</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_connected</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U36</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U36</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">U36</span><span class="o">.</span><span class="n">dual</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A number of special matroids are collected under a <code class="docutils literal notranslate"><span class="pre">named_matroids</span></code> submenu.
To see which, type <code class="docutils literal notranslate"><span class="pre">matroids.named_matroids.&lt;tab&gt;</span></code> as above:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F7</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">Fano</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">F7</span><span class="o">.</span><span class="n">nonspanning_circuits</span><span class="p">())</span>
<span class="go">7</span>
</pre></div>
</div>
</div>
<div class="section" id="constructing-matroids">
<h2>Constructing matroids<a class="headerlink" href="#constructing-matroids" title="Permalink to this headline">¶</a></h2>
<p>To define your own matroid, use the function
<a class="reference internal" href="#sage.matroids.constructor.Matroid" title="sage.matroids.constructor.Matroid"><code class="xref py py-func docutils literal notranslate"><span class="pre">Matroid()</span></code></a>. This function attempts
to interpret its arguments to create an appropriate matroid. The input
arguments are documented in detail
<a class="reference internal" href="#sage.matroids.constructor.Matroid" title="sage.matroids.constructor.Matroid"><code class="xref py py-func docutils literal notranslate"><span class="pre">below</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">Fano</span><span class="p">())</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">9</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Rudi Pendavingh, Michael Welsh, Stefan van Zwam (2013-04-01): initial
version</p></li>
</ul>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="sage.matroids.constructor.Matroid">
<code class="sig-prename descclassname">sage.matroids.constructor.</code><code class="sig-name descname">Matroid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">groundset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matroids.constructor.Matroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a matroid.</p>
<p>Matroids are combinatorial structures that capture the abstract properties
of (linear/algebraic/…) dependence. Formally, a matroid is a pair
<span class="math notranslate nohighlight">\(M = (E, I)\)</span> of a finite set <span class="math notranslate nohighlight">\(E\)</span>, the <em>groundset</em>, and a collection of
subsets <span class="math notranslate nohighlight">\(I\)</span>, the independent sets, subject to the following axioms:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I\)</span> contains the empty set</p></li>
<li><p>If <span class="math notranslate nohighlight">\(X\)</span> is a set in <span class="math notranslate nohighlight">\(I\)</span>, then each subset of <span class="math notranslate nohighlight">\(X\)</span> is in <span class="math notranslate nohighlight">\(I\)</span></p></li>
<li><p>If two subsets <span class="math notranslate nohighlight">\(X\)</span>, <span class="math notranslate nohighlight">\(Y\)</span> are in <span class="math notranslate nohighlight">\(I\)</span>, and <span class="math notranslate nohighlight">\(|X| &gt; |Y|\)</span>, then there exists
<span class="math notranslate nohighlight">\(x \in X - Y\)</span> such that <span class="math notranslate nohighlight">\(Y + \{x\}\)</span> is in <span class="math notranslate nohighlight">\(I\)</span>.</p></li>
</ul>
<p>See the <a class="reference external" href="https://en.wikipedia.org/wiki/Matroid">Wikipedia article on matroids</a> for more
theory and examples. Matroids can be obtained from many types of
mathematical structures, and Sage supports a number of them.</p>
<p>There are two main entry points to Sage’s matroid functionality. For
built-in matroids, do the following:</p>
<ul class="simple">
<li><p>Within a Sage session, type “matroids.” (Do not press “Enter”, and do
not forget the final period “.”)</p></li>
<li><p>Hit “tab”.</p></li>
</ul>
<p>You will see a list of methods which will construct matroids. For
example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F7</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">Fano</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">F7</span><span class="o">.</span><span class="n">nonspanning_circuits</span><span class="p">())</span>
<span class="go">7</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U36</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U36</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">U36</span><span class="o">.</span><span class="n">dual</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>To define your own matroid, use the function <code class="docutils literal notranslate"><span class="pre">Matroid()</span></code>.
This function attempts to interpret its arguments to create an appropriate
matroid. The following named arguments are supported:</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">groundset</span></code> – (optional) If provided, the groundset of the
matroid. Otherwise, the function attempts to determine a groundset
from the data.</p></li>
</ul>
<p>Exactly one of the following inputs must be given (where <code class="docutils literal notranslate"><span class="pre">data</span></code>
must be a positional argument and anything else must be a keyword
argument):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – a graph or a matrix or a RevLex-Index string or a list
of independent sets containing all bases or a matroid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bases</span></code> – The list of bases (maximal independent sets) of the
matroid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">independent_sets</span></code> – The list of independent sets of the matroid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">circuits</span></code> – The list of circuits of the matroid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">graph</span></code> – A graph, whose edges form the elements of the matroid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matrix</span></code> – A matrix representation of the matroid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reduced_matrix</span></code> – A reduced representation of the matroid: if
<code class="docutils literal notranslate"><span class="pre">reduced_matrix</span> <span class="pre">=</span> <span class="pre">A</span></code>
then the matroid is represented by <span class="math notranslate nohighlight">\([I\ \ A]\)</span> where <span class="math notranslate nohighlight">\(I\)</span> is an
appropriately sized identity matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rank_function</span></code> – A function that computes the rank of each subset.
Can only be provided together with a groundset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">circuit_closures</span></code> – Either a list of tuples <code class="docutils literal notranslate"><span class="pre">(k,</span> <span class="pre">C)</span></code> with <code class="docutils literal notranslate"><span class="pre">C</span></code>
the closure of a circuit, and <code class="docutils literal notranslate"><span class="pre">k</span></code> the rank of <code class="docutils literal notranslate"><span class="pre">C</span></code>, or a dictionary
<code class="docutils literal notranslate"><span class="pre">D</span></code> with <code class="docutils literal notranslate"><span class="pre">D[k]</span></code> the set of closures of rank-<code class="docutils literal notranslate"><span class="pre">k</span></code> circuits.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">revlex</span></code> – the encoding as a string of <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code> symbols.
Used by <a class="reference internal" href="../../../references/index.html#matroiddatabase" id="id1"><span>[MatroidDatabase]</span></a> and explained in <a class="reference internal" href="../../../references/index.html#mmib2012" id="id2"><span>[MMIB2012]</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matroid</span></code> – An object that is already a matroid. Useful only with the
<code class="docutils literal notranslate"><span class="pre">regular</span></code> option.</p></li>
</ul>
<p>Further options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regular</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) boolean. If <code class="docutils literal notranslate"><span class="pre">True</span></code>,
output a
<a class="reference internal" href="linear_matroid.html#sage.matroids.linear_matroid.RegularMatroid" title="sage.matroids.linear_matroid.RegularMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegularMatroid</span></code></a>
instance such that, <em>if</em> the input defines a valid regular matroid, then
the output represents this matroid. Note that this option can be
combined with any type of input.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – any ring. If provided, and the input is a <code class="docutils literal notranslate"><span class="pre">matrix</span></code> or
<code class="docutils literal notranslate"><span class="pre">reduced_matrix</span></code>, output will be a linear matroid over the ring or
field <code class="docutils literal notranslate"><span class="pre">ring</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">field</span></code> – any field. Same as <code class="docutils literal notranslate"><span class="pre">ring</span></code>, but only fields are allowed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) boolean. If <code class="docutils literal notranslate"><span class="pre">True</span></code> and
<code class="docutils literal notranslate"><span class="pre">regular</span></code> is true, the output is checked to make sure it is a valid
regular matroid.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Except for regular matroids, the input is not checked for validity. If
your data does not correspond to an actual matroid, the behavior of
the methods is undefined and may cause strange errors. To ensure you
have a matroid, run
<a class="reference internal" href="matroid.html#sage.matroids.matroid.Matroid.is_valid" title="sage.matroids.matroid.Matroid.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">M.is_valid()</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Matroid()</span></code> method will return instances of type
<a class="reference internal" href="basis_matroid.html#sage.matroids.basis_matroid.BasisMatroid" title="sage.matroids.basis_matroid.BasisMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasisMatroid</span></code></a>,
<a class="reference internal" href="circuit_closures_matroid.html#sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid" title="sage.matroids.circuit_closures_matroid.CircuitClosuresMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">CircuitClosuresMatroid</span></code></a>,
<a class="reference internal" href="linear_matroid.html#sage.matroids.linear_matroid.LinearMatroid" title="sage.matroids.linear_matroid.LinearMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearMatroid</span></code></a>,
<a class="reference internal" href="linear_matroid.html#sage.matroids.linear_matroid.LinearMatroid" title="sage.matroids.linear_matroid.LinearMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinaryMatroid</span></code></a>,
<a class="reference internal" href="linear_matroid.html#sage.matroids.linear_matroid.LinearMatroid" title="sage.matroids.linear_matroid.LinearMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">TernaryMatroid</span></code></a>,
<a class="reference internal" href="linear_matroid.html#sage.matroids.linear_matroid.LinearMatroid" title="sage.matroids.linear_matroid.LinearMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuaternaryMatroid</span></code></a>,
<a class="reference internal" href="linear_matroid.html#sage.matroids.linear_matroid.LinearMatroid" title="sage.matroids.linear_matroid.LinearMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegularMatroid</span></code></a>, or
<a class="reference internal" href="rank_matroid.html#sage.matroids.rank_matroid.RankMatroid" title="sage.matroids.rank_matroid.RankMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">RankMatroid</span></code></a>. To
import these classes (and other useful functions) directly into Sage’s
main namespace, type:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matroids.advanced</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="advanced.html#module-sage.matroids.advanced" title="sage.matroids.advanced"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.matroids.advanced</span></code></a>.</p>
</div>
<p>EXAMPLES:</p>
<p>Note that in these examples we will often use the fact that strings are
iterable in these examples. So we type <code class="docutils literal notranslate"><span class="pre">'abcd'</span></code> to denote the list
<code class="docutils literal notranslate"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d']</span></code>.</p>
<ol class="arabic">
<li><p>List of bases:</p>
<p>All of the following inputs are allowed, and equivalent:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">groundset</span><span class="o">=</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="s1">&#39;ad&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                                      <span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;bd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">bases</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="s1">&#39;ad&#39;</span><span class="p">,</span> <span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;bd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M3</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="s1">&#39;ad&#39;</span><span class="p">,</span> <span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;bd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M4</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="s1">&#39;ad&#39;</span><span class="p">,</span> <span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;bd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M5</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span>
<span class="gp">....: </span>                            <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span>
<span class="gp">....: </span>                            <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M4</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M5</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We do not check if the provided input forms an actual matroid:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">groundset</span><span class="o">=</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">full_rank</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Bases may be repeated:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M2</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p>List of independent sets:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">groundset</span><span class="o">=</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span>
<span class="gp">....: </span>             <span class="n">independent_sets</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                              <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="s1">&#39;ad&#39;</span><span class="p">,</span> <span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;bd&#39;</span><span class="p">,</span> <span class="s1">&#39;cd&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>We only require that the list of independent sets contains each basis
of the matroid; omissions of smaller independent sets and
repetitions are allowed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">bases</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">independent_sets</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                               <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M2</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p>List of circuits:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">groundset</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="n">circuits</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;bc&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">bases</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A matroid specified by a list of circuits gets converted to a
<a class="reference internal" href="basis_matroid.html#sage.matroids.basis_matroid.BasisMatroid" title="sage.matroids.basis_matroid.BasisMatroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasisMatroid</span></code></a>
internally:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">groundset</span><span class="o">=</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">circuits</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;abd&#39;</span><span class="p">,</span> <span class="s1">&#39;acd&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                                        <span class="s1">&#39;bcd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">&lt;... &#39;sage.matroids.basis_matroid.BasisMatroid&#39;&gt;</span>
</pre></div>
</div>
<p>Strange things can happen if the input does not satisfy the circuit
axioms, and these are not always caught by the
<a class="reference internal" href="matroid.html#sage.matroids.matroid.Matroid.is_valid" title="sage.matroids.matroid.Matroid.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> method. So
always check whether your input makes sense!</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">circuits</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;acd&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">sorted</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="k">for</span> <span class="n">C</span> <span class="ow">in</span> <span class="n">M</span><span class="o">.</span><span class="n">circuits</span><span class="p">()]</span> <span class="c1"># py2</span>
<span class="go">[[&#39;a&#39;]]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">sorted</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="k">for</span> <span class="n">C</span> <span class="ow">in</span> <span class="n">M</span><span class="o">.</span><span class="n">circuits</span><span class="p">()]</span> <span class="c1"># py3 random</span>
<span class="go">[[&#39;a&#39;]]</span>
</pre></div>
</div>
</li>
<li><p>Graph:</p>
<p>Sage has great support for graphs, see <a class="reference external" href="../../../graphs/sage/graphs/graph.html#module-sage.graphs.graph" title="(in Sage 9.2 Reference Manual: Graph Theory v9.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.graphs.graph</span></code></a>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Matroid</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="go">Graphic matroid of rank 9 on 15 elements</span>
</pre></div>
</div>
<p>If each edge has a unique label, then those are used as the ground set
labels:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">groundset</span><span class="p">())</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p>If there are parallel edges, then integers are used for the ground set.
If there are no edges in parallel, and is not a complete list of labels,
or the labels are not unique, then vertex tuples are used:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">groundset</span><span class="p">())</span>
<span class="go">[(0, 1), (0, 2), (1, 2)]</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)],</span> <span class="n">multiedges</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">groundset</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3]</span>
</pre></div>
</div>
<p>The GraphicMatroid object forces its graph to be connected. If a
disconnected graph is used as input, it will connect the components.</p>
<blockquote>
<div><p>sage: G1 = graphs.CycleGraph(3); G2 = graphs.DiamondGraph()
sage: G = G1.disjoint_union(G2)
sage: M = Matroid(G)
sage: M
Graphic matroid of rank 5 on 8 elements
sage: M.graph()
Looped multi-graph on 6 vertices
sage: M.graph().is_connected()
True
sage: M.is_connected()
False</p>
</div></blockquote>
<p>If the keyword <code class="docutils literal notranslate"><span class="pre">regular</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output will instead
be an instance of <code class="docutils literal notranslate"><span class="pre">RegularMatroid</span></code>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">M</span>
<span class="go">Regular matroid of rank 2 on 3 elements with 3 bases</span>
</pre></div>
</div>
<p>Note: if a groundset is specified, we assume it is in the same order
as
<a class="reference external" href="../../../graphs/sage/graphs/generic_graph.html#sage.graphs.generic_graph.GenericGraph.edge_iterator" title="(in Sage 9.2 Reference Manual: Graph Theory v9.2)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">G.edge_iterator()</span></code></a>
provides:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="n">multiedges</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">G</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">rank</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">1</span>
</pre></div>
</div>
<p>As before,
if no edge labels are present and the graph is simple, we use the
tuples <code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">j)</span></code> of endpoints. If that fails, we simply use a list
<code class="docutils literal notranslate"><span class="pre">[0..m-1]</span></code></p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">groundset</span><span class="p">())</span>
<span class="go">[(0, 1), (0, 2), (1, 2)]</span>

<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="n">multiedges</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">groundset</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3]</span>
</pre></div>
</div>
<p>When the <code class="docutils literal notranslate"><span class="pre">graph</span></code> keyword is used, a variety of inputs can be
converted to a graph automatically. The following uses a graph6 string
(see the <a class="reference external" href="../../../graphs/sage/graphs/graph.html#sage.graphs.graph.Graph" title="(in Sage 9.2 Reference Manual: Graph Theory v9.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a> method’s
documentation):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Matroid</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="s1">&#39;:I`AKGsaOs`cI]Gb~&#39;</span><span class="p">)</span>
<span class="go">Graphic matroid of rank 9 on 17 elements</span>
</pre></div>
</div>
<p>However, this method is no more clever than <code class="docutils literal notranslate"><span class="pre">Graph()</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Matroid</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="mi">41</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: This input cannot be turned into a graph</span>
</pre></div>
</div>
</li>
<li><p>Matrix:</p>
<p>The basic input is a
<a class="reference external" href="../../../matrices/sage/matrix/constructor.html#module-sage.matrix.constructor" title="(in Sage 9.2 Reference Manual: Matrices and Spaces of Matrices v9.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Sage</span> <span class="pre">matrix</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">matroids</span><span class="o">.</span><span class="n">CompleteGraphic</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Various shortcuts are possible:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                     <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                     <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">ring</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">reduced_matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                             <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                             <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">ring</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">M3</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">groundset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>             <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="gp">....: </span>             <span class="n">ring</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M4</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">==</span> <span class="n">M4</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, with unnamed arguments the input has to be a <code class="docutils literal notranslate"><span class="pre">Matrix</span></code>
instance, or the function will try to interpret it as a set of bases:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: basis has wrong cardinality.</span>
</pre></div>
</div>
<p>If the groundset size equals number of rows plus number of columns, an
identity matrix is prepended. Otherwise the groundset size must equal
the number of columns:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<p>We automatically create an optimized subclass, if available:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>        <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="gp">....: </span>        <span class="n">field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Binary matroid of rank 3 on 6 elements, type (2, 7)</span>
<span class="gp">sage: </span><span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>        <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="gp">....: </span>        <span class="n">field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Ternary matroid of rank 3 on 6 elements, type 0-</span>
<span class="gp">sage: </span><span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>        <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="gp">....: </span>        <span class="n">field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">))</span>
<span class="go">Quaternary matroid of rank 3 on 6 elements</span>
<span class="gp">sage: </span><span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>        <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="gp">....: </span>        <span class="n">field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Regular matroid of rank 3 on 6 elements with 16 bases</span>
</pre></div>
</div>
<p>Otherwise the generic LinearMatroid class is used:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>        <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
<span class="gp">....: </span>        <span class="n">field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">83</span><span class="p">))</span>
<span class="go">Linear matroid of rank 3 on 6 elements represented over the Finite</span>
<span class="go">Field of size 83</span>
</pre></div>
</div>
<p>An integer matrix is automatically converted to a matrix over <span class="math notranslate nohighlight">\(\QQ\)</span>.
If you really want integers, you can specify the ring explicitly:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">A</span><span class="p">,</span> <span class="n">ring</span><span class="o">=</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
</li>
<li><p>Rank function:</p>
<p>Any function mapping subsets to integers can be used as input:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">rank_function</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">Matroid of rank 2 on 4 elements</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">matroids</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p>Circuit closures:</p>
<p>This is often a really concise way to specify a matroid. The usual way
is a dictionary of lists:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">circuit_closures</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;edfg&#39;</span><span class="p">,</span> <span class="s1">&#39;acdg&#39;</span><span class="p">,</span> <span class="s1">&#39;bcfg&#39;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s1">&#39;cefh&#39;</span><span class="p">,</span> <span class="s1">&#39;afgh&#39;</span><span class="p">,</span> <span class="s1">&#39;abce&#39;</span><span class="p">,</span> <span class="s1">&#39;abdf&#39;</span><span class="p">,</span> <span class="s1">&#39;begh&#39;</span><span class="p">,</span> <span class="s1">&#39;bcdh&#39;</span><span class="p">,</span> <span class="s1">&#39;adeh&#39;</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="mi">4</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;abcdefgh&#39;</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">P8</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can also input tuples <span class="math notranslate nohighlight">\((k, X)\)</span> where <span class="math notranslate nohighlight">\(X\)</span> is the closure of a
circuit, and <span class="math notranslate nohighlight">\(k\)</span> the rank of <span class="math notranslate nohighlight">\(X\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">circuit_closures</span><span class="o">=</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;abd&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;abcdef&#39;</span><span class="p">),</span>
<span class="gp">....: </span>                              <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;bce&#39;</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">Q6</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p>RevLex-Index:</p>
<p>This requires the <code class="docutils literal notranslate"><span class="pre">groundset</span></code> to be given and also needs a
additional keyword argument <code class="docutils literal notranslate"><span class="pre">rank</span></code> to specify the rank of the
matroid:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">,</span> <span class="s2">&quot;000000******0**&quot;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">M</span>
<span class="go">Matroid of rank 4 on 6 elements with 8 bases</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">bases</span><span class="p">())</span>
<span class="go">[frozenset({&#39;a&#39;, &#39;b&#39;, &#39;d&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;a&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;a&#39;, &#39;b&#39;, &#39;e&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;a&#39;, &#39;c&#39;, &#39;e&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;b&#39;, &#39;c&#39;, &#39;e&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;b&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;}),</span>
<span class="go"> frozenset({&#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;})]</span>
</pre></div>
</div>
<p>Only the <code class="docutils literal notranslate"><span class="pre">0</span></code> symbols really matter, any symbol can be used
instead of <code class="docutils literal notranslate"><span class="pre">*</span></code>:</p>
<blockquote>
<div><p>sage: Matroid(“abcdefg”, revlex=”0++++++++0++++0+++++0+–++—-+–++”, rank=4)
Matroid of rank 4 on 7 elements with 31 bases</p>
</div></blockquote>
<p>It is checked that the input makes sense (but not that it
defines a matroid):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Matroid</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">,</span> <span class="s2">&quot;000000******0**&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: for RevLex-Index, the rank needs to be specified</span>
<span class="gp">sage: </span><span class="n">Matroid</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">,</span> <span class="s2">&quot;000000******0**&quot;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: expected string of length 20 (6 choose 3), got 15</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">,</span> <span class="s2">&quot;*0000000000000*&quot;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">M</span>
<span class="go">Matroid of rank 4 on 6 elements with 2 bases</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</li>
<li><p>Matroid:</p>
<p>Most of the time, the matroid itself is returned:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">Fano</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="ow">is</span> <span class="n">M</span>
<span class="go">True</span>
</pre></div>
</div>
<p>But it can be useful with the <code class="docutils literal notranslate"><span class="pre">regular</span></code> option:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">circuit_closures</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">:[</span><span class="s1">&#39;adb&#39;</span><span class="p">,</span> <span class="s1">&#39;bec&#39;</span><span class="p">,</span> <span class="s1">&#39;cfa&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                                 <span class="s1">&#39;def&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">:[</span><span class="s1">&#39;abcdef&#39;</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">Regular matroid of rank 3 on 6 elements with 16 bases</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">==</span> <span class="n">N</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Matrix</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="c1"># py2</span>
<span class="go">[1 0 0 1 1 0]</span>
<span class="go">[0 1 0 1 1 1]</span>
<span class="go">[0 0 1 0 1 1]</span>
<span class="gp">sage: </span><span class="n">Matrix</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="c1"># py3 random</span>
<span class="go">[1 0 0 1 1 0]</span>
<span class="go">[0 1 0 1 1 1]</span>
<span class="go">[0 0 1 0 1 1]</span>
</pre></div>
</div>
</li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">regular</span></code> option:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">reduced_matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">Regular matroid of rank 3 on 6 elements with 16 bases</span>

<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">matroids</span><span class="o">.</span><span class="n">CompleteGraphic</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>By default we check if the resulting matroid is actually regular. To
increase speed, this check can be skipped:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matroids</span><span class="o">.</span><span class="n">named_matroids</span><span class="o">.</span><span class="n">Fano</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: input is not a valid regular matroid</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">Regular matroid of rank 3 on 7 elements with 32 bases</span>

<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Sometimes the output is regular, but represents a different matroid
from the one you intended:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]))</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matroid</span><span class="p">(</span><span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]),</span>
<span class="gp">....: </span>            <span class="n">regular</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Matroid construction</a><ul>
<li><a class="reference internal" href="#theory">Theory</a></li>
<li><a class="reference internal" href="#built-in-matroids">Built-in matroids</a></li>
<li><a class="reference internal" href="#constructing-matroids">Constructing matroids</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../../index.html"
                        title="previous chapter">Matroid Theory</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="matroid.html"
                        title="next chapter">The abstract Matroid class</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/matroids/constructor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matroid.html" title="The abstract Matroid class"
             >next</a> |</li>
        <li class="right" >
          <a href="../../index.html" title="Matroid Theory"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.2 Reference Manual: Matroid Theory</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Matroid construction</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2020, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>