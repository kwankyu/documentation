
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=600, initial-scale=1">
    <title>Work with WAV files &#8212; Sage 9.2 Reference Manual: Utilities</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Stopgaps" href="../misc/stopgap.html" />
    <link rel="prev" title="Wrapper for Graphics Files" href="../structure/graphics_file.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../misc/stopgap.html" title="Stopgaps"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../structure/graphics_file.html" title="Wrapper for Graphics Files"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.2 Reference Manual: Utilities</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Work with WAV files</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="work-with-wav-files">
<span id="sage-media-wav"></span><h1>Work with WAV files<a class="headerlink" href="#work-with-wav-files" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.media.wav"></span><p>A WAV file is a header specifying format information, followed by a
sequence of bytes, representing the state of some audio signal over a
length of time.</p>
<p>A WAV file may have any number of channels. Typically, they have 1
(mono) or 2 (for stereo). The data of a WAV file is given as a
sequence of frames. A frame consists of samples. There is one sample
per channel, per frame. Every wav file has a sample width, or, the
number of bytes per sample. Typically this is either 1 or 2 bytes.</p>
<p>The wav module supplies more convenient access to this data. In
particular, see the docstring for <code class="docutils literal notranslate"><span class="pre">Wave.channel_data()</span></code>.</p>
<p>The header contains information necessary for playing the WAV file,
including the number of frames per second, the number of bytes per
sample, and the number of channels in the file.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Bobby Moretti and Gonzalo Tornaria (2007-07-01): First version</p></li>
<li><p>William Stein (2007-07-03): add more</p></li>
<li><p>Bobby Moretti (2007-07-03): add doctests</p></li>
</ul>
<dl class="py class">
<dt id="sage.media.wav.Wave">
<em class="property">class </em><code class="sig-prename descclassname">sage.media.wav.</code><code class="sig-name descname">Wave</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage 9.2 Reference Manual: Parents and Elements v9.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>A class wrapping a wave audio file.</p>
<p>INPUT:</p>
<p>You must call Wave() with either data = filename, where
filename is the name of a wave file, or with each of the
following options:</p>
<ul class="simple">
<li><p>channels  – the number of channels in the wave file (1 for mono, 2 for
stereo, etc…</p></li>
<li><p>width     – the number of bytes per sample</p></li>
<li><p>framerate – the number of frames per second</p></li>
<li><p>nframes   – the number of frames in the data stream</p></li>
<li><p>bytes     – a string object containing the bytes of the data stream</p></li>
</ul>
<p>Slicing:</p>
<blockquote>
<div><p>Slicing a Wave object returns a new wave object that has been
trimmed to the bytes that you have given it.</p>
</div></blockquote>
<p>Indexing:</p>
<blockquote>
<div><p>Getting the $n$th item in a Wave object will give you the value
of the $n$th frame.</p>
</div></blockquote>
<dl class="py method">
<dt id="sage.media.wav.Wave.channel_data">
<code class="sig-name descname">channel_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.channel_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data from a given channel.</p>
<p>INPUT:</p>
<p>n – the channel number to get</p>
<p>OUTPUT:</p>
<p>A list of signed ints, each containing the value of a frame.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.convolve">
<code class="sig-name descname">convolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>NOT DONE!</p>
<p>Convolution of self and other, i.e., add their fft’s, then
inverse fft back.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.domain">
<code class="sig-name descname">domain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npoints</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Used internally for plotting. Get the x-values for the various points to plot.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.getframerate">
<code class="sig-name descname">getframerate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.getframerate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of frames per second in this wave object.</p>
<p>OUTPUT:</p>
<p>The frame rate of this sound file.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.getlength">
<code class="sig-name descname">getlength</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.getlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the length of this file (in seconds).</p>
<p>OUTPUT:</p>
<p>The running time of the entire WAV object.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.getnchannels">
<code class="sig-name descname">getnchannels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.getnchannels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of channels in this wave object.</p>
<p>OUTPUT:</p>
<p>The number of channels in this wave file.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.getnframes">
<code class="sig-name descname">getnframes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.getnframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of frames in this wave object.</p>
<p>OUTPUT:</p>
<p>The number of frames in this WAV.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.getsampwidth">
<code class="sig-name descname">getsampwidth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.getsampwidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of bytes per sample in this wave object.</p>
<p>OUTPUT:</p>
<p>The number of bytes in each sample.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.listen">
<code class="sig-name descname">listen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Listen to (or download) this wave file.</p>
<p>Creates a link to this wave file in the notebook.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npoints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">plotjoined</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the audio data.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p>npoints – number of sample points to take; if not given, draws all
known points.</p></li>
<li><p>channel – 0 or 1 (if stereo).  default: 0</p></li>
<li><p>plotjoined – whether to just draw dots or draw lines between sample points</p></li>
</ul>
<p>OUTPUT:</p>
<p>a plot object that can be shown.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.plot_fft">
<code class="sig-name descname">plot_fft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npoints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">half</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.plot_fft" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.plot_raw">
<code class="sig-name descname">plot_raw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npoints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">plotjoined</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.plot_raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.readframes">
<code class="sig-name descname">readframes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.readframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Read out the raw data for the first <span class="math notranslate nohighlight">\(n\)</span> frames of this wave object.</p>
<p>INPUT:</p>
<p>n – the number of frames to return</p>
<p>OUTPUT:</p>
<p>A list of bytes (in string form) representing the raw wav data.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">'sage.wav'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save this wave file to disk, either as a Sage sobj or as a .wav file.</p>
<p>INPUT:</p>
<dl class="simple">
<dt>filename – the path of the file to save. If filename ends</dt><dd><p>with ‘wav’, then save as a wave file,
otherwise, save a Sage object.</p>
</dd>
</dl>
<p>If no input is given, save the file as ‘sage.wav’.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.set_values">
<code class="sig-name descname">set_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.set_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Used internally for plotting. Get the y-values for the various points to plot.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.slice_seconds">
<code class="sig-name descname">slice_seconds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">stop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.slice_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the wave from start to stop.</p>
<p>INPUT:</p>
<p>start – the time index from which to begin the slice (in seconds)
stop – the time index from which to end the slice (in seconds)</p>
<p>OUTPUT:</p>
<p>A Wave object whose data is this object’s data,
sliced between the given time indices</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.values">
<code class="sig-name descname">values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npoints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Used internally for plotting. Get the y-values for the various points to plot.</p>
</dd></dl>

<dl class="py method">
<dt id="sage.media.wav.Wave.vector">
<code class="sig-name descname">vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">npoints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channel</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.media.wav.Wave.vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../structure/graphics_file.html"
                        title="previous chapter">Wrapper for Graphics Files</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../misc/stopgap.html"
                        title="next chapter">Stopgaps</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/media/wav.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../misc/stopgap.html" title="Stopgaps"
             >next</a> |</li>
        <li class="right" >
          <a href="../structure/graphics_file.html" title="Wrapper for Graphics Files"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.2 Reference Manual: Utilities</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Work with WAV files</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2020, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>