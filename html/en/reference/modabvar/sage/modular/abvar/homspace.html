
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Spaces of homomorphisms between modular abelian varieties &#8212; Sage 9.1 Reference Manual: Modular Abelian Varieties</title>
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Morphisms between modular abelian varieties, including Hecke operators acting on modular abelian varieties" href="morphism.html" />
    <link rel="prev" title="Homology of modular abelian varieties" href="homology.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="morphism.html" title="Morphisms between modular abelian varieties, including Hecke operators acting on modular abelian varieties"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="homology.html" title="Homology of modular abelian varieties"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.1 Reference Manual: Modular Abelian Varieties</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="spaces-of-homomorphisms-between-modular-abelian-varieties">
<span id="sage-modular-abvar-homspace"></span><h1>Spaces of homomorphisms between modular abelian varieties<a class="headerlink" href="#spaces-of-homomorphisms-between-modular-abelian-varieties" title="Permalink to this headline">Â¶</a></h1>
<span class="target" id="module-sage.modular.abvar.homspace"></span><p>EXAMPLES:</p>
<p>First, we consider J0(37). This Jacobian has two simple factors,
corresponding to distinct newforms. These two intersect
nontrivially in J0(37).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span> <span class="p">;</span> <span class="n">D</span>
<span class="go">[</span>
<span class="go">Simple abelian subvariety 37a(1,37) of dimension 1 of J0(37),</span>
<span class="go">Simple abelian subvariety 37b(1,37) of dimension 1 of J0(37)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">(Finite subgroup with invariants [2, 2] over QQ of Simple abelian subvariety 37a(1,37) of dimension 1 of J0(37),</span>
<span class="go"> Simple abelian subvariety of dimension 0 of J0(37))</span>
</pre></div>
</div>
<p>As an abstract product, since these newforms are distinct, the
corresponding simple abelian varieties are not isogenous, and so
there are no maps between them. The endomorphism ring of the
corresponding product is thus isomorphic to the direct sum of the
endomorphism rings for each factor. Since the factors correspond to
abelian varieties of dimension 1, these endomorphism rings are each
isomorphic to ZZ.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Hom</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">()</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">;</span> <span class="n">A</span>
<span class="go">Abelian subvariety of dimension 2 of J0(37) x J0(37)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian subvariety of dimension 2 of J0(37) x J0(37),</span>
<span class="go"> Abelian variety endomorphism of Abelian subvariety of dimension 2 of J0(37) x J0(37))</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">x</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[</span>
<span class="go">[1 0 0 0]  [0 0 0 0]</span>
<span class="go">[0 1 0 0]  [0 0 0 0]</span>
<span class="go">[0 0 0 0]  [0 0 1 0]</span>
<span class="go">[0 0 0 0], [0 0 0 1]</span>
<span class="go">]</span>
</pre></div>
</div>
<p>However, these two newforms have a congruence between them modulo
2, which gives rise to interesting endomorphisms of J0(37).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian variety J0(37) of dimension 2,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(37) of dimension 2)</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">x</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">E</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[</span>
<span class="go">[1 0 0 0]  [ 0  1  1 -1]</span>
<span class="go">[0 1 0 0]  [ 1  0  1  0]</span>
<span class="go">[0 0 1 0]  [ 0  0 -1  1]</span>
<span class="go">[0 0 0 1], [ 0  0  0  1]</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">E</span><span class="o">.</span><span class="n">gens</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">E</span><span class="o">.</span><span class="n">gens</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[-1  1  1 -1]</span>
<span class="go">[ 1 -1  1  0]</span>
<span class="go">[ 0  0 -2  1]</span>
<span class="go">[ 0  0  0  0]</span>
</pre></div>
</div>
<p>Of course, these endomorphisms will be reflected in the Hecke
algebra, which is in fact the full endomorphism ring of J0(37) in
this case:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J</span><span class="o">.</span><span class="n">hecke_operator</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[-1  1  1 -1]</span>
<span class="go">[ 1 -1  1  0]</span>
<span class="go">[ 0  0 -2  1]</span>
<span class="go">[ 0  0  0  0]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian variety J0(37) of dimension 2,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(37) of dimension 2)</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">x</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[</span>
<span class="go">[1 0 0 0]  [ 0  1  1 -1]</span>
<span class="go">[0 1 0 0]  [ 1  0  1  0]</span>
<span class="go">[0 0 1 0]  [ 0  0 -1  1]</span>
<span class="go">[0 0 0 1], [ 0  0  0  1]</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Next, we consider J0(33). In this case, we have both oldforms and
newforms. There are two copies of J0(11), one for each degeneracy
map from J0(11) to J0(33). There is also one newform at level 33.
The images of the two degeneracy maps are, of course, isogenous.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span>
<span class="go">[</span>
<span class="go">Simple abelian subvariety 11a(1,33) of dimension 1 of J0(33),</span>
<span class="go">Simple abelian subvariety 11a(3,33) of dimension 1 of J0(33),</span>
<span class="go">Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">Hom</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety morphism:</span>
<span class="go">  From: Simple abelian subvariety 11a(1,33) of dimension 1 of J0(33)</span>
<span class="go">  To:   Simple abelian subvariety 11a(3,33) of dimension 1 of J0(33),)</span>
<span class="gp">sage: </span><span class="n">Hom</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">gens</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[ 0  1]</span>
<span class="go">[-1  0]</span>
</pre></div>
</div>
<p>Then this gives that the component corresponding to the sum of the
oldforms will have a rank 4 endomorphism ring. We also have a rank
one endomorphism ring for the newform 33a (since it is again
1-dimensional), which gives a rank 5 endomorphism ring for J0(33).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">DD</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="n">simple</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="p">;</span> <span class="n">DD</span>
<span class="go">[</span>
<span class="go">Abelian subvariety of dimension 2 of J0(33),</span>
<span class="go">Abelian subvariety of dimension 1 of J0(33)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">DD</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian subvariety of dimension 2 of J0(33),</span>
<span class="go"> Abelian variety endomorphism of Abelian subvariety of dimension 2 of J0(33),</span>
<span class="go"> Abelian variety endomorphism of Abelian subvariety of dimension 2 of J0(33),</span>
<span class="go"> Abelian variety endomorphism of Abelian subvariety of dimension 2 of J0(33))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian subvariety of dimension 1 of J0(33),)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span> <span class="p">;</span> <span class="n">E</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>  <span class="c1"># long time (3s on sage.math, 2011)</span>
<span class="go">(Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3)</span>
</pre></div>
</div>
<p>In this case, the image of the Hecke algebra will only have rank 3,
so that it is of infinite index in the full endomorphism ring.
However, if we call this image T, we can still ask about the index
of T in its saturation, which is 1 in this case.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>  <span class="c1"># long time</span>
<span class="go">(Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">index_in_saturation</span><span class="p">()</span>  <span class="c1"># long time</span>
<span class="go">1</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>William Stein (2007-03)</li>
<li>Craig Citro, Robert Bradshaw (2008-03): Rewrote with modabvar overhaul</li>
</ul>
<dl class="class">
<dt id="sage.modular.abvar.homspace.EndomorphismSubring">
<em class="property">class </em><code class="descclassname">sage.modular.abvar.homspace.</code><code class="descname">EndomorphismSubring</code><span class="sig-paren">(</span><em>A</em>, <em>gens=None</em>, <em>category=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.EndomorphismSubring" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modular.abvar.homspace.Homspace" title="sage.modular.abvar.homspace.Homspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.modular.abvar.homspace.Homspace</span></code></a>, <a class="reference external" href="../../../../rings/sage/rings/ring.html#sage.rings.ring.Ring" title="(in Sage 9.1 Reference Manual: General Rings, Ideals, and Morphisms v9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.ring.Ring</span></code></a></p>
<p>A subring of the endomorphism ring.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">A</span></code> - an abelian variety</li>
<li><code class="docutils literal notranslate"><span class="pre">gens</span></code> - (default: None); optional; if given
should be a tuple of the generators as matrices</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J0</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span>
<span class="go">Endomorphism ring of Abelian variety J0(23) of dimension 2</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modular</span><span class="o">.</span><span class="n">abvar</span><span class="o">.</span><span class="n">homspace</span><span class="o">.</span><span class="n">EndomorphismSubring</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="go">Endomorphism ring of Abelian variety J0(25) of dimension 0</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.modular.abvar.homspace.EndomorphismSubring_with_category&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">homset_category</span><span class="p">()</span>
<span class="go">Category of modular abelian varieties over Rational Field</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of endsets of modular abelian varieties over Rational Field</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="ow">in</span> <span class="n">Rings</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">E</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;_test_prod&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modular.abvar.homspace.EndomorphismSubring.abelian_variety">
<code class="descname">abelian_variety</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.EndomorphismSubring.abelian_variety" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the abelian variety that this endomorphism ring is attached
to.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">abelian_variety</span><span class="p">()</span>
<span class="go">Abelian variety J0(11) of dimension 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.EndomorphismSubring.discriminant">
<code class="descname">discriminant</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.EndomorphismSubring.discriminant" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the discriminant of this ring, which is the discriminant of
the trace pairing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">One knows that for modular abelian varieties, the
endomorphism ring should be isomorphic to an order in a
number field. However, the discriminant returned by this
function will be <span class="math notranslate nohighlight">\(2^n\)</span> ( <span class="math notranslate nohighlight">\(n =\)</span>
self.dimension()) times the discriminant of that order,
since the elements are represented as 2d x 2d
matrices. Notice, for example, that the case of a one
dimensional abelian variety, whose endomorphism ring must
be ZZ, has discriminant 2, as in the example below.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J0</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">-64800</span>
<span class="gp">sage: </span><span class="n">J0</span><span class="p">(</span><span class="mi">46</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>  <span class="c1"># long time (6s on sage.math, 2011)</span>
<span class="go">24200000000</span>
<span class="gp">sage: </span><span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.EndomorphismSubring.image_of_hecke_algebra">
<code class="descname">image_of_hecke_algebra</code><span class="sig-paren">(</span><em>check_every=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.EndomorphismSubring.image_of_hecke_algebra" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compute the image of the Hecke algebra inside this endomorphism
subring.</p>
<p>We simply calculate Hecke operators up to the Sturm bound, and look
at the submodule spanned by them. While computing, we can check to
see if the submodule spanned so far is saturated and of maximal
dimension, in which case we may be done. The optional argument
check_every determines how many Hecke operators we add in before
checking to see if this condition is met.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">check_every</span></code> â integer (default: 1) If this integer is positive,
this integer determines how many Hecke operators we add in before
checking to see if the submodule spanned so far is maximal and
saturated.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>The image of the Hecke algebra as an subring of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span>
<span class="go">Subring of endomorphism ring of Abelian variety J0(33) of dimension 3</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(33) of dimension 3)</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">x</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[</span>
<span class="go">[1 0 0 0 0 0]  [ 0  2  0 -1  1 -1]  [ 0  0  1 -1  1 -1]</span>
<span class="go">[0 1 0 0 0 0]  [-1 -2  2 -1  2 -1]  [ 0 -1  1  0  1 -1]</span>
<span class="go">[0 0 1 0 0 0]  [ 0  0  1 -1  3 -1]  [ 0  0  1  0  2 -2]</span>
<span class="go">[0 0 0 1 0 0]  [-2  2  0  1  1 -1]  [-2  0  1  1  1 -1]</span>
<span class="go">[0 0 0 0 1 0]  [-1  1  0  2  0 -3]  [-1  0  1  1  0 -1]</span>
<span class="go">[0 0 0 0 0 1], [-1  1 -1  1  1 -2], [-1  0  0  1  0 -1]</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">J0</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span><span class="o">.</span><span class="n">hecke_operator</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[-1  0  1 -1  1 -1]</span>
<span class="go">[ 0 -2  1  0  1 -1]</span>
<span class="go">[ 0  0  0  0  2 -2]</span>
<span class="go">[-2  0  1  0  1 -1]</span>
<span class="go">[-1  0  1  1 -1 -1]</span>
<span class="go">[-1  0  0  1  0 -2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.EndomorphismSubring.index_in">
<code class="descname">index_in</code><span class="sig-paren">(</span><em>other</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.EndomorphismSubring.index_in" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the index of self in other.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">other</span></code> - another endomorphism subring of the
same abelian variety</li>
<li><code class="docutils literal notranslate"><span class="pre">check</span></code> - bool (default: True); whether to do some
type and other consistency checks</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span> <span class="p">;</span> <span class="n">E</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span> <span class="p">;</span> <span class="n">T</span> <span class="o">=</span> <span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span> <span class="p">;</span> <span class="n">E</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">endomorphism_ring</span><span class="p">()</span> <span class="p">;</span> <span class="n">T</span> <span class="o">=</span> <span class="n">E</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.EndomorphismSubring.index_in_saturation">
<code class="descname">index_in_saturation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.EndomorphismSubring.index_in_saturation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Given a Hecke algebra T, compute its index in its saturation.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">23</span><span class="p">))</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span><span class="o">.</span><span class="n">index_in_saturation</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">44</span><span class="p">))</span><span class="o">.</span><span class="n">image_of_hecke_algebra</span><span class="p">()</span><span class="o">.</span><span class="n">index_in_saturation</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modular.abvar.homspace.Homspace">
<em class="property">class </em><code class="descclassname">sage.modular.abvar.homspace.</code><code class="descname">Homspace</code><span class="sig-paren">(</span><em>domain</em>, <em>codomain</em>, <em>cat</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../categories/sage/categories/homset.html#sage.categories.homset.HomsetWithBase" title="(in Sage 9.1 Reference Manual: Category Framework v9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.categories.homset.HomsetWithBase</span></code></a></p>
<p>A space of homomorphisms between two modular abelian varieties.</p>
<dl class="attribute">
<dt id="sage.modular.abvar.homspace.Homspace.Element">
<code class="descname">Element</code><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.Element" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="morphism.html#sage.modular.abvar.morphism.Morphism" title="sage.modular.abvar.morphism.Morphism"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.modular.abvar.morphism.Morphism</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.calculate_generators">
<code class="descname">calculate_generators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.calculate_generators" title="Permalink to this definition">Â¶</a></dt>
<dd><p>If generators havenât already been computed, calculate generators
for this homspace. If they have been computed, do nothing.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">calculate_generators</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.free_module">
<code class="descname">free_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.free_module" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return this endomorphism ring as a free submodule of a big
<span class="math notranslate nohighlight">\(\ZZ^{4nm}\)</span>, where <span class="math notranslate nohighlight">\(n\)</span> is the dimension of
the domain abelian variety and <span class="math notranslate nohighlight">\(m\)</span> the dimension of the
codomain.</p>
<p>OUTPUT: free module</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span> <span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">free_module</span><span class="p">()</span>
<span class="go">Free module of degree 8 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 1  0 -3  1  1  1 -1 -1]</span>
<span class="go">[ 0  1 -3  1  1  1 -1  0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.gen">
<code class="descname">gen</code><span class="sig-paren">(</span><em>i=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.gen" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return i-th generator of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">i</span></code> - an integer</li>
</ul>
<p>OUTPUT: a morphism</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[1 0 0 0]</span>
<span class="go">[0 1 0 0]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[0 0 0 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.gens">
<code class="descname">gens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.gens" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return tuple of generators for this endomorphism ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(Abelian variety endomorphism of Abelian variety J0(22) of dimension 2,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(22) of dimension 2,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(22) of dimension 2,</span>
<span class="go"> Abelian variety endomorphism of Abelian variety J0(22) of dimension 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.identity">
<code class="descname">identity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.identity" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the identity endomorphism.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">identity</span><span class="p">()</span>
<span class="go">Abelian variety endomorphism of Abelian variety J0(11) of dimension 1</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
<span class="go">Abelian variety endomorphism of Abelian variety J0(11) of dimension 1</span>

<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span> <span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">H</span><span class="o">.</span><span class="n">identity</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: the identity map is only defined for endomorphisms</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.matrix_space">
<code class="descname">matrix_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.matrix_space" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the underlying matrix space that we view this endomorphism
ring as being embedded into.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">matrix_space</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modular.abvar.homspace.Homspace.ngens">
<code class="descname">ngens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modular.abvar.homspace.Homspace.ngens" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return number of generators of self.</p>
<p>OUTPUT: integer</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">End</span><span class="p">(</span><span class="n">J0</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="homology.html"
                        title="previous chapter">Homology of modular abelian varieties</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="morphism.html"
                        title="next chapter">Morphisms between modular abelian varieties, including Hecke operators acting on modular abelian varieties</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/sage/modular/abvar/homspace.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="morphism.html" title="Morphisms between modular abelian varieties, including Hecke operators acting on modular abelian varieties"
             >next</a> |</li>
        <li class="right" >
          <a href="homology.html" title="Homology of modular abelian varieties"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.1 Reference Manual: Modular Abelian Varieties</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2020, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>