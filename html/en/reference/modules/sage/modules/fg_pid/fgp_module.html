
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Finitely generated modules over a PID &#8212; Sage 9.4 Reference Manual: Modules</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sage.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script async="async" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Elements of finitely generated modules over a PID" href="fgp_element.html" />
    <link rel="prev" title="Morphisms defined by a matrix" href="../matrix_morphism.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fgp_element.html" title="Elements of finitely generated modules over a PID"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../matrix_morphism.html" title="Morphisms defined by a matrix"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.4 Reference Manual: Modules</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Finitely generated modules over a PID</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="finitely-generated-modules-over-a-pid">
<span id="sage-modules-fg-pid-fgp-module"></span><h1>Finitely generated modules over a PID<a class="headerlink" href="#finitely-generated-modules-over-a-pid" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.modules.fg_pid.fgp_module"></span><p>You can use Sage to compute with finitely generated modules (FGM’s)
over a principal ideal domain R presented as a quotient V/W, where V
and W are free.</p>
<p>NOTE: Currently this is only enabled over R=ZZ, since it has not been
tested and debugged over more general PIDs.  All algorithms make sense
whenever there is a Hermite form implementation.  In theory the
obstruction to extending the implementation is only that one has to
decide how elements print.  If you’re annoyed that by this, fix things
and post a patch!</p>
<p>We represent M=V/W as a pair (V,W) with W contained in V, and we
internally represent elements of M non-canonically as elements x of
V.  We also fix independent generators g[i] for M in V, and when we
print out elements of V we print their coordinates with respect to the
g[i]; over <span class="math notranslate nohighlight">\(\ZZ\)</span> this is canonical, since each coefficient is reduce
modulo the additive order of g[i]. To obtain the vector in V
corresponding to x in M, use x.lift().</p>
<p>Morphisms between finitely generated R modules are well supported.
You create a homomorphism by simply giving the images of generators of
M0 in M1.  Given a morphism phi:M0–&gt;M1, you can compute the image of
phi, the kernel of phi, and using y=phi.lift(x) you can lift an
elements x in M1 to an element y in M0, if such a y exists.</p>
<p>TECHNICAL NOTE: For efficiency, we introduce a notion of optimized
representation for quotient modules.  The optimized representation of
M=V/W is the quotient V’/W’ where V’ has as basis lifts of the
generators g[i] for M.  We internally store a morphism from M0=V0/W0
to M1=V1/W1 by giving a morphism from the optimized representation V0’
of M0 to V1 that sends W0 into W1.</p>
<p>The following TUTORIAL illustrates several of the above points.</p>
<p>First we create free modules V0 and W0 and the quotient module M0.
Notice that everything works fine even though V0 and W0 are not
contained inside <span class="math notranslate nohighlight">\(\ZZ^n\)</span>, which is extremely convenient.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V0</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W0</span> <span class="o">=</span> <span class="n">V0</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="n">V0</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">V0</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V0</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">V0</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V0</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M0</span> <span class="o">=</span> <span class="n">V0</span><span class="o">/</span><span class="n">W0</span><span class="p">;</span> <span class="n">M0</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 16)</span>
</pre></div>
</div>
<p>The invariants are computed using the Smith normal form algorithm, and
determine the structure of this finitely generated module.</p>
<p>You can get the V and W used in constructing the quotient module using
V() and W() methods:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M0</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0   0]</span>
<span class="go">[  0   2   0]</span>
<span class="go">[  0   0   1]</span>
<span class="gp">sage: </span><span class="n">M0</span><span class="o">.</span><span class="n">W</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   4   0]</span>
<span class="go">[  0  32   0]</span>
<span class="go">[  0   0   4]</span>
</pre></div>
</div>
<p>We note that the optimized representation of M0, mentioned above in
the technical note has a V that need not be equal to V0, in general.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M0</span><span class="o">.</span><span class="n">optimized</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 0  8  1]</span>
<span class="go">[ 0 -2  0]</span>
</pre></div>
</div>
<p>Create elements of M0 either by coercing in elements of V0, getting generators,
or coercing in a list or tuple or coercing in 0. Finally, one can express an
element as a linear combination of the smith form generators</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M0</span><span class="p">(</span><span class="n">V0</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 2)</span>
<span class="gp">sage: </span><span class="n">M0</span><span class="p">(</span><span class="n">V0</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">W0</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># no difference modulo W0</span>
<span class="go">(0, 2)</span>
<span class="gp">sage: </span><span class="n">M0</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">20</span><span class="p">])</span>
<span class="go">(3, 4)</span>
<span class="gp">sage: </span><span class="mi">3</span><span class="o">*</span><span class="n">M0</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">20</span><span class="o">*</span><span class="n">M0</span><span class="o">.</span><span class="mi">1</span>
<span class="go">(3, 4)</span>
</pre></div>
</div>
<p>We make an element of M0 by taking a difference of two generators, and
lift it.  We also illustrate making an element from a list, which
coerces to V0, then take the equivalence class modulo W0.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">M0</span><span class="o">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">M0</span><span class="o">.</span><span class="mi">1</span><span class="p">;</span> <span class="n">x</span>
<span class="go">(1, 15)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">(0, 10, 1)</span>
<span class="gp">sage: </span><span class="n">M0</span><span class="p">(</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span>
<span class="go">(0, 2)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">additive_order</span><span class="p">()</span>
<span class="go">16</span>
</pre></div>
</div>
<p>Similarly, we construct V1 and W1, and the quotient M1, in a completely different
2-dimensional ambient space.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V1</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W1</span> <span class="o">=</span> <span class="n">V1</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V1</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">V1</span><span class="o">.</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">V1</span><span class="o">/</span><span class="n">W1</span><span class="p">;</span> <span class="n">M1</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (6)</span>
</pre></div>
</div>
<p>We create the homomorphism from M0 to M1 that sends both generators of
M0 to 3 times the generator of M1.  This is well defined since 3 times
the generator has order 2.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">M0</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="mi">3</span><span class="o">*</span><span class="n">M1</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">M1</span><span class="o">.</span><span class="mi">0</span><span class="p">]);</span> <span class="n">f</span>
<span class="go">Morphism from module over Integer Ring with invariants (4, 16) to module with invariants (6,) that sends the generators to [(3), (3)]</span>
</pre></div>
</div>
<p>We evaluate the homomorphism on our element x of the domain, and on the
first generator of the domain.  We also evaluate at an element of V0,
which is coerced into M0.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(0)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">M0</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(3)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">V0</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(3)</span>
</pre></div>
</div>
<p>Here we illustrate lifting an element of the image of f, i.e., finding
an element of M0 that maps to a given element of M1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">lift</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">M1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="c1"># random</span>
<span class="go">(0, 13)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">(3)</span>
</pre></div>
</div>
<p>We compute the kernel of f, i.e., the submodule of elements of M0 that
map to 0.  Note that the kernel is not explicitly represented as a
submodule, but as another quotient V/W where V is contained in V0.
You can explicitly coerce elements of the kernel into M0 though.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">kernel</span><span class="p">();</span> <span class="n">K</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (2, 16)</span>

<span class="gp">sage: </span><span class="n">M0</span><span class="p">(</span><span class="n">K</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(2, 8)</span>
<span class="gp">sage: </span><span class="n">M0</span><span class="p">(</span><span class="n">K</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(1, 5)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">M0</span><span class="p">(</span><span class="n">K</span><span class="o">.</span><span class="mi">0</span><span class="p">))</span>
<span class="go">(0)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">M0</span><span class="p">(</span><span class="n">K</span><span class="o">.</span><span class="mi">1</span><span class="p">))</span>
<span class="go">(0)</span>
</pre></div>
</div>
<p>We compute the image of f.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">image</span><span class="p">()</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (2)</span>
</pre></div>
</div>
<p>Notice how the elements of the image are written as (0) and (1),
despite the image being naturally a submodule of M1, which has
elements (0), (1), (2), (3), (4), (5).  However, below we coerce the
element (1) of the image into the codomain, and get (3):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">image</span><span class="p">())</span>
<span class="go">[(0), (1)]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="go">[(0), (1), (2), (3), (4), (5)]</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">image</span><span class="p">()</span><span class="o">.</span><span class="mi">0</span><span class="p">;</span> <span class="n">x</span>
<span class="go">(1)</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(3)</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<ul class="simple">
<li><p>William Stein, 2009</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module">
<span class="sig-prename descclassname"><span class="pre">sage.modules.fg_pid.fgp_module.</span></span><span class="sig-name descname"><span class="pre">FGP_Module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">V</span></code> – a free R-module</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">W</span></code> – a free R-submodule of <code class="docutils literal notranslate"><span class="pre">V</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – bool (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>); if <code class="docutils literal notranslate"><span class="pre">True</span></code>, more checks
on correctness are performed; in particular, we check the data
types of <code class="docutils literal notranslate"><span class="pre">V</span></code> and <code class="docutils literal notranslate"><span class="pre">W</span></code>, and that <code class="docutils literal notranslate"><span class="pre">W</span></code> is a submodule of <code class="docutils literal notranslate"><span class="pre">V</span></code>
with the same base ring.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>the quotient <code class="docutils literal notranslate"><span class="pre">V/W</span></code> as a finitely generated R-module</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sage.modules.fg_pid.fgp_module</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">fg_pid</span><span class="o">.</span><span class="n">fgp_module</span><span class="o">.</span><span class="n">FGP_Module</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.modules.fg_pid.fgp_module.FGP_Module_class_with_category&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="ow">is</span> <span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">fg_pid</span><span class="o">.</span><span class="n">fgp_module</span><span class="o">.</span><span class="n">FGP_Module</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.modules.fg_pid.fgp_module.</span></span><span class="sig-name descname"><span class="pre">FGP_Module_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../module.html#sage.modules.module.Module" title="sage.modules.module.Module"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.modules.module.Module</span></code></a></p>
<p>A finitely generated module over a PID presented as a quotient V/W.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">V</span></code> – an R-module</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">W</span></code> – an R-submodule of V</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – bool (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">span</span><span class="p">([[</span><span class="mi">100</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">);</span> <span class="n">A</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (100)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="go">Ambient free module of rank 1 over the principal ideal domain Integer Ring</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">W</span><span class="p">()</span>
<span class="go">Free module of degree 1 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[100]</span>

<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 12)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.modules.fg_pid.fgp_module.FGP_Module_class_with_category&#39;&gt;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.Element">
<span class="sig-name descname"><span class="pre">Element</span></span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="fgp_element.html#sage.modules.fg_pid.fgp_element.FGP_Element" title="sage.modules.fg_pid.fgp_element.FGP_Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.modules.fg_pid.fgp_element.FGP_Element</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.V">
<span class="sig-name descname"><span class="pre">V</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.V" title="Permalink to this definition">¶</a></dt>
<dd><p>If this module was constructed as a quotient V/W, returns V.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0   0]</span>
<span class="go">[  0   1   0]</span>
<span class="go">[  0   0   1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.W">
<span class="sig-name descname"><span class="pre">W</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.W" title="Permalink to this definition">¶</a></dt>
<dd><p>If this module was constructed as a quotient V/W, returns W.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">W</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   8   0]</span>
<span class="go">[  0  12   0]</span>
<span class="go">[  0   0   4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.annihilator">
<span class="sig-name descname"><span class="pre">annihilator</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.annihilator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ideal of the base ring that annihilates self. This
is precisely the ideal generated by the LCM of the invariants
of self if self is finite, and is 0 otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span><span class="o">.</span><span class="n">annihilator</span><span class="p">()</span>
<span class="go">Principal ideal (16) of Integer Ring</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">annihilator</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="go">16</span>

<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">]);</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (0, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">annihilator</span><span class="p">()</span>
<span class="go">Principal ideal (0) of Integer Ring</span>
</pre></div>
</div>
<p>We check that <a class="reference external" href="https://trac.sagemath.org/22720">trac ticket #22720</a> is resolved:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">H</span><span class="o">=</span><span class="n">AdditiveAbelianGroup</span><span class="p">([])</span>
<span class="gp">sage: </span><span class="n">H</span><span class="o">.</span><span class="n">annihilator</span><span class="p">()</span>
<span class="go">Principal ideal (1) of Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.base_ring">
<span class="sig-name descname"><span class="pre">base_ring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.base_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base ring of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.cardinality">
<span class="sig-name descname"><span class="pre">cardinality</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of this module as a set.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]);</span> <span class="n">A</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">A</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (2)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]);</span> <span class="n">A</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">A</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (0)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]);</span> <span class="n">A</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">A</span>
<span class="go">Vector space quotient V/W of dimension 1 over Rational Field where</span>
<span class="go">V: Vector space of dimension 2 over Rational Field</span>
<span class="go">W: Vector space of degree 2 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.construction">
<span class="sig-name descname"><span class="pre">construction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.construction" title="Permalink to this definition">¶</a></dt>
<dd><p>The construction functor and ambient module for <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">A1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">submodule</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">submodule</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">T1</span> <span class="o">=</span> <span class="n">A1</span> <span class="o">/</span> <span class="n">B1</span>
<span class="gp">sage: </span><span class="n">T1</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">(QuotientModuleFunctor,</span>
<span class="go">  Free module of degree 2 and rank 1 over Integer Ring</span>
<span class="go">  Echelon basis matrix:</span>
<span class="go">  [1 0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.coordinate_vector">
<span class="sig-name descname"><span class="pre">coordinate_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return coordinates of x with respect to the optimized
representation of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – element of self</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reduce</span></code> – (default: False); if True, reduce
coefficients modulo invariants; this is
ignored if the base ring is not ZZ.</p></li>
</ul>
<p>OUTPUT:</p>
<p>The coordinates as a vector. That is, the same type as
<code class="docutils literal notranslate"><span class="pre">self.V()</span></code>, but in general with fewer entries.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 0, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="o">-</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(-1, 0, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="o">-</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="nb">reduce</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(3, 0, 0)</span>
</pre></div>
</div>
<p>If x is not in self, it is coerced in:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(1, -3, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">))</span>
<span class="go">(1, -3, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.cover">
<span class="sig-name descname"><span class="pre">cover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.cover" title="Permalink to this definition">¶</a></dt>
<dd><p>If this module was constructed as V/W, returns the cover module V.</p>
<p>This is the same as self.V().</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0   0]</span>
<span class="go">[  0   1   0]</span>
<span class="go">[  0   0   1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.gen">
<span class="sig-name descname"><span class="pre">gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the i-th generator of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> – integer</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 12)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(1, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(0, 1)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Generator 2 not defined</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Generator -1 not defined</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.gens">
<span class="sig-name descname"><span class="pre">gens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tuple of elements <span class="math notranslate nohighlight">\(g_0,...,g_n\)</span> of self such that the module generated by
the gi is isomorphic to the direct sum of R/ei*R, where ei are the
invariants of self and R is the base ring.</p>
<p>Note that these are not generally uniquely determined, and depending on
how Smith normal form is implemented for the base ring, they may not
even be deterministic.</p>
<p>This can safely be overridden in all derived classes.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">((1, 0), (0, 1))</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span>
<span class="go">(1, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.gens_to_smith">
<span class="sig-name descname"><span class="pre">gens_to_smith</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gens_to_smith" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transformation matrix from the user to Smith form generators.</p>
<p>To go in the other direction use <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_to_gens" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_to_gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smith_to_gens()</span></code></a>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>a matrix over the base ring</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="n">IntegralLattice</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">]]))</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">L2</span><span class="o">.</span><span class="n">discriminant_group</span><span class="p">()</span><span class="o">.</span><span class="n">normal_form</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span>
<span class="go">Finite quadratic module over Integer Ring with invariants (3, 6, 12)</span>
<span class="go">Gram matrix of the quadratic form with values in Q/Z:</span>
<span class="go">[1/2   0   0   0   0]</span>
<span class="go">[  0 1/4   0   0   0]</span>
<span class="go">[  0   0 1/3   0   0]</span>
<span class="go">[  0   0   0 1/3   0]</span>
<span class="go">[  0   0   0   0 2/3]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">gens_to_smith</span><span class="p">()</span>
<span class="go">[0 3 0]</span>
<span class="go">[0 0 3]</span>
<span class="go">[0 4 0]</span>
<span class="go">[1 2 0]</span>
<span class="go">[0 0 4]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">gens_to_smith</span><span class="p">()</span><span class="o">*</span><span class="n">D</span><span class="o">.</span><span class="n">smith_to_gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">[ 3  0  3  0  0]</span>
<span class="go">[ 0 33  0  0  3]</span>
<span class="go">[ 4  0  4  0  0]</span>
<span class="go">[ 2  0  3  1  0]</span>
<span class="go">[ 0 44  0  0  4]</span>
</pre></div>
</div>
<p>The matrix <span class="math notranslate nohighlight">\(T\)</span> now satisfies a certain congruence:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">nrows</span><span class="p">()):</span>
<span class="gp">....: </span>    <span class="n">T</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">T</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="n">D</span><span class="o">.</span><span class="n">gens</span><span class="p">()[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">[1 0 0 0 0]</span>
<span class="go">[0 1 0 0 0]</span>
<span class="go">[0 0 1 0 0]</span>
<span class="go">[0 0 0 1 0]</span>
<span class="go">[0 0 0 0 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.gens_vector">
<span class="sig-name descname"><span class="pre">gens_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gens_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return coordinates of x with respect to the generators.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – element of <code class="docutils literal notranslate"><span class="pre">self</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reduce</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); if <code class="docutils literal notranslate"><span class="pre">True</span></code>,
reduce coefficients modulo invariants; this is
ignored if the base ring is not <span class="math notranslate nohighlight">\(\ZZ\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<p>We create a derived class and overwrite <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gens" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.fg_pid.fgp_module</span> <span class="kn">import</span> <span class="n">FGP_Module_class</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">span</span><span class="p">(</span><span class="n">matrix</span><span class="o">.</span><span class="n">diagonal</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">12</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">FGP_with_gens</span><span class="p">(</span><span class="n">FGP_Module_class</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">gens</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">FGP_Module_class</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_gens</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="bp">self</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">gens</span><span class="p">])</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">gens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gens</span>
<span class="gp">sage: </span><span class="n">gens</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">gens</span> <span class="o">=</span> <span class="p">[</span><span class="n">V</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">gens</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">FGP_with_gens</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">gens</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">((0, 3, 0), (0, 0, 3), (0, 4, 0), (1, 2, 0), (0, 0, 8))</span>
</pre></div>
</div>
<p>We create some element of D:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">x</span>
<span class="go">(1, 2, 3)</span>
</pre></div>
</div>
<p>In our generators:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">gens_vector</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span>
<span class="go">(2, 9, 3, 1, 33)</span>
</pre></div>
</div>
<p>The output can be further reduced:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">gens_vector</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">reduce</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(0, 1, 0, 1, 0)</span>
</pre></div>
</div>
<p>Let us check:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">gens</span><span class="p">())))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.has_canonical_map_to">
<span class="sig-name descname"><span class="pre">has_canonical_map_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.has_canonical_map_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self has a canonical map to A, relative to the
given presentation of A.</p>
<p>This means that A is a finitely
generated quotient module, self.V() is a submodule of A.V()
and self.W() is a submodule of A.W(), i.e., that there is a
natural map induced by inclusion of the V’s. Note that we do
<em>not</em> require that this natural map be injective; for this use
<a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.is_submodule" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.is_submodule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_submodule()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 12)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">submodule</span><span class="p">((</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">Q</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">));</span> <span class="n">A</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 4)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">has_canonical_map_to</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">has_canonical_map_to</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.hom">
<span class="sig-name descname"><span class="pre">hom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im_gens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codomain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.hom" title="Permalink to this definition">¶</a></dt>
<dd><p>Homomorphism defined by giving the images of <code class="docutils literal notranslate"><span class="pre">self.gens()</span></code> in some
fixed fg R-module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We do not assume that the generators given by <code class="docutils literal notranslate"><span class="pre">self.gens()</span></code> are
the same as the Smith form generators, since this may not be true
for a general derived class.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">im_gens</span></code> – a list of the images of <code class="docutils literal notranslate"><span class="pre">self.gens()</span></code> in some
R-module</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="mi">3</span><span class="o">*</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi</span>
<span class="go">Morphism from module over Integer Ring with invariants (4, 12) to module with invariants (4, 12) that sends the generators to [(0, 3), (1, 0)]</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 3)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(1, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span> <span class="o">==</span> <span class="n">phi</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>This example illustrates creating a morphism to a free module.
The free module is turned into an FGP module (i.e., quotient
V/W with W=0), and the morphism is constructed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (2, 0, 0)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">]);</span> <span class="n">phi</span>
<span class="go">Morphism from module over Integer Ring with invariants (2, 0, 0) to module with invariants (0, 0, 0) that sends the generators to [(0, 0, 0), (1, 0, 0), (0, 1, 0)]</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (2, 0, 0)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(1, 0, 0)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">V</span><span class="o">.</span><span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Constructing two zero maps from the zero module:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">A</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants ()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([])</span>
<span class="go">Morphism from module over Integer Ring with invariants () to module with invariants () that sends the generators to []</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([])</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span> <span class="ow">is</span> <span class="n">A</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([],</span><span class="n">codomain</span><span class="o">=</span><span class="n">B</span><span class="p">)</span>
<span class="go">Morphism from module over Integer Ring with invariants () to module with invariants () that sends the generators to []</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([],</span><span class="n">codomain</span><span class="o">=</span><span class="n">B</span><span class="p">);</span> <span class="n">phi</span>
<span class="go">Morphism from module over Integer Ring with invariants () to module with invariants () that sends the generators to []</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">()</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">==</span> <span class="n">B</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A degenerate case:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([]);</span> <span class="n">phi</span>
<span class="go">Morphism from module over Integer Ring with invariants () to module with invariants () that sends the generators to []</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">()</span>
</pre></div>
</div>
<p>The code checks that the morphism is valid.  In the example
below we try to send a generator of order 2 to an element of
order 14:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">14</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mi">14</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (2, 14)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">])</span><span class="o">.</span><span class="n">additive_order</span><span class="p">()</span>
<span class="go">14</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">Q</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">]),</span> <span class="n">Q</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">])]);</span> <span class="n">f</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: phi must send optimized submodule of M.W() into N.W()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.invariants">
<span class="sig-name descname"><span class="pre">invariants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_ones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.invariants" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the diagonal entries of the smith form of the relative
matrix that defines self (see <code class="xref py py-meth docutils literal notranslate"><span class="pre">_relative_matrix()</span></code>)
padded with zeros, excluding 1’s by default.   Thus if v is the
list of integers returned, then self is abstractly isomorphic to
the product of cyclic groups <span class="math notranslate nohighlight">\(Z/nZ\)</span> where <span class="math notranslate nohighlight">\(n\)</span> is in <span class="math notranslate nohighlight">\(v\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">include_ones</span></code> – bool (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); if <code class="docutils literal notranslate"><span class="pre">True</span></code>, also
include 1’s in the output list.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">invariants</span><span class="p">()</span>
<span class="go">(4, 12)</span>
</pre></div>
</div>
<p>An example with 1 and 0 rows:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span> <span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">invariants</span><span class="p">()</span>
<span class="go">(0,)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">invariants</span><span class="p">(</span><span class="n">include_ones</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(1, 1, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.is_finite">
<span class="sig-name descname"><span class="pre">is_finite</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.is_finite" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self is finite and False otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 16)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">is_finite</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">V</span><span class="o">.</span><span class="n">zero_submodule</span><span class="p">();</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">is_finite</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.is_submodule">
<span class="sig-name descname"><span class="pre">is_submodule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.is_submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> is a submodule of <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
<p>More precisely, this returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self.V()</span></code> is a
submodule of <code class="docutils literal notranslate"><span class="pre">A.V()</span></code>, with <code class="docutils literal notranslate"><span class="pre">self.W()</span></code> equal to <code class="docutils literal notranslate"><span class="pre">A.W()</span></code>.</p>
<p>Compare <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.has_canonical_map_to" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.has_canonical_map_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_canonical_map_to()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]);</span> <span class="n">W2</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">W</span><span class="o">/</span><span class="n">W2</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W2</span><span class="p">;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">W</span><span class="o">/</span><span class="n">W2</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>This example illustrates that this command works in a subtle cases.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">Q3</span> <span class="o">=</span> <span class="n">A</span> <span class="o">/</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Q6</span> <span class="o">=</span> <span class="n">A</span> <span class="o">/</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Q6</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">Q3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">Q6</span><span class="o">.</span><span class="n">has_canonical_map_to</span><span class="p">(</span><span class="n">Q3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">]])</span> <span class="o">/</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">Q6</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.linear_combination_of_smith_form_gens">
<span class="sig-name descname"><span class="pre">linear_combination_of_smith_form_gens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.linear_combination_of_smith_form_gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a linear combination of the optimised generators of this module
as returned by <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gens" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smith_form_gens()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">span</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="go">(1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.list">
<span class="sig-name descname"><span class="pre">list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the elements of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">)</span>
<span class="go">[(0), (1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.ngens">
<span class="sig-name descname"><span class="pre">ngens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.ngens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of generators of self.</p>
<p>(Note for developers: This is just the length of <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gens" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens()</span></code></a>, rather
than of the minimal set of generators as returned by
<a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gens" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">smith_form_gens()</span></code></a>; these are the same in the
<a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class" title="sage.modules.fg_pid.fgp_module.FGP_Module_class"><code class="xref py py-class docutils literal notranslate"><span class="pre">FGP_Module_class</span></code></a>, but not
necessarily in derived classes.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">span</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<p>This works (but please do not do it in production code!)</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">gens</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;Barcelona!&quot;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.optimized">
<span class="sig-name descname"><span class="pre">optimized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.optimized" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a module isomorphic to this one, but with V replaced by
a submodule of V such that the generators of self all lift
trivially to generators of V.  Replace W by the intersection
of V and W. This has the advantage that V has small dimension
and any homomorphism from self trivially extends to a
homomorphism from V.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code> – an optimized quotient V0/W0 with V0 a submodule of V
such that phi: V0/W0 –&gt; V/W is an isomorphism</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Z</span></code> – matrix such that if x is in self.V() and
c gives the coordinates of x in terms of the
basis for self.V(), then c*Z is in V0
and c*Z maps to x via phi above.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">O</span><span class="p">,</span> <span class="n">X</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">optimized</span><span class="p">();</span> <span class="n">O</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 12)</span>
<span class="gp">sage: </span><span class="n">O</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 0  3  1]</span>
<span class="go">[ 0 -1  0]</span>
<span class="gp">sage: </span><span class="n">O</span><span class="o">.</span><span class="n">W</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 0 12  0]</span>
<span class="go">[ 0  0  4]</span>
<span class="gp">sage: </span><span class="n">X</span>         <span class="c1"># random</span>
<span class="go">[0 4 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
<span class="gp">sage: </span><span class="n">OV</span> <span class="o">=</span> <span class="n">O</span><span class="o">.</span><span class="n">V</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="p">(</span><span class="n">OV</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="n">V</span><span class="o">.</span><span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="p">(</span><span class="n">OV</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="n">V</span><span class="o">.</span><span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="p">(</span><span class="n">OV</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span> <span class="o">==</span> <span class="n">V</span><span class="o">.</span><span class="mi">2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.random_element">
<span class="sig-name descname"><span class="pre">random_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.random_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a random element of self=V/W, by creating a random element of V and
reducing it modulo W.</p>
<p>All arguments are passed onto the random_element method of V.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Q</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">48</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">48</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">S</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Q</span><span class="o">.</span><span class="n">random_element</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.relations">
<span class="sig-name descname"><span class="pre">relations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.relations" title="Permalink to this definition">¶</a></dt>
<dd><p>If this module was constructed as V/W, returns the relations module V.</p>
<p>This is the same as self.W().</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">relations</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   8   0]</span>
<span class="go">[  0  12   0]</span>
<span class="go">[  0   0   4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gen">
<span class="sig-name descname"><span class="pre">smith_form_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the i-th generator of self. A private name (so we can freely
override gen() in derived classes).</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> – integer</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 12)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">smith_form_gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(1, 0)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">smith_form_gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(0, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gens">
<span class="sig-name descname"><span class="pre">smith_form_gens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_form_gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of generators for self which are in Smith normal form.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">smith_form_gens</span><span class="p">()</span>
<span class="go">((1, 0), (0, 1))</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">Q</span><span class="o">.</span><span class="n">smith_form_gens</span><span class="p">()]</span>
<span class="go">[(0, 3, 1), (0, -1, 0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_to_gens">
<span class="sig-name descname"><span class="pre">smith_to_gens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.smith_to_gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transformation matrix from Smith form to user generators.</p>
<p>To go in the other direction use <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.gens_to_smith" title="sage.modules.fg_pid.fgp_module.FGP_Module_class.gens_to_smith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens_to_smith()</span></code></a>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>a matrix over the base ring</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="n">IntegralLattice</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">]]))</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">L2</span><span class="o">.</span><span class="n">discriminant_group</span><span class="p">()</span><span class="o">.</span><span class="n">normal_form</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span>
<span class="go">Finite quadratic module over Integer Ring with invariants (3, 6, 12)</span>
<span class="go">Gram matrix of the quadratic form with values in Q/Z:</span>
<span class="go">[1/2   0   0   0   0]</span>
<span class="go">[  0 1/4   0   0   0]</span>
<span class="go">[  0   0 1/3   0   0]</span>
<span class="go">[  0   0   0 1/3   0]</span>
<span class="go">[  0   0   0   0 2/3]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">smith_to_gens</span><span class="p">()</span>
<span class="go">[ 0  0  1  1  0]</span>
<span class="go">[ 1  0  1  0  0]</span>
<span class="go">[ 0 11  0  0  1]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">smith_to_gens</span><span class="p">()</span><span class="o">*</span><span class="n">D</span><span class="o">.</span><span class="n">gens_to_smith</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">[ 1  6  0]</span>
<span class="go">[ 0  7  0]</span>
<span class="go">[ 0  0 37]</span>
</pre></div>
</div>
<p>This matrix satisfies the congruence:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">ncols</span><span class="p">()):</span>
<span class="gp">....: </span>    <span class="n">T</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">T</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="n">D</span><span class="o">.</span><span class="n">smith_form_gens</span><span class="p">()[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
<p>We create some element of our FGP_module:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">linear_combination_of_smith_form_gens</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">x</span>
<span class="go">(1, 2, 3)</span>
</pre></div>
</div>
<p>and want to know some (it is not unique) linear combination
of the user defined generators that is x:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">vector</span><span class="p">()</span> <span class="o">*</span> <span class="n">D</span><span class="o">.</span><span class="n">smith_to_gens</span><span class="p">()</span>
<span class="go">(2, 33, 3, 1, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.FGP_Module_class.submodule">
<span class="sig-name descname"><span class="pre">submodule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.FGP_Module_class.submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submodule defined by x.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – list, tuple, or FGP module</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 12)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">((1, 0), (0, 1))</span>
</pre></div>
</div>
<p>We create submodules generated by a list or tuple of elements:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">])</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">])</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (12)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">submodule</span><span class="p">((</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">Q</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">))</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 4)</span>
</pre></div>
</div>
<p>A submodule defined by a submodule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">submodule</span><span class="p">((</span><span class="n">Q</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">Q</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">Q</span><span class="o">.</span><span class="mi">1</span><span class="p">));</span> <span class="n">A</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 4)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">submodule</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (4, 4)</span>
</pre></div>
</div>
<p>Inclusion is checked:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">submodule</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: x.V() must be contained in self&#39;s V.</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.is_FGP_Module">
<span class="sig-prename descclassname"><span class="pre">sage.modules.fg_pid.fgp_module.</span></span><span class="sig-name descname"><span class="pre">is_FGP_Module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.is_FGP_Module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true of x is an FGP module, i.e., a finitely generated
module over a PID represented as a quotient of finitely generated
free modules over a PID.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">]);</span> <span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">/</span><span class="n">W</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">fg_pid</span><span class="o">.</span><span class="n">fgp_module</span><span class="o">.</span><span class="n">is_FGP_Module</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">fg_pid</span><span class="o">.</span><span class="n">fgp_module</span><span class="o">.</span><span class="n">is_FGP_Module</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.random_fgp_module">
<span class="sig-prename descclassname"><span class="pre">sage.modules.fg_pid.fgp_module.</span></span><span class="sig-name descname"><span class="pre">random_fgp_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n</span></em>, <em class="sig-param"><span class="pre">R=Integer</span> <span class="pre">Ring</span></em>, <em class="sig-param"><span class="pre">finite=False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.random_fgp_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random FGP module inside a rank n free module over R.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – nonnegative integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code> – base ring (default: ZZ)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">finite</span></code> – bool (default: True); if True, make the random module finite.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sage.modules.fg_pid.fgp_module</span> <span class="kn">as</span> <span class="nn">fgp</span>
<span class="gp">sage: </span><span class="n">fgp</span><span class="o">.</span><span class="n">random_fgp_module</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (...)</span>
</pre></div>
</div>
<p>In most cases the cardinality is small or infinite:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">+</span><span class="n">Infinity</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">while</span> <span class="n">fgp</span><span class="o">.</span><span class="n">random_fgp_module</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="k">pass</span>
</pre></div>
</div>
<p>One can force a finite module:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fgp</span><span class="o">.</span><span class="n">random_fgp_module</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">finite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">is_finite</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Larger finite modules appear:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">while</span> <span class="n">fgp</span><span class="o">.</span><span class="n">random_fgp_module</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">finite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.random_fgp_morphism_0">
<span class="sig-prename descclassname"><span class="pre">sage.modules.fg_pid.fgp_module.</span></span><span class="sig-name descname"><span class="pre">random_fgp_morphism_0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.random_fgp_morphism_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a random fgp module using random_fgp_module,
then construct a random morphism that sends each generator
to a random multiple of itself.</p>
<p>Inputs are the same as to <a class="reference internal" href="#sage.modules.fg_pid.fgp_module.random_fgp_module" title="sage.modules.fg_pid.fgp_module.random_fgp_module"><code class="xref py py-func docutils literal notranslate"><span class="pre">random_fgp_module()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sage.modules.fg_pid.fgp_module</span> <span class="kn">as</span> <span class="nn">fgp</span>
<span class="gp">sage: </span><span class="n">mor</span> <span class="o">=</span> <span class="n">fgp</span><span class="o">.</span><span class="n">random_fgp_morphism_0</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mor</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span> <span class="o">==</span> <span class="n">mor</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fgp</span><span class="o">.</span><span class="n">is_FGP_Module</span><span class="p">(</span><span class="n">mor</span><span class="o">.</span><span class="n">domain</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Each generator is sent to a random multiple of itself:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">gens</span> <span class="o">=</span> <span class="n">mor</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">im_gens</span> <span class="o">=</span> <span class="n">mor</span><span class="o">.</span><span class="n">im_gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">im_gens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">(</span><span class="n">im_gens</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">*</span><span class="n">gens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">gens</span><span class="p">)))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.modules.fg_pid.fgp_module.test_morphism_0">
<span class="sig-prename descclassname"><span class="pre">sage.modules.fg_pid.fgp_module.</span></span><span class="sig-name descname"><span class="pre">test_morphism_0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.fg_pid.fgp_module.test_morphism_0" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sage.modules.fg_pid.fgp_module</span> <span class="kn">as</span> <span class="nn">fgp</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># we set a seed so results clearly and easily reproducible across runs.</span>
<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgp</span><span class="o">.</span><span class="n">test_morphism_0</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgp</span><span class="o">.</span><span class="n">test_morphism_0</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgp</span><span class="o">.</span><span class="n">test_morphism_0</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgp</span><span class="o">.</span><span class="n">test_morphism_0</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgp</span><span class="o">.</span><span class="n">test_morphism_0</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)]</span>    <span class="c1"># long time</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../matrix_morphism.html"
                        title="previous chapter">Morphisms defined by a matrix</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fgp_element.html"
                        title="next chapter">Elements of finitely generated modules over a PID</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/sage/modules/fg_pid/fgp_module.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fgp_element.html" title="Elements of finitely generated modules over a PID"
             >next</a> |</li>
        <li class="right" >
          <a href="../matrix_morphism.html" title="Morphisms defined by a matrix"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.4 Reference Manual: Modules</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Finitely generated modules over a PID</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2021, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.1.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>