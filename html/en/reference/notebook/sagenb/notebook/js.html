
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>JavaScript (AJAX) Components of the Notebook &#8212; Sage Reference Manual v8.3: The Sage Notebook</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Notebook Stylesheets (CSS)" href="css.html" />
    <link rel="prev" title="The Sage Notebook" href="notebook.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="css.html" title="Notebook Stylesheets (CSS)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="notebook.html" title="The Sage Notebook"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">The Sage Notebook</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="javascript-ajax-components-of-the-notebook">
<span id="sagenb-notebook-js"></span><h1>JavaScript (AJAX) Components of the Notebook<a class="headerlink" href="#javascript-ajax-components-of-the-notebook" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sagenb.notebook.js"></span><p>JavaScript (AJAX) Components of the Notebook</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>William Stein</li>
<li>Tom Boothby</li>
<li>Alex Clemesha</li>
</ul>
<p>This file contains some minimal code to generate the Javascript code
which is inserted to the head of the notebook web page.  All of the
interesting Javascript code is contained under
<code class="docutils literal notranslate"><span class="pre">data/sage/js/notebook_lib.js</span></code>.</p>
<dl class="class">
<dt id="sagenb.notebook.js.JSKeyCode">
<em class="property">class </em><code class="descclassname">sagenb.notebook.js.</code><code class="descname">JSKeyCode</code><span class="sig-paren">(</span><em>key</em>, <em>alt</em>, <em>ctrl</em>, <em>shift</em><span class="sig-paren">)</span><a class="headerlink" href="#sagenb.notebook.js.JSKeyCode" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="sagenb.notebook.js.JSKeyCode.js_test">
<code class="descname">js_test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sagenb.notebook.js.JSKeyCode.js_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sagenb.notebook.js.JSKeyHandler">
<em class="property">class </em><code class="descclassname">sagenb.notebook.js.</code><code class="descname">JSKeyHandler</code><a class="headerlink" href="#sagenb.notebook.js.JSKeyHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to make javascript functions to check 
for specific keyevents.</p>
<dl class="method">
<dt id="sagenb.notebook.js.JSKeyHandler.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>name</em>, <em>key=''</em>, <em>alt=False</em>, <em>ctrl=False</em>, <em>shift=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sagenb.notebook.js.JSKeyHandler.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">set_key(...)</span></code>, but this instead checks if
there is an existing keycode by the specified name, and
associates the specified key combination to that name in
addition.  This way, if different browsers don’t catch one
keycode, multiple keycodes can be assigned to the same test.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.js.JSKeyHandler.all_tests">
<code class="descname">all_tests</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sagenb.notebook.js.JSKeyHandler.all_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds all tests currently in the handler.  Returns a string
of javascript code which defines all functions.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.js.JSKeyHandler.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>name</em>, <em>key=''</em>, <em>alt=False</em>, <em>ctrl=False</em>, <em>shift=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sagenb.notebook.js.JSKeyHandler.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a named keycode to the handler.  When built by
<code class="docutils literal notranslate"><span class="pre">all_tests()</span></code>, it can be called in javascript by
<code class="docutils literal notranslate"><span class="pre">key_&lt;key_name&gt;(event_object)</span></code>.  The function returns
true if the keycode numbered by the <code class="docutils literal notranslate"><span class="pre">key</span></code> parameter was
pressed with the appropriate modifier keys, false otherwise.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.js.javascript">
<code class="descclassname">sagenb.notebook.js.</code><code class="descname">javascript</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sagenb.notebook.js.javascript" title="Permalink to this definition">¶</a></dt>
<dd><p>Return javascript library for the Sage Notebook.  This is done by
reading the template <code class="docutils literal notranslate"><span class="pre">notebook_lib.js</span></code> where all of the
javascript code is contained and replacing a few of the values
specific to the running session.</p>
<p>Before the code is returned (as a string), it is run through a
JavascriptCompressor to minimize the amount of data needed to be
sent to the browser.</p>
<p>The code and a hash of the code is returned.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This the output of this function is cached so that it only
needs to be generated once.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sagenb.notebook.js</span> <span class="kn">import</span> <span class="n">javascript</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">javascript</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="mi">30</span><span class="p">]</span>
<span class="go">&#39;/* JavaScriptCompressor 0.1 [w&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="notebook.html"
                        title="previous chapter">The Sage Notebook</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="css.html"
                        title="next chapter">Notebook Stylesheets (CSS)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sagenb/notebook/js.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="css.html" title="Notebook Stylesheets (CSS)"
             >next</a> |</li>
        <li class="right" >
          <a href="notebook.html" title="The Sage Notebook"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">The Sage Notebook</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2018, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>