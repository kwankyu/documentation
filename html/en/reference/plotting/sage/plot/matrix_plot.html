
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Matrix Plots &#8212; 2D Graphics</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Arcs of circles and ellipses" href="arc.html" />
    <link rel="prev" title="Graph Plotting" href="../graphs/graph_plot.html" />
  <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="../../../_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="../../../_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="arc.html" title="Arcs of circles and ellipses"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../graphs/graph_plot.html" title="Graph Plotting"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../index.html">2D Graphics</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Matrix Plots</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="matrix-plots">
<span id="sage-plot-matrix-plot"></span><h1>Matrix Plots<a class="headerlink" href="#matrix-plots" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.plot.matrix_plot"></span><dl class="py class">
<dt class="sig sig-object py" id="sage.plot.matrix_plot.MatrixPlot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.plot.matrix_plot.</span></span><span class="sig-name descname"><span class="pre">MatrixPlot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy_data_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xrange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yrange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.matrix_plot.MatrixPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="primitive.html#sage.plot.primitive.GraphicPrimitive" title="sage.plot.primitive.GraphicPrimitive"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.plot.primitive.GraphicPrimitive</span></code></a></p>
<p>Primitive class for the matrix plot graphics type.  See
<code class="docutils literal notranslate"><span class="pre">matrix_plot?</span></code> for help actually doing matrix plots.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xy_data_array</span></code> - list of lists giving matrix values corresponding to
the grid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xrange</span></code> - tuple of 2 floats indicating range for horizontal direction
(number of columns in the matrix). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the defaults are used as
indicated in <a class="reference internal" href="#sage.plot.matrix_plot.matrix_plot" title="sage.plot.matrix_plot.matrix_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">matrix_plot()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yrange</span></code> - tuple of 2 floats indicating range for vertical direction
(number of rows in the matrix). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the defaults are used as
indicated in <a class="reference internal" href="#sage.plot.matrix_plot.matrix_plot" title="sage.plot.matrix_plot.matrix_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">matrix_plot()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> - dict of valid plot options to pass to constructor</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Note this should normally be used indirectly via <a class="reference internal" href="#sage.plot.matrix_plot.matrix_plot" title="sage.plot.matrix_plot.matrix_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">matrix_plot()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.matrix_plot</span> <span class="kn">import</span> <span class="n">MatrixPlot</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixPlot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cmap&#39;</span><span class="p">:</span><span class="s1">&#39;winter&#39;</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">MatrixPlot defined by a 2 x 2 data grid</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">yrange</span>
<span class="go">(2, 3)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">xy_data_array</span>
<span class="go">[[1, 3], [2, 4]]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">{&#39;cmap&#39;: &#39;winter&#39;}</span>
</pre></div>
</div>
<p>Extra options will get passed on to <a class="reference internal" href="graphics.html#sage.plot.graphics.Graphics.show" title="sage.plot.graphics.Graphics.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code></a>, as long as they are valid:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># These are equivalent</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.matrix_plot.MatrixPlot.get_minmax_data">
<span class="sig-name descname"><span class="pre">get_minmax_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.matrix_plot.MatrixPlot.get_minmax_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with the bounding box data.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">get_minmax_data</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
<span class="go">[(&#39;xmax&#39;, 3.5), (&#39;xmin&#39;, -0.5), (&#39;ymax&#39;, 2.5), (&#39;ymin&#39;, -0.5)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.plot.matrix_plot.matrix_plot">
<span class="sig-prename descclassname"><span class="pre">sage.plot.matrix_plot.</span></span><span class="sig-name descname"><span class="pre">matrix_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Greys'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdivisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ticks_integer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdivision_boundaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdivision_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar_orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vertical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.matrix_plot.matrix_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>A plot of a given matrix or 2D array.</p>
<p>If the matrix is sparse, colors only indicate whether an element is
nonzero or zero, so the plot represents the sparsity pattern of the
matrix.</p>
<p>If the matrix is dense, each matrix element is given a different
color value depending on its relative size compared to the other
elements in the matrix.</p>
<p>The default is for the lowest number to be black and the highest
number to be white in a greyscale pattern; see the information about
normalizing below. To reverse this, use <code class="docutils literal notranslate"><span class="pre">cmap='Greys'</span></code>.</p>
<p>The tick marks drawn on the frame axes denote the row numbers
(vertical ticks) and the column numbers (horizontal ticks) of the
matrix.</p>
<p>INPUT:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mat</span></code> - a 2D matrix or array</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xrange</span></code> - (default: None) tuple of the horizontal extent
<code class="docutils literal notranslate"><span class="pre">(xmin,</span> <span class="pre">xmax)</span></code> of the bounding box in which to draw the matrix.  The
image is stretched individually along x and y to fill the box.</p>
<p>If None, the extent is determined by the following conditions.  Matrix
entries have unit size in data coordinates.  Their centers are on integer
coordinates, and their center coordinates range from 0 to columns-1
horizontally and from 0 to rows-1 vertically.</p>
<p>If the matrix is sparse, this keyword is ignored.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">yrange</span></code> - (default: None) tuple of the vertical extent
<code class="docutils literal notranslate"><span class="pre">(ymin,</span> <span class="pre">ymax)</span></code> of the bounding box in which to draw the matrix.
See <code class="docutils literal notranslate"><span class="pre">xrange</span></code> for details.</p></li>
</ul>
<p>The following input must all be passed in as named parameters, if
default not used:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">cmap</span></code> - a colormap (default: ‘Greys’), the name of a predefined
colormap, a list of colors, or an instance of a matplotlib Colormap.</p>
<p>The list of predefined color maps can be visualized in <a class="reference external" href="https://matplotlib.org/examples/color/colormaps_reference.html">matplotlib’s
documentation</a>. You
can also type <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">matplotlib.cm;</span> <span class="pre">matplotlib.cm.datad.keys()</span></code> to list
their names.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">colorbar</span></code> – boolean (default: False) Show a colorbar or not (dense matrices only).</p>
<p>The following options are used to adjust the style and placement
of colorbars.  They have no effect if a colorbar is not shown.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">colorbar_orientation</span></code> – string (default: ‘vertical’),
controls placement of the colorbar, can be either ‘vertical’
or ‘horizontal’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colorbar_format</span></code> – a format string, this is used to format
the colorbar labels.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colorbar_options</span></code> – a dictionary of options for the matplotlib
colorbar API.  Documentation for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.colorbar</span></code> module
has details.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">norm</span></code> - If None (default), the value range is scaled to the interval
[0,1].  If ‘value’, then the actual value is used with no
scaling.  A <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.colors.Normalize</span></code> instance may
also passed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vmin</span></code> - The minimum value (values below this are set to this value)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vmax</span></code> - The maximum value (values above this are set to this value)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flip_y</span></code> - (default: True) boolean.  If False, the first row of the
matrix is on the bottom of the graph.  Otherwise, the first row is on the
top of the graph.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subdivisions</span></code> - If True, plot the subdivisions of the matrix as lines.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subdivision_boundaries</span></code> - a list of lists in the form
<code class="docutils literal notranslate"><span class="pre">[row_subdivisions,</span> <span class="pre">column_subdivisions]</span></code>, which specifies
the row and column subdivisions to use.  If not specified,
defaults to the matrix subdivisions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subdivision_style</span></code> - a dictionary of properties passed
on to the <a class="reference internal" href="line.html#sage.plot.line.line2d" title="sage.plot.line.line2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">line2d()</span></code></a> command for plotting
subdivisions.  If this is a two-element list or tuple, then it
specifies the styles of row and column divisions, respectively.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>A matrix over <span class="math notranslate nohighlight">\(\ZZ\)</span> colored with different grey levels:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]]))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<figure class="align-default">
<img alt="../../_images/matrix_plot-1.svg" class="plot-directive" src="../../_images/matrix_plot-1.svg" /></figure>
<p>Here we make a random matrix over <span class="math notranslate nohighlight">\(\RR\)</span> and use <code class="docutils literal notranslate"><span class="pre">cmap='hsv'</span></code>
to color the matrix elements different RGB colors:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;hsv&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>By default, entries are scaled to the interval [0,1] before
determining colors from the color map.  That means the two plots
below are the same:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>However, we can specify which values scale to 0 or 1 with the
<code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code> parameters (values outside the range are
clipped).  The two plots below are now distinguished:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We can also specify a norm function of ‘value’, which means that
there is no scaling performed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="mf">.05</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Matrix subdivisions can be plotted as well:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">subdivisions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">subdivision_style</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>You can also specify your own subdivisions and separate styles
for row or column subdivisions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">subdivisions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">subdivision_boundaries</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span> <span class="n">subdivision_style</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span><span class="nb">dict</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">6</span><span class="p">)])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Generally matrices are plotted with the (0,0) entry in the upper
left.  However, sometimes if we are plotting an image, we’d like
the (0,0) entry to be in the lower left.  We can do that with the
<code class="docutils literal notranslate"><span class="pre">flip_y</span></code> argument:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">flip_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>A custom bounding box in which to draw the matrix can be specified using
the <code class="docutils literal notranslate"><span class="pre">xrange</span></code> and <code class="docutils literal notranslate"><span class="pre">yrange</span></code> arguments:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">xrange</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="p">),</span> <span class="n">yrange</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">get_minmax_data</span><span class="p">()</span>
<span class="go">{&#39;xmax&#39;: 3.14159..., &#39;xmin&#39;: 0.0, &#39;ymax&#39;: 0.0, &#39;ymin&#39;: -3.14159...}</span>
</pre></div>
</div>
<p>If the horizontal and vertical dimension of the image are very different,
the default <code class="docutils literal notranslate"><span class="pre">aspect_ratio=1</span></code> may be unsuitable and can be changed to
<code class="docutils literal notranslate"><span class="pre">automatic</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">....: </span>            <span class="n">aspect_ratio</span><span class="o">=</span><span class="s1">&#39;automatic&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Another random plot, but over <span class="math notranslate nohighlight">\(\GF{389}\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">389</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Oranges&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>It also works if you lift it to the polynomial ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">389</span><span class="p">)[</span><span class="s1">&#39;x&#39;</span><span class="p">]),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Oranges&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We have several options for colorbars:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colorbar_orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colorbar_format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>The length of a color bar and the length of the adjacent
matrix plot dimension may be quite different.  This example
shows how to adjust the length of the colorbar by passing a
dictionary of options to the matplotlib colorbar routines.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colorbar_orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span>
<span class="gp">....: </span>       <span class="n">colorbar_options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;shrink&#39;</span><span class="p">:</span><span class="mf">0.50</span><span class="p">})</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Here we plot a random sparse matrix:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sparse</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="nb">dict</span><span class="p">([((</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]))</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">sparse</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">100000</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">.00001</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>As with dense matrices, sparse matrix entries are automatically
converted to floating point numbers before plotting.  Thus the
following works:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>While this returns an error:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: cannot convert entries to floating point numbers</span>
</pre></div>
</div>
<p>To plot the absolute value of a complex matrix, use the
<code class="docutils literal notranslate"><span class="pre">apply_map</span></code> method:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">apply_map</span><span class="p">(</span><span class="nb">abs</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Plotting lists of lists also works:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>As does plotting of NumPy arrays:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>A plot title can be added to the matrix plot.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">flip_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;not identity&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>The title position is adjusted upwards if the <code class="docutils literal notranslate"><span class="pre">flip_y</span></code> keyword is set
to True (this is the default).:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../graphs/graph_plot.html"
                          title="previous chapter">Graph Plotting</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="arc.html"
                          title="next chapter">Arcs of circles and ellipses</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/plot/matrix_plot.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="arc.html" title="Arcs of circles and ellipses"
             >next</a> |</li>
        <li class="right" >
          <a href="../graphs/graph_plot.html" title="Graph Plotting"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../index.html">2D Graphics</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Matrix Plots</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>