
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Plotting utilities &#8212; 2D Graphics</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="prev" title="Plotting primitives" href="primitive.html" />
  <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="../../../_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="../../../_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="primitive.html" title="Plotting primitives"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../index.html">2D Graphics</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Plotting utilities</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="plotting-utilities">
<span id="sage-plot-misc"></span><h1>Plotting utilities<a class="headerlink" href="#plotting-utilities" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.plot.misc"></span><dl class="py class">
<dt class="sig sig-object py" id="sage.plot.misc.FastCallablePlotWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.plot.misc.</span></span><span class="sig-name descname"><span class="pre">FastCallablePlotWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imag_tol</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.misc.FastCallablePlotWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../misc/sage/ext/fast_callable.html#sage.ext.fast_callable.FastCallableFloatWrapper" title="(in Utilities v9.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.ext.fast_callable.FastCallableFloatWrapper</span></code></a></p>
<p>A fast-callable wrapper for plotting that returns <code class="docutils literal notranslate"><span class="pre">nan</span></code> instead
of raising an error whenever the imaginary tolerance is exceeded.</p>
<p>A detailed rationale for this can be found in the superclass
documentation.</p>
<p>EXAMPLES:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">float</span></code> incarnation of “not a number” is returned instead
of an error being thrown if the answer is complex:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.misc</span> <span class="kn">import</span> <span class="n">FastCallablePlotWrapper</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ff</span> <span class="o">=</span> <span class="n">fast_callable</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">domain</span><span class="o">=</span><span class="n">CDF</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fff</span> <span class="o">=</span> <span class="n">FastCallablePlotWrapper</span><span class="p">(</span><span class="n">ff</span><span class="p">,</span> <span class="n">imag_tol</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fff</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">sage: </span><span class="n">fff</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">nan</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.plot.misc.get_matplotlib_linestyle">
<span class="sig-prename descclassname"><span class="pre">sage.plot.misc.</span></span><span class="sig-name descname"><span class="pre">get_matplotlib_linestyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linestyle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.misc.get_matplotlib_linestyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which translates between matplotlib linestyle in short notation
(i.e. ‘-’, ‘–’, ‘:’, ‘-.’) and long notation (i.e. ‘solid’, ‘dashed’,
‘dotted’, ‘dashdot’ ).</p>
<p>If linestyle is none of these allowed options, the function raises
a ValueError.</p>
<p>INPUT:</p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">linestyle</span></code> - The style of the line, which is one of</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;-&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;solid&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;--&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dashed&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;-.&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dash</span> <span class="pre">dot&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;:&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dotted&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;None&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> (nothing)</p></li>
</ul>
<p>The linestyle can also be prefixed with a drawing style (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;steps--&quot;</span></code>)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code> (connect the points with straight lines)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;steps&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;steps-pre&quot;</span></code> (step function; horizontal
line is to the left of point)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;steps-mid&quot;</span></code> (step function; points are in the middle of
horizontal lines)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;steps-post&quot;</span></code> (step function; horizontal line is to the
right of point)</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">linestyle</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (of type NoneType), then we return it
back unmodified.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">return_type</span></code> - The type of linestyle that should be output. This
argument takes only two values - <code class="docutils literal notranslate"><span class="pre">&quot;long&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;short&quot;</span></code>.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Here is an example how to call this function:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.misc</span> <span class="kn">import</span> <span class="n">get_matplotlib_linestyle</span>
<span class="gp">sage: </span><span class="n">get_matplotlib_linestyle</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s1">&#39;short&#39;</span><span class="p">)</span>
<span class="go">&#39;:&#39;</span>

<span class="gp">sage: </span><span class="n">get_matplotlib_linestyle</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s1">&#39;long&#39;</span><span class="p">)</span>
<span class="go">&#39;dotted&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.plot.misc.setup_for_eval_on_grid">
<span class="sig-prename descclassname"><span class="pre">sage.plot.misc.</span></span><span class="sig-name descname"><span class="pre">setup_for_eval_on_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imaginary_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.misc.setup_for_eval_on_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the necessary parameters to construct a list of points,
and make the functions fast_callable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">funcs</span></code> – a function, or a list, tuple, or vector of functions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranges</span></code> – a list of ranges.  A range can be a 2-tuple of
numbers specifying the minimum and maximum, or a 3-tuple giving
the variable explicitly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot_points</span></code> – a tuple of integers specifying the number of
plot points for each range.  If a single number is specified, it
will be the value for all ranges.  This defaults to 2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return_vars</span></code> – (default <code class="docutils literal notranslate"><span class="pre">False</span></code>) If <code class="docutils literal notranslate"><span class="pre">True</span></code>, return the variables,
in order.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imaginary_tolerance</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">1e-8</span></code>); if an imaginary
number arises (due, for example, to numerical issues), this
tolerance specifies how large it has to be in magnitude before
we raise an error. In other words, imaginary parts smaller than
this are ignored in your plot points.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fast_funcs</span></code> - if only one function passed, then a fast
callable function.  If funcs is a list or tuple, then a tuple
of fast callable functions is returned.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range_specs</span></code> - a list of range_specs: for each range, a
tuple is returned of the form (range_min, range_max,
range_step) such that <code class="docutils literal notranslate"><span class="pre">srange(range_min,</span> <span class="pre">range_max,</span>
<span class="pre">range_step,</span> <span class="pre">include_endpoint=True)</span></code> gives the correct points
for evaluation.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="n">z</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">sage: </span><span class="n">h</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">=-</span><span class="n">y</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(&lt;sage...&gt;, [(0.0, 2.0, 0.5), (1.0, 3.0, 0.5), (-4.0, 1.0, 1.25)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">([</span><span class="n">g</span><span class="p">,</span><span class="n">h</span><span class="p">],</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">((&lt;sage...&gt;, &lt;sage...&gt;), [(0.0, 2.0, 0.5), (-1.0, 1.0, 0.5)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">([</span><span class="n">sin</span><span class="p">,</span><span class="n">cos</span><span class="p">],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="go">((&lt;sage...&gt;, &lt;sage...&gt;), [(-1.0, 1.0, 0.25)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">([</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">cos</span><span class="p">],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="go">((&lt;function &lt;lambda&gt; ...&gt;, &lt;sage...&gt;), [(-1.0, 1.0, 0.25)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">],</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)])</span>
<span class="go">((&lt;sage...&gt;,), [(-1.0, 1.0, 2.0), (-2.0, 2.0, 4.0)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="go">(&lt;sage...&gt;, [(-1.0, 1.0, 0.6666666666666666), (-1.0, 1.0, 0.25)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: plot_points must be either an integer or a list of integers, one for each range</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Some variable ranges specify variables while others do not</span>
</pre></div>
</div>
<p>Beware typos: a comma which should be a period, for instance:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: At least one variable range has more than 3 entries: each should either have 2 or 3 entries, with one of the forms (xmin, xmax) or (x, xmin, xmax)</span>

<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(&lt;sage...&gt;, [(1.0, -1.0, 0.5), (-1.0, 1.0, 0.5)])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: range variables should be distinct, but there are duplicates</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: plot start point and end point must be different</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">return_vars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(&lt;sage...&gt;, [(1.0, -1.0, 2.0), (-1.0, 1.0, 2.0)], [x, y])</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">setup_for_eval_on_grid</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">return_vars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(&lt;sage...&gt;, [(1.0, -1.0, 2.0), (-1.0, 1.0, 2.0)], [y, x])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.plot.misc.unify_arguments">
<span class="sig-prename descclassname"><span class="pre">sage.plot.misc.</span></span><span class="sig-name descname"><span class="pre">unify_arguments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funcs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.misc.unify_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of variables of the functions, as well as the
number of “free” variables (i.e., variables that defined in a
callable function).</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">funcs</span></code> – a list of functions; these can be symbolic
expressions, polynomials, etc</p></li>
</ul>
<p>OUTPUT: functions, expected arguments</p>
<ul class="simple">
<li><p>A tuple of variables in the functions</p></li>
<li><p>A tuple of variables that were “free” in the functions</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="n">z</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">sage: </span><span class="n">h</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">=-</span><span class="n">y</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">unify_arguments</span><span class="p">((</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">h</span><span class="p">))</span>
<span class="go">((x, y, z), (z,))</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">unify_arguments</span><span class="p">((</span><span class="n">g</span><span class="p">,</span><span class="n">h</span><span class="p">))</span>
<span class="go">((x, y), ())</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">unify_arguments</span><span class="p">((</span><span class="n">f</span><span class="p">,</span><span class="n">z</span><span class="p">))</span>
<span class="go">((x, y, z), (z,))</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">unify_arguments</span><span class="p">((</span><span class="n">h</span><span class="p">,</span><span class="n">z</span><span class="p">))</span>
<span class="go">((y, z), (z,))</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">unify_arguments</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">((x, y), (x, y))</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="primitive.html"
                          title="previous chapter">Plotting primitives</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/plot/misc.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="primitive.html" title="Plotting primitives"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../index.html">2D Graphics</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Plotting utilities</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>