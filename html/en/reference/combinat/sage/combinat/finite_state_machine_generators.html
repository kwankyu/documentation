
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Common Automata and Transducers (Finite State Machines Generators) &#8212; Sage Reference Manual v8.8: Combinatorics</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Free Quasi-symmetric functions" href="fqsym.html" />
    <link rel="prev" title="Finite State Machines, Automata, Transducers" href="finite_state_machine.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fqsym.html" title="Free Quasi-symmetric functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="finite_state_machine.html" title="Finite State Machines, Automata, Transducers"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Combinatorics</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../module_list.html" accesskey="U">Comprehensive Module list</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="common-automata-and-transducers-finite-state-machines-generators">
<span id="sage-combinat-finite-state-machine-generators"></span><h1>Common Automata and Transducers (Finite State Machines Generators)<a class="headerlink" href="#common-automata-and-transducers-finite-state-machines-generators" title="Permalink to this headline">Â¶</a></h1>
<span class="target" id="module-sage.combinat.finite_state_machine_generators"></span><p>Automata and Transducers in Sage can be built through the
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators"><code class="xref py py-class docutils literal notranslate"><span class="pre">automata</span></code></a>
and <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators" title="sage.combinat.finite_state_machine_generators.TransducerGenerators"><code class="xref py py-class docutils literal notranslate"><span class="pre">transducers</span></code></a> objects, respectively.
It contains generators for
common finite state machines. For example,</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Identity</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>generates an identity transducer on the alphabet <span class="math notranslate nohighlight">\(\{0, 1, 2\}\)</span>.</p>
<p>To construct automata and transducers manually, you can use the
classes <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton" title="sage.combinat.finite_state_machine.Automaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automaton</span></code></a> and <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Transducer" title="sage.combinat.finite_state_machine.Transducer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transducer</span></code></a>, respectively. See
<a class="reference internal" href="finite_state_machine.html"><span class="doc">Finite State Machines, Automata, Transducers</span></a> for more details and a lot
of <a class="reference internal" href="finite_state_machine.html#finite-state-machine-examples"><span class="std std-ref">examples</span></a>.</p>
<p><strong>Automata</strong></p>
<table border="1" class="colwidths-given contentstable docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyLetter()</span></code></a></td>
<td>Return an automaton recognizing any letter.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a></td>
<td>Return an automaton recognizing any word.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.EmptyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.EmptyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">EmptyWord()</span></code></a></td>
<td>Return an automaton recognizing the empty word.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Word()</span></code></a></td>
<td>Return an automaton recognizing the given word.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ContainsWord()</span></code></a></td>
<td>Return an automaton recognizing words containing the given word.</td>
</tr>
</tbody>
</table>
<p><strong>Transducers</strong></p>
<table border="1" class="colwidths-given contentstable docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Identity" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.Identity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Identity()</span></code></a></td>
<td>Returns a transducer realizing the identity map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.abs" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.abs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">abs()</span></code></a></td>
<td>Returns a transducer realizing absolute value.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.map" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map()</span></code></a></td>
<td>Returns a transducer realizing a function.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.operator" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.operator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">operator()</span></code></a></td>
<td>Returns a transducer realizing a binary operation.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.all" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">all()</span></code></a></td>
<td>Returns a transducer realizing logical <code class="docutils literal notranslate"><span class="pre">and</span></code>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.any" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">any()</span></code></a></td>
<td>Returns a transducer realizing logical <code class="docutils literal notranslate"><span class="pre">or</span></code>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.add" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a></td>
<td>Returns a transducer realizing addition.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.sub" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.sub"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sub()</span></code></a></td>
<td>Returns a transducer realizing subtraction.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CountSubblockOccurrences()</span></code></a></td>
<td>Returns a transducer counting the occurrences of a subblock.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Wait" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.Wait"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Wait()</span></code></a></td>
<td>Returns a transducer writing <code class="docutils literal notranslate"><span class="pre">False</span></code> until first (or k-th) true input is read.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.weight" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.weight"><code class="xref py py-meth docutils literal notranslate"><span class="pre">weight()</span></code></a></td>
<td>Returns a transducer realizing the Hamming weight.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.GrayCode" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.GrayCode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GrayCode()</span></code></a></td>
<td>Returns a transducer realizing binary Gray code.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Recursion" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.Recursion"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Recursion()</span></code></a></td>
<td>Returns a transducer defined by recursions.</td>
</tr>
</tbody>
</table>
<p>AUTHORS:</p>
<ul class="simple">
<li>Clemens Heuberger (2014-04-07): initial version</li>
<li>Sara Kropf (2014-04-10): some changes in TransducerGenerator</li>
<li>Daniel Krenn (2014-04-15): improved common docstring during review</li>
<li>Clemens Heuberger, Daniel Krenn, Sara Kropf (2014-04-16â2014-05-02):
A couple of improvements. Details see
<a class="reference external" href="https://trac.sagemath.org/16141">trac ticket #16141</a>, <a class="reference external" href="https://trac.sagemath.org/16142">trac ticket #16142</a>, <a class="reference external" href="https://trac.sagemath.org/16143">trac ticket #16143</a>, <a class="reference external" href="https://trac.sagemath.org/16186">trac ticket #16186</a>.</li>
<li>Sara Kropf (2014-04-29): weight transducer</li>
<li>Clemens Heuberger, Daniel Krenn (2014-07-18): transducers Wait, all,
any</li>
<li>Clemens Heuberger (2014-08-10): transducer Recursion</li>
<li>Clemens Heuberger (2015-07-31): automaton word</li>
<li>Daniel Krenn (2015-09-14): cleanup <a class="reference external" href="https://trac.sagemath.org/18227">trac ticket #18227</a></li>
</ul>
<p>ACKNOWLEDGEMENT:</p>
<ul class="simple">
<li>Clemens Heuberger, Daniel Krenn and Sara Kropf are supported by the
Austrian Science Fund (FWF): P 24644-N26.</li>
</ul>
<div class="section" id="functions-and-methods">
<h2>Functions and methods<a class="headerlink" href="#functions-and-methods" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="sage.combinat.finite_state_machine_generators.AutomatonGenerators">
<em class="property">class </em><code class="descclassname">sage.combinat.finite_state_machine_generators.</code><code class="descname">AutomatonGenerators</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A collection of constructors for several common automata.</p>
<p>A list of all automata in this database is available via tab
completion. Type â<code class="docutils literal notranslate"><span class="pre">automata.</span></code>â and then hit tab to see which
automata are available.</p>
<p>The automata currently in this class include:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyLetter()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.EmptyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.EmptyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">EmptyWord()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Word()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ContainsWord()</span></code></a></li>
</ul>
<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter">
<code class="descname">AnyLetter</code><span class="sig-paren">(</span><em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return an automaton recognizing any letter of the given
input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list, the input alphabet</li>
</ul>
<p>OUTPUT:</p>
<p>An <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton" title="sage.combinat.finite_state_machine.Automaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automaton</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">AnyLetter</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord">
<code class="descname">AnyWord</code><span class="sig-paren">(</span><em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return an automaton recognizing any word of the given
input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list, the input alphabet</li>
</ul>
<p>OUTPUT:</p>
<p>An <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton" title="sage.combinat.finite_state_machine.Automaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automaton</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">AnyWord</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This is equivalent to taking the <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.FiniteStateMachine.kleene_star" title="sage.combinat.finite_state_machine.FiniteStateMachine.kleene_star"><code class="xref py py-meth docutils literal notranslate"><span class="pre">kleene_star()</span></code></a>
of <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyLetter()</span></code></a> and minimizing the result. This method
immediately gives a minimized version:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">AnyLetter</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">kleene_star</span><span class="p">()</span><span class="o">.</span><span class="n">minimization</span><span class="p">()</span><span class="o">.</span><span class="n">relabeled</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">A</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyLetter()</span></code></a>,
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Word()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord">
<code class="descname">ContainsWord</code><span class="sig-paren">(</span><em>word</em>, <em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return an automaton recognizing the words containing
the given word as a factor.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">word</span></code> â a list (or other iterable) of letters, the
word we are looking for.</li>
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list or other iterable, the input
alphabet.</li>
</ul>
<p>OUTPUT:</p>
<p>An <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton" title="sage.combinat.finite_state_machine.Automaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automaton</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">ContainsWord</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                          <span class="n">input_alphabet</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This is equivalent to taking the concatenation of <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a>,
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Word()</span></code></a> and <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a> and minimizing the result. This
method immediately gives a minimized version:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="p">(</span><span class="n">automata</span><span class="o">.</span><span class="n">AnyWord</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span>
<span class="gp">....: </span>    <span class="n">automata</span><span class="o">.</span><span class="n">Word</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span>
<span class="gp">....: </span>    <span class="n">automata</span><span class="o">.</span><span class="n">AnyWord</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span><span class="o">.</span><span class="n">minimization</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_equivalent</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CountSubblockOccurrences()</span></code></a>,
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a>,
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Word()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.AutomatonGenerators.EmptyWord">
<code class="descname">EmptyWord</code><span class="sig-paren">(</span><em>input_alphabet=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.EmptyWord" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return an automaton recognizing the empty word.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) an iterable
or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
</ul>
<p>OUTPUT:</p>
<p>An <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton" title="sage.combinat.finite_state_machine.Automaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automaton</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">EmptyWord</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyLetter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyLetter()</span></code></a>,
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word">
<code class="descname">Word</code><span class="sig-paren">(</span><em>word</em>, <em>input_alphabet=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.Word" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return an automaton recognizing the given word.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">word</span></code> â an iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list or <code class="docutils literal notranslate"><span class="pre">None</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
then the letters occurring in the word are used.</li>
</ul>
<p>OUTPUT:</p>
<p>An <a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton" title="sage.combinat.finite_state_machine.Automaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Automaton</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">Word</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 1: 0|-]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">A</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="p">([],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
<span class="go">[False, True, False]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">Word</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 1: 0|-,</span>
<span class="go">Transition from 1 to 2: 1|-,</span>
<span class="go">Transition from 2 to 3: 0|-]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">A</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="p">([],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])]</span>
<span class="go">[False, False, False, False, True]</span>
</pre></div>
</div>
<p>If the input alphabet is not given, it is derived from the given
word.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[0, 1]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">automata</span><span class="o">.</span><span class="n">Word</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">input_alphabet</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.AnyWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AnyWord()</span></code></a>,
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ContainsWord()</span></code></a>.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators">
<em class="property">class </em><code class="descclassname">sage.combinat.finite_state_machine_generators.</code><code class="descname">TransducerGenerators</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A collection of constructors for several common transducers.</p>
<p>A list of all transducers in this database is available via tab
completion. Type â<code class="docutils literal notranslate"><span class="pre">transducers.</span></code>â and then hit tab to see which
transducers are available.</p>
<p>The transducers currently in this class include:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Identity" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.Identity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Identity()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.abs" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.abs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">abs()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.operator" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.operator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">operator()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.all" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">all()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.any" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.any"><code class="xref py py-meth docutils literal notranslate"><span class="pre">any()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.add" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.sub" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.sub"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sub()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CountSubblockOccurrences()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Wait" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.Wait"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Wait()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.GrayCode" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.GrayCode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GrayCode()</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Recursion" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.Recursion"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Recursion()</span></code></a></li>
</ul>
<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences">
<code class="descname">CountSubblockOccurrences</code><span class="sig-paren">(</span><em>block</em>, <em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.CountSubblockOccurrences" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer counting the number of (possibly
overlapping) occurrences of a block in the input.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">block</span></code> â a list (or other iterable) of letters.</li>
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list or other iterable.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer counting (in unary) the number of occurrences of the given
block in the input.  Overlapping occurrences are counted several
times.</p>
<p>Denoting the block by <span class="math notranslate nohighlight">\(b_0\ldots b_{k-1}\)</span>, the input word by
<span class="math notranslate nohighlight">\(i_0\ldots i_L\)</span> and the output word by <span class="math notranslate nohighlight">\(o_0\ldots o_L\)</span>, we
have <span class="math notranslate nohighlight">\(o_j = 1\)</span> if and only if <span class="math notranslate nohighlight">\(i_{j-k+1}\ldots i_{j} = b_0\ldots
b_{k-1}\)</span>. Otherwise, <span class="math notranslate nohighlight">\(o_j = 0\)</span>.</p>
<p>EXAMPLES:</p>
<ol class="arabic">
<li><p class="first">Counting the number of <code class="docutils literal notranslate"><span class="pre">10</span></code> blocks over the alphabet
<code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">CountSubblockOccurrences</span><span class="p">(</span>
<span class="gp">....: </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">())</span>
<span class="go">[Transition from () to (): 0|0,</span>
<span class="go"> Transition from () to (1,): 1|0,</span>
<span class="go"> Transition from (1,) to (): 0|1,</span>
<span class="go"> Transition from (1,) to (1,): 1|0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[0, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">output_alphabet</span>
<span class="go">[0, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[()]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[(), (1,)]</span>
</pre></div>
</div>
<p>Check some sequence:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[0, 0, 1, 0, 0, 1]</span>
</pre></div>
</div>
</li>
<li><p class="first">Counting the number of <code class="docutils literal notranslate"><span class="pre">11</span></code> blocks over the alphabet
<code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">CountSubblockOccurrences</span><span class="p">(</span>
<span class="gp">....: </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">())</span>
<span class="go">[Transition from () to (): 0|0,</span>
<span class="go"> Transition from () to (1,): 1|0,</span>
<span class="go"> Transition from (1,) to (): 0|0,</span>
<span class="go"> Transition from (1,) to (1,): 1|1]</span>
</pre></div>
</div>
<p>Check some sequence:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[0, 0, 0, 0, 1, 0]</span>
</pre></div>
</div>
</li>
<li><p class="first">Counting the number of <code class="docutils literal notranslate"><span class="pre">1010</span></code> blocks over the
alphabet <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2]</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">CountSubblockOccurrences</span><span class="p">(</span>
<span class="gp">....: </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">())</span>
<span class="go">[Transition from () to (): 0|0,</span>
<span class="go"> Transition from () to (1,): 1|0,</span>
<span class="go"> Transition from () to (): 2|0,</span>
<span class="go"> Transition from (1,) to (1, 0): 0|0,</span>
<span class="go"> Transition from (1,) to (1,): 1|0,</span>
<span class="go"> Transition from (1,) to (): 2|0,</span>
<span class="go"> Transition from (1, 0) to (): 0|0,</span>
<span class="go"> Transition from (1, 0) to (1, 0, 1): 1|0,</span>
<span class="go"> Transition from (1, 0) to (): 2|0,</span>
<span class="go"> Transition from (1, 0, 1) to (1, 0): 0|1,</span>
<span class="go"> Transition from (1, 0, 1) to (1,): 1|0,</span>
<span class="go"> Transition from (1, 0, 1) to (): 2|0]</span>
<span class="gp">sage: </span><span class="nb">input</span> <span class="o">=</span>  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span> <span class="o">==</span> <span class="n">output</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord" title="sage.combinat.finite_state_machine_generators.AutomatonGenerators.ContainsWord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ContainsWord()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.GrayCode">
<code class="descname">GrayCode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.GrayCode" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer converting the standard binary
expansion to Gray code.</p>
<p>INPUT:</p>
<p>Nothing.</p>
<p>OUTPUT:</p>
<p>A transducer.</p>
<p>Cf. the <a class="reference external" href="https://en.wikipedia.org/wiki/Gray_code">Wikipedia article Gray_code</a> for a description of the Gray code.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">GrayCode</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">Transducer with 3 states</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">G</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">digits</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">))))</span>
<span class="go">0 []</span>
<span class="go">1 [1]</span>
<span class="go">2 [1, 1]</span>
<span class="go">3 [0, 1]</span>
<span class="go">4 [0, 1, 1]</span>
<span class="go">5 [1, 1, 1]</span>
<span class="go">6 [1, 0, 1]</span>
<span class="go">7 [0, 0, 1]</span>
<span class="go">8 [0, 0, 1, 1]</span>
<span class="go">9 [1, 0, 1, 1]</span>
</pre></div>
</div>
<p>In the example <a class="reference internal" href="finite_state_machine.html#finite-state-machine-gray-code-example"><span class="std std-ref">Gray Code</span></a>
in the documentation of the
<a class="reference internal" href="finite_state_machine.html"><span class="doc">Finite State Machines, Automata, Transducers</span></a> module, the Gray code
transducer is derived from the algorithm converting the binary
expansion to the Gray code. The result is the same as the one
given here.</p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.Identity">
<code class="descname">Identity</code><span class="sig-paren">(</span><em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Identity" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the identity transducer realizing the identity map.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list or other iterable.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping each word over <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> to
itself.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Identity</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">())</span>
<span class="go">[Transition from 0 to 0: 0|0,</span>
<span class="go"> Transition from 0 to 0: 1|1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[0, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">output_alphabet</span>
<span class="go">[0, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">[0, 1, 0, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.Recursion">
<code class="descname">Recursion</code><span class="sig-paren">(</span><em>recursions, base, function=None, var=None, input_alphabet=None, word_function=None, is_zero=None, output_rings=[Integer Ring, Rational Field]</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Recursion" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a transducer realizing the given recursion when reading
the digit expansion with base <code class="docutils literal notranslate"><span class="pre">base</span></code>.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">recursions</span></code> â list or iterable of equations. Each
equation has either the form</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">f(base^K</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">+</span> <span class="pre">r)</span> <span class="pre">==</span> <span class="pre">f(base^k</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">+</span> <span class="pre">s)</span> <span class="pre">+</span> <span class="pre">t</span></code> for some
integers <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">k</span> <span class="pre">&lt;</span> <span class="pre">K</span></code>, <code class="docutils literal notranslate"><span class="pre">r</span></code> and some <code class="docutils literal notranslate"><span class="pre">t</span></code>âvalid for
all <code class="docutils literal notranslate"><span class="pre">n</span></code> such that the arguments on both sides are
non-negativeâ</li>
</ul>
<p>or the form</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">f(r)</span> <span class="pre">==</span> <span class="pre">t</span></code> for some integer <code class="docutils literal notranslate"><span class="pre">r</span></code> and some <code class="docutils literal notranslate"><span class="pre">t</span></code>.</li>
</ul>
<p>Alternatively, an equation may be replaced by a
<code class="docutils literal notranslate"><span class="pre">transducers.RecursionRule</span></code> with the attributes <code class="docutils literal notranslate"><span class="pre">K</span></code>,
<code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">t</span></code> as above or a tuple <code class="docutils literal notranslate"><span class="pre">(r,</span> <span class="pre">t)</span></code>.
Note that <code class="docutils literal notranslate"><span class="pre">t</span></code> <em>must</em> be a list in this case.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">base</span></code> â base of the digit expansion.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">function</span></code> â symbolic function <code class="docutils literal notranslate"><span class="pre">f</span></code> occuring in the
recursions.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">var</span></code> â symbolic variable.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) a list of digits
to be used as the input alphabet. If <code class="docutils literal notranslate"><span class="pre">None</span></code> and the base
is an integer, <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> is chosen to be
<code class="docutils literal notranslate"><span class="pre">srange(base.abs())</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">word_function</span></code> â (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) a symbolic function.
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">word_function(arg1,</span> <span class="pre">...,</span> <span class="pre">argn)</span></code> in a symbolic
recurrence relation is interpreted as a transition with output
<code class="docutils literal notranslate"><span class="pre">[arg1,</span> <span class="pre">...,</span> <span class="pre">argn]</span></code>. This could not be entered in a symbolic
recurrence relation because lists do not coerce into the
<a class="reference external" href="../../../calculus/sage/symbolic/ring.html#sage.symbolic.ring.SymbolicRing" title="(in Sage Reference Manual: Symbolic Calculus v8.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SymbolicRing</span></code></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">is_zero</span></code> â (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) a callable. The recursion
relations are only well-posed if there is no cycle with
non-zero output and input consisting of zeros. This parameter
is used to determine whether the output of such a cycle is
non-zero. By default, the output must evaluate to <code class="docutils literal notranslate"><span class="pre">False</span></code> as
a boolean.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">output_rings</span></code> â (default: <code class="docutils literal notranslate"><span class="pre">[ZZ,</span> <span class="pre">QQ]</span></code>) a list of
rings. The output labels are converted into the first ring of
the list in which they are contained. If they are not
contained in any ring, they remain in whatever ring they are
after parsing the recursions, typically the symbolic ring.</p>
</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p>
<p>The transducer is constructed such that <code class="docutils literal notranslate"><span class="pre">T(expansion)</span> <span class="pre">==</span> <span class="pre">f(n)</span></code>
if <code class="docutils literal notranslate"><span class="pre">expansion</span></code> is the digit expansion of <code class="docutils literal notranslate"><span class="pre">n</span></code> to the base
<code class="docutils literal notranslate"><span class="pre">base</span></code> with the given input alphabet as set of digits. Here,
the <code class="docutils literal notranslate"><span class="pre">+</span></code> on the right hand side of the recurrence relation is
interpreted as the concatenation of words.</p>
<p>The formal equations and initial conditions in the recursion
have to be selected such that <code class="docutils literal notranslate"><span class="pre">f</span></code> is uniquely defined.</p>
<p>EXAMPLES:</p>
<ul>
<li><p class="first">The following example computes the Hamming weight of the
ternary expansion of integers.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="go">f</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="mi">3</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from (0, 0) to (0, 0): 0|-,</span>
<span class="go"> Transition from (0, 0) to (0, 0): 1|1,</span>
<span class="go"> Transition from (0, 0) to (0, 0): 2|1]</span>
</pre></div>
</div>
<p>To illustrate what this transducer does, we consider the
example of <span class="math notranslate nohighlight">\(n=601\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ternary_expansion</span> <span class="o">=</span> <span class="mf">601.</span><span class="n">digits</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ternary_expansion</span>
<span class="go">[1, 2, 0, 1, 1, 2]</span>
<span class="gp">sage: </span><span class="n">weight_sequence</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">ternary_expansion</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">weight_sequence</span>
<span class="go">[1, 1, 1, 1, 1]</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">weight_sequence</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Note that the digit zero does not show up in the output because
the equation <code class="docutils literal notranslate"><span class="pre">f(3*n)</span> <span class="pre">==</span> <span class="pre">f(n)</span></code> means that no output is added to
<code class="docutils literal notranslate"><span class="pre">f(n)</span></code>.</p>
</li>
<li><p class="first">The following example computes the Hamming weight of the
non-adjacent form, cf. the <a class="reference external" href="https://en.wikipedia.org/wiki/Non-adjacent_form">Wikipedia article Non-adjacent_form</a>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="go">f</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from (0, 0) to (0, 0): 0|-,</span>
<span class="go"> Transition from (0, 0) to (1, 1): 1|-,</span>
<span class="go"> Transition from (1, 1) to (0, 0): 0|1,</span>
<span class="go"> Transition from (1, 1) to (1, 0): 1|1,</span>
<span class="go"> Transition from (1, 0) to (1, 1): 0|-,</span>
<span class="go"> Transition from (1, 0) to (1, 0): 1|-]</span>
<span class="gp">sage: </span><span class="p">[(</span><span class="n">s</span><span class="o">.</span><span class="n">label</span><span class="p">(),</span> <span class="n">s</span><span class="o">.</span><span class="n">final_word_out</span><span class="p">)</span>
<span class="gp">....: </span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">iter_final_states</span><span class="p">()]</span>
<span class="go">[((0, 0), []),</span>
<span class="go"> ((1, 1), [1]),</span>
<span class="go"> ((1, 0), [1])]</span>
</pre></div>
</div>
<p>As we are interested in the weight only, we also output <span class="math notranslate nohighlight">\(1\)</span>
for numbers congruent to <span class="math notranslate nohighlight">\(3\)</span> mod <span class="math notranslate nohighlight">\(4\)</span>. The actual expansion
is computed in the next example.</p>
<p>Consider the example of <span class="math notranslate nohighlight">\(29=(100\bar 101)_2\)</span> (as usual,
the digit <span class="math notranslate nohighlight">\(-1\)</span> is denoted by <span class="math notranslate nohighlight">\(\bar 1\)</span> and digits are
written from the most significant digit at the left to the
least significant digit at the right; for the transducer,
we have to give the digits in the reverse order):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">NAF</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="p">(</span><span class="n">NAF</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">29</span>
<span class="gp">sage: </span><span class="n">binary_expansion</span> <span class="o">=</span> <span class="mf">29.</span><span class="n">digits</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">binary_expansion</span>
<span class="go">[1, 0, 1, 1, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">binary_expansion</span><span class="p">)</span>
<span class="go">[1, 1, 1]</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="n">binary_expansion</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Indeed, the given non-adjacent form has three non-zero
digits.</p>
</li>
<li><p class="first">The following example computes the non-adjacent form from the
binary expansion, cf. the <a class="reference external" href="https://en.wikipedia.org/wiki/Non-adjacent_form">Wikipedia article Non-adjacent_form</a>. In
contrast to the previous example, we actually compute the
expansion, not only the weight.</p>
<p>We have to write the output <span class="math notranslate nohighlight">\(0\)</span> when converting an even number.
This cannot be encoded directly by an equation in the symbolic
ring, because <code class="docutils literal notranslate"><span class="pre">f(2*n)</span> <span class="pre">==</span> <span class="pre">f(n)</span> <span class="pre">+</span> <span class="pre">0</span></code> would be equivalent to
<code class="docutils literal notranslate"><span class="pre">f(2*n)</span> <span class="pre">==</span> <span class="pre">f(n)</span></code> and an empty output would be written.
Therefore, we wrap the output in the symbolic function <code class="docutils literal notranslate"><span class="pre">w</span></code>
and use the parameter <code class="docutils literal notranslate"><span class="pre">word_function</span></code> to announce this.</p>
<p>Similarly, we use <code class="docutils literal notranslate"><span class="pre">w(-1,</span> <span class="pre">0)</span></code> to write an output word of
length <span class="math notranslate nohighlight">\(2\)</span> in one iteration. Finally, we write <code class="docutils literal notranslate"><span class="pre">f(0)</span> <span class="pre">==</span> <span class="pre">w()</span></code>
to write an empty word upon completion.</p>
<p>Moreover, there is a cycle with output <code class="docutils literal notranslate"><span class="pre">[0]</span></code> whichâfrom
the point of view of this methodâis a contradicting recursion.
We override this by the parameter <code class="docutils literal notranslate"><span class="pre">is_zero</span></code>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">function</span><span class="p">(</span><span class="s1">&#39;f w&#39;</span><span class="p">)</span>
<span class="go">(f, w)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>     <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="n">w</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">....: </span>     <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="n">w</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">....: </span>     <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="n">w</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">....: </span>     <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">w</span><span class="p">()],</span>
<span class="gp">....: </span>     <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span>
<span class="gp">....: </span>     <span class="n">word_function</span><span class="o">=</span><span class="n">w</span><span class="p">,</span>
<span class="gp">....: </span>     <span class="n">is_zero</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_zero</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from (0, 0) to (0, 0): 0|0,</span>
<span class="go"> Transition from (0, 0) to (1, 1): 1|-,</span>
<span class="go"> Transition from (1, 1) to (0, 0): 0|1,0,</span>
<span class="go"> Transition from (1, 1) to (1, 0): 1|-1,0,</span>
<span class="go"> Transition from (1, 0) to (1, 1): 0|-,</span>
<span class="go"> Transition from (1, 0) to (1, 0): 1|0]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">iter_states</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">final_word_out</span><span class="p">))</span>
<span class="go">(0, 0) []</span>
<span class="go">(1, 1) [1, 0]</span>
<span class="go">(1, 0) [1, 0]</span>
</pre></div>
</div>
<p>We again consider the example of <span class="math notranslate nohighlight">\(n=29\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="mf">29.</span><span class="n">digits</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[1, 0, -1, 0, 0, 1, 0]</span>
</pre></div>
</div>
<p>The same transducer can also be entered bypassing the
symbolic equations:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">RecursionRule</span>
<span class="gp">sage: </span><span class="n">TR</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>      <span class="n">R</span><span class="p">(</span><span class="n">K</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="gp">....: </span>      <span class="n">R</span><span class="p">(</span><span class="n">K</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">....: </span>      <span class="n">R</span><span class="p">(</span><span class="n">K</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">r</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
<span class="gp">....: </span>      <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[])],</span>
<span class="gp">....: </span>      <span class="mi">2</span><span class="p">,</span>
<span class="gp">....: </span>      <span class="n">is_zero</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_zero</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">TR</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Here is an artificial example where some of the <span class="math notranslate nohighlight">\(s\)</span> are
negative:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="go">f</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from (0, 0) to (0, 0): 0|-,</span>
<span class="go"> Transition from (0, 0) to (1, 1): 1|-,</span>
<span class="go"> Transition from (1, 1) to (-1, 1): 0|1,</span>
<span class="go"> Transition from (1, 1) to (0, 0): 1|1,</span>
<span class="go"> Transition from (-1, 1) to (-1, 2): 0|-,</span>
<span class="go"> Transition from (-1, 1) to (1, 2): 1|-,</span>
<span class="go"> Transition from (-1, 2) to (-1, 1): 0|1,</span>
<span class="go"> Transition from (-1, 2) to (0, 0): 1|1,</span>
<span class="go"> Transition from (1, 2) to (-1, 2): 0|1,</span>
<span class="go"> Transition from (1, 2) to (1, 2): 1|1]</span>
<span class="gp">sage: </span><span class="p">[(</span><span class="n">s</span><span class="o">.</span><span class="n">label</span><span class="p">(),</span> <span class="n">s</span><span class="o">.</span><span class="n">final_word_out</span><span class="p">)</span>
<span class="gp">....: </span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">iter_final_states</span><span class="p">()]</span>
<span class="go">[((0, 0), []),</span>
<span class="go"> ((1, 1), [1]),</span>
<span class="go"> ((-1, 1), [0]),</span>
<span class="go"> ((-1, 2), [0]),</span>
<span class="go"> ((1, 2), [1])]</span>
</pre></div>
</div>
</li>
<li><p class="first">Abelian complexity of the paperfolding sequence
(cf. <a class="reference internal" href="finite_state_machine.html#hkp2015" id="id1">[HKP2015]</a>, Example 2.8):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">11</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">15</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">....: </span>    <span class="o">+</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="n">jj</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span> <span class="k">for</span> <span class="n">jj</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">13</span><span class="p">]],</span>
<span class="gp">....: </span>    <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from (0, 0) to (0, 1): 0|-,</span>
<span class="go"> Transition from (0, 0) to (1, 1): 1|-,</span>
<span class="go"> Transition from (0, 1) to (0, 1): 0|-,</span>
<span class="go"> Transition from (0, 1) to (1, 1): 1|1,</span>
<span class="go"> Transition from (1, 1) to (1, 2): 0|-,</span>
<span class="go"> Transition from (1, 1) to (3, 2): 1|-,</span>
<span class="go"> Transition from (1, 2) to (1, 3): 0|-,</span>
<span class="go"> Transition from (1, 2) to (5, 3): 1|-,</span>
<span class="go"> Transition from (3, 2) to (3, 3): 0|-,</span>
<span class="go"> Transition from (3, 2) to (7, 3): 1|-,</span>
<span class="go"> Transition from (1, 3) to (1, 3): 0|-,</span>
<span class="go"> Transition from (1, 3) to (1, 1): 1|2,</span>
<span class="go"> Transition from (5, 3) to (1, 2): 0|2,</span>
<span class="go"> Transition from (5, 3) to (1, 1): 1|2,</span>
<span class="go"> Transition from (3, 3) to (1, 1): 0|2,</span>
<span class="go"> Transition from (3, 3) to (3, 2): 1|2,</span>
<span class="go"> Transition from (7, 3) to (1, 1): 0|2,</span>
<span class="go"> Transition from (7, 3) to (2, 1): 1|1,</span>
<span class="go"> Transition from (2, 1) to (1, 1): 0|1,</span>
<span class="go"> Transition from (2, 1) to (2, 1): 1|-]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">iter_states</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">final_word_out</span><span class="p">))</span>
<span class="go">(0, 0) []</span>
<span class="go">(0, 1) []</span>
<span class="go">(1, 1) [2]</span>
<span class="go">(1, 2) [2]</span>
<span class="go">(3, 2) [2, 2]</span>
<span class="go">(1, 3) [2]</span>
<span class="go">(5, 3) [2, 2]</span>
<span class="go">(3, 3) [2, 2]</span>
<span class="go">(7, 3) [2, 2]</span>
<span class="go">(2, 1) [1, 2]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">bits</span><span class="p">()))</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">))</span>
<span class="go">[2, 3, 4, 3, 4, 5, 4, 3, 4, 5, 6, 5, 4, 5, 4, 3, 4, 5, 6, 5]</span>
</pre></div>
</div>
</li>
<li><p class="first">We now demonstrate the use of the <code class="docutils literal notranslate"><span class="pre">output_rings</span></code>
parameter.  If no <code class="docutils literal notranslate"><span class="pre">output_rings</span></code> are specified, the
output labels are converted into <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="go">f</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">word_out</span><span class="p">])</span>
<span class="go">[]</span>
<span class="go">[Integer Ring]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">states</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">final_word_out</span><span class="p">]</span>
<span class="go">[Integer Ring]</span>
</pre></div>
</div>
<p>In contrast, if <code class="docutils literal notranslate"><span class="pre">output_rings</span></code> is set to the empty list, the
results are not converted:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">output_rings</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">word_out</span><span class="p">])</span>
<span class="go">[]</span>
<span class="go">[Symbolic Ring]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">states</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">final_word_out</span><span class="p">]</span>
<span class="go">[Symbolic Ring]</span>
</pre></div>
</div>
<p>Finally, we use a somewhat questionable conversion:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Recursion</span><span class="p">([</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="mi">2</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">output_rings</span><span class="o">=</span><span class="p">[</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">word_out</span><span class="p">])</span>
<span class="go">[]</span>
<span class="go">[Finite Field of size 5]</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p>Extend the method to</p>
<ul class="last simple">
<li>non-integral bases,</li>
<li>higher dimensions.</li>
</ul>
</div>
<p>ALGORITHM:</p>
<p>See <a class="reference internal" href="finite_state_machine.html#hkp2015" id="id2">[HKP2015]</a>, Section 6. However, there are also recursion
transitions for states of level <span class="math notranslate nohighlight">\(&lt;\kappa\)</span> if the recursion rules
allow such a transition. Furthermore, the intermediate step of a
non-deterministic transducer is left out by implicitly using
recursion transitions. The well-posedness is checked in a
truncated version of the recursion digraph.</p>
</dd></dl>

<dl class="class">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule">
<em class="property">class </em><code class="descname">RecursionRule</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="attribute">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.K">
<code class="descname">K</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.K" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.k">
<code class="descname">k</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.k" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.r">
<code class="descname">r</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.r" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.s">
<code class="descname">s</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.s" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.t">
<code class="descname">t</code><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.RecursionRule.t" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.Wait">
<code class="descname">Wait</code><span class="sig-paren">(</span><em>input_alphabet</em>, <em>threshold=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.Wait" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes <code class="docutils literal notranslate"><span class="pre">False</span></code> until reading the <code class="docutils literal notranslate"><span class="pre">threshold</span></code>-th occurrence
of a true input letter; then writes <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list or other iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">threshold</span></code> â a positive integer specifying how many
occurrences of <code class="docutils literal notranslate"><span class="pre">True</span></code> inputs are waited for.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer writing <code class="docutils literal notranslate"><span class="pre">False</span></code> until the <code class="docutils literal notranslate"><span class="pre">threshold</span></code>-th true
(Pythonâs standard conversion to boolean is used to convert the
actual input to boolean) input is read. Subsequently, the
transducer writes <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Wait</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[False, False, True, True, True, True]</span>
<span class="gp">sage: </span><span class="n">T2</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">Wait</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T2</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[False, False, False, False, True, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.abs">
<code class="descname">abs</code><span class="sig-paren">(</span><em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.abs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes the letter-wise
absolute value of an input word over the given input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping <span class="math notranslate nohighlight">\(i_0\ldots i_k\)</span>
to <span class="math notranslate nohighlight">\(|i_0|\ldots |i_k|\)</span>.</p>
<p>EXAMPLES:</p>
<p>The following transducer realizes letter-wise
absolute value:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">abs</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: -1|1,</span>
<span class="go"> Transition from 0 to 0: 0|0,</span>
<span class="go"> Transition from 0 to 0: 1|1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">[1, 1, 0, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>input_alphabet</em>, <em>number_of_operands=2</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.add" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes addition on pairs over the
given input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> â (default: <span class="math notranslate nohighlight">\(2\)</span>) it specifies the number
of input arguments the operator takes.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping an input word
<span class="math notranslate nohighlight">\((i_{01}, \ldots, i_{0d})\ldots (i_{k1}, \ldots, i_{kd})\)</span> to the word
<span class="math notranslate nohighlight">\((i_{01} + \cdots + i_{0d})\ldots (i_{k1} + \cdots + i_{kd})\)</span>.</p>
<p>The input alphabet of the generated transducer is the Cartesian
product of <code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> copies of <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>.</p>
<p>EXAMPLES:</p>
<p>The following transducer realizes letter-wise
addition:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: (0, 0)|0,</span>
<span class="go"> Transition from 0 to 0: (0, 1)|1,</span>
<span class="go"> Transition from 0 to 0: (1, 0)|1,</span>
<span class="go"> Transition from 0 to 0: (1, 1)|2]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[(0, 0), (0, 1), (1, 0), (1, 1)]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[0, 1, 1, 2]</span>
</pre></div>
</div>
<p>More than two operands can also be handled:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T3</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">number_of_operands</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T3</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1),</span>
<span class="go"> (1, 0, 0), (1, 0, 1), (1, 1, 0), (1, 1, 1)]</span>
<span class="gp">sage: </span><span class="n">T3</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[0, 1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.all">
<code class="descname">all</code><span class="sig-paren">(</span><em>input_alphabet</em>, <em>number_of_operands=2</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.all" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes logical <code class="docutils literal notranslate"><span class="pre">and</span></code> over the given
input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> â (default: <span class="math notranslate nohighlight">\(2\)</span>) specifies the number
of input arguments for the <code class="docutils literal notranslate"><span class="pre">and</span></code> operation.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping an input word
<span class="math notranslate nohighlight">\((i_{01}, \ldots, i_{0d})\ldots (i_{k1}, \ldots, i_{kd})\)</span> to the word
<span class="math notranslate nohighlight">\((i_{01} \land \cdots \land i_{0d})\ldots (i_{k1} \land \cdots \land i_{kd})\)</span>.</p>
<p>The input alphabet of the generated transducer is the Cartesian
product of <code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> copies of <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>.</p>
<p>EXAMPLES:</p>
<p>The following transducer realizes letter-wise
logical <code class="docutils literal notranslate"><span class="pre">and</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">all</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: (False, False)|False,</span>
<span class="go"> Transition from 0 to 0: (False, True)|False,</span>
<span class="go"> Transition from 0 to 0: (True, False)|False,</span>
<span class="go"> Transition from 0 to 0: (True, True)|True]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[(False, False), (False, True), (True, False), (True, True)]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)])</span>
<span class="go">[False, False, False, True]</span>
</pre></div>
</div>
<p>More than two operands and other input alphabets (with
conversion to boolean) are also possible:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T3</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">all</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">number_of_operands</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T3</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[False, False, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.any">
<code class="descname">any</code><span class="sig-paren">(</span><em>input_alphabet</em>, <em>number_of_operands=2</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.any" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes logical <code class="docutils literal notranslate"><span class="pre">or</span></code> over the given
input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> â (default: <span class="math notranslate nohighlight">\(2\)</span>) specifies the number
of input arguments for the <code class="docutils literal notranslate"><span class="pre">or</span></code> operation.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping an input word
<span class="math notranslate nohighlight">\((i_{01}, \ldots, i_{0d})\ldots (i_{k1}, \ldots, i_{kd})\)</span> to the word
<span class="math notranslate nohighlight">\((i_{01} \lor \cdots \lor i_{0d})\ldots (i_{k1} \lor \cdots \lor i_{kd})\)</span>.</p>
<p>The input alphabet of the generated transducer is the Cartesian
product of <code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> copies of <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>.</p>
<p>EXAMPLES:</p>
<p>The following transducer realizes letter-wise
logical <code class="docutils literal notranslate"><span class="pre">or</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">any</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: (False, False)|False,</span>
<span class="go"> Transition from 0 to 0: (False, True)|True,</span>
<span class="go"> Transition from 0 to 0: (True, False)|True,</span>
<span class="go"> Transition from 0 to 0: (True, True)|True]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[(False, False), (False, True), (True, False), (True, True)]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)])</span>
<span class="go">[False, True, True, True]</span>
</pre></div>
</div>
<p>More than two operands and other input alphabets (with
conversion to boolean) are also possible:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T3</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">any</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">number_of_operands</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T3</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[False, True, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.map" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a transducer which realizes a function
on the alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">f</span></code> â function to realize.</li>
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping an input letter <span class="math notranslate nohighlight">\(x\)</span> to
<span class="math notranslate nohighlight">\(f(x)\)</span>.</p>
<p>EXAMPLES:</p>
<p>The following binary transducer realizes component-wise
absolute value (this transducer is also available as <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.abs" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.abs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">abs()</span></code></a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: -1|1,</span>
<span class="go"> Transition from 0 to 0: 0|0,</span>
<span class="go"> Transition from 0 to 0: 1|1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[-1, 0, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">[1, 1, 0, 1]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="finite_state_machine.html#sage.combinat.finite_state_machine.Automaton.with_output" title="sage.combinat.finite_state_machine.Automaton.with_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Automaton.with_output()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.operator">
<code class="descname">operator</code><span class="sig-paren">(</span><em>operator</em>, <em>input_alphabet</em>, <em>number_of_operands=2</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.operator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes an operation
on tuples over the given input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">operator</span></code> â operator to realize. It is a function which
takes <code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> input arguments (each out of
<code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>).</li>
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> â (default: <span class="math notranslate nohighlight">\(2\)</span>) it specifies the number
of input arguments the operator takes.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping an input letter <span class="math notranslate nohighlight">\((i_1, \dots, i_n)\)</span> to
<span class="math notranslate nohighlight">\(\mathrm{operator}(i_1, \dots, i_n)\)</span>. Here, <span class="math notranslate nohighlight">\(n\)</span> equals
<code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code>.</p>
<p>The input alphabet of the generated transducer is the Cartesian
product of <code class="docutils literal notranslate"><span class="pre">number_of_operands</span></code> copies of <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>.</p>
<p>EXAMPLES:</p>
<p>The following binary transducer realizes component-wise
addition (this transducer is also available as <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.add" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">operator</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">operator</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: (0, 0)|0,</span>
<span class="go"> Transition from 0 to 0: (0, 1)|1,</span>
<span class="go"> Transition from 0 to 0: (1, 0)|1,</span>
<span class="go"> Transition from 0 to 0: (1, 1)|2]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[(0, 0), (0, 1), (1, 0), (1, 1)]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[0, 1, 1, 2]</span>
</pre></div>
</div>
<p>Note that for a unary operator the input letters of the
new transducer are tuples of length <span class="math notranslate nohighlight">\(1\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">operator</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span>
<span class="gp">....: </span>                         <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                         <span class="n">number_of_operands</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Invalid input sequence.</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([(</span><span class="o">-</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)])</span>
<span class="go">[1, 1, 0]</span>
</pre></div>
</div>
<p>Compare this with the transducer generated by <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.map" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span>
<span class="gp">....: </span>                    <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[1, 1, 0]</span>
</pre></div>
</div>
<p>In fact, this transducer is also available as <a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.abs" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.abs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">abs()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">abs</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[1, 1, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.sub">
<code class="descname">sub</code><span class="sig-paren">(</span><em>input_alphabet</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.sub" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes subtraction on pairs over
the given input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>  â a list or other iterable.</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping an input word <span class="math notranslate nohighlight">\((i_0, i'_0)\ldots (i_k, i'_k)\)</span>
to the word <span class="math notranslate nohighlight">\((i_0 - i'_0)\ldots (i_k - i'_k)\)</span>.</p>
<p>The input alphabet of the generated transducer is the Cartesian
product of two copies of <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code>.</p>
<p>EXAMPLES:</p>
<p>The following transducer realizes letter-wise
subtraction:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">sub</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: (0, 0)|0,</span>
<span class="go"> Transition from 0 to 0: (0, 1)|-1,</span>
<span class="go"> Transition from 0 to 0: (1, 0)|1,</span>
<span class="go"> Transition from 0 to 0: (1, 1)|0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">input_alphabet</span>
<span class="go">[(0, 0), (0, 1), (1, 0), (1, 1)]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">initial_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">final_states</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="go">[0, -1, 1, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.finite_state_machine_generators.TransducerGenerators.weight">
<code class="descname">weight</code><span class="sig-paren">(</span><em>input_alphabet</em>, <em>zero=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.weight" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a transducer which realizes the Hamming weight of the input
over the given input alphabet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> â a list or other iterable.</li>
<li><code class="docutils literal notranslate"><span class="pre">zero</span></code> â the zero symbol in the alphabet used</li>
</ul>
<p>OUTPUT:</p>
<p>A transducer mapping <span class="math notranslate nohighlight">\(i_0\ldots i_k\)</span> to <span class="math notranslate nohighlight">\((i_0\neq 0)\ldots(i_k\neq 0)\)</span>.</p>
<p>The Hamming weight is defined as the number of non-zero digits in the
input sequence over the alphabet <code class="docutils literal notranslate"><span class="pre">input_alphabet</span></code> (see
<a class="reference external" href="https://en.wikipedia.org/wiki/Hamming_weight">Wikipedia article Hamming_weight</a>). The output sequence of the transducer is
a unary encoding of the Hamming weight. Thus the sum of the output
sequence is the Hamming weight of the input.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">weight</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">transitions</span><span class="p">()</span>
<span class="go">[Transition from 0 to 0: -1|1,</span>
<span class="go"> Transition from 0 to 0: 0|0,</span>
<span class="go"> Transition from 0 to 0: 2|1]</span>
<span class="gp">sage: </span><span class="n">unary_weight</span> <span class="o">=</span> <span class="n">W</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">unary_weight</span>
<span class="go">[1, 0, 0, 1, 1]</span>
<span class="gp">sage: </span><span class="n">weight</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">unary_weight</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">weight</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Also the joint Hamming weight can be computed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v0</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">weight</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span> <span class="n">v0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">unary_weight</span> <span class="o">=</span> <span class="n">W</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span> <span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">add</span><span class="p">(</span><span class="n">unary_weight</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>For the input alphabet <code class="docutils literal notranslate"><span class="pre">[-1,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> the weight transducer is the
same as the absolute value transducer
<a class="reference internal" href="#sage.combinat.finite_state_machine_generators.TransducerGenerators.abs" title="sage.combinat.finite_state_machine_generators.TransducerGenerators.abs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">abs()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">weight</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">abs</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">==</span> <span class="n">A</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For other input alphabets, we can specify the zero symbol:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">transducers</span><span class="o">.</span><span class="n">weight</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">zero</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">add</span><span class="p">(</span><span class="n">W</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]))</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Common Automata and Transducers (Finite State Machines Generators)</a><ul>
<li><a class="reference internal" href="#functions-and-methods">Functions and methods</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="finite_state_machine.html"
                        title="previous chapter">Finite State Machines, Automata, Transducers</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fqsym.html"
                        title="next chapter">Free Quasi-symmetric functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/combinat/finite_state_machine_generators.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fqsym.html" title="Free Quasi-symmetric functions"
             >next</a> |</li>
        <li class="right" >
          <a href="finite_state_machine.html" title="Finite State Machines, Automata, Transducers"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Combinatorics</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../module_list.html" >Comprehensive Module list</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>