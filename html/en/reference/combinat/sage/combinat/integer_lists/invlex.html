
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Enumerated set of lists of integers with constraints, in inverse lexicographic order &#8212; Sage 9.5 Reference Manual: Combinatorics</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script async="async" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Counting, generating, and manipulating non-negative integer matrices" href="../integer_matrices.html" />
    <link rel="prev" title="Enumerated set of lists of integers with constraints: front-end" href="lists.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../integer_matrices.html" title="Counting, generating, and manipulating non-negative integer matrices"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lists.html" title="Enumerated set of lists of integers with constraints: front-end"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.5 Reference Manual: Combinatorics</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../../module_list.html" accesskey="U">Comprehensive Module List</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Enumerated set of lists of integers with constraints, in inverse lexicographic order</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="enumerated-set-of-lists-of-integers-with-constraints-in-inverse-lexicographic-order">
<span id="sage-combinat-integer-lists-invlex"></span><h1>Enumerated set of lists of integers with constraints, in inverse lexicographic order<a class="headerlink" href="#enumerated-set-of-lists-of-integers-with-constraints-in-inverse-lexicographic-order" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.combinat.integer_lists.invlex"></span><ul class="simple">
<li><p><a class="reference internal" href="#sage.combinat.integer_lists.invlex.IntegerListsLex" title="sage.combinat.integer_lists.invlex.IntegerListsLex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerListsLex</span></code></a>: the enumerated set of lists of nonnegative
integers with specified constraints, in inverse lexicographic order.</p></li>
<li><p><a class="reference internal" href="#sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex" title="sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerListsBackend_invlex</span></code></a>: Cython back-end for
<a class="reference internal" href="#sage.combinat.integer_lists.invlex.IntegerListsLex" title="sage.combinat.integer_lists.invlex.IntegerListsLex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerListsLex</span></code></a>.</p></li>
</ul>
<p>HISTORY:</p>
<p>This generic tool was originally written by Hivert and Thiery in
MuPAD-Combinat in 2000 and ported over to Sage by Mike Hansen in
2007. It was then completely rewritten in 2015 by Gillespie,
Schilling, and Thiery, with the help of many, to deal with
limitations and lack of robustness w.r.t. input.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.combinat.integer_lists.invlex.</span></span><span class="sig-name descname"><span class="pre">IntegerListsBackend_invlex</span></span><a class="headerlink" href="#sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#sage.combinat.integer_lists.base.IntegerListsBackend" title="sage.combinat.integer_lists.base.IntegerListsBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.integer_lists.base.IntegerListsBackend</span></code></a></p>
<p>Cython back-end of an set of lists of integers with specified
constraints enumerated in inverse lexicographic order.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex.check">
<span class="sig-name descname"><span class="pre">check</span></span><a class="headerlink" href="#sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.combinat.integer_lists.invlex.IntegerListsLex">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.combinat.integer_lists.invlex.</span></span><span class="sig-name descname"><span class="pre">IntegerListsLex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.integer_lists.invlex.IntegerListsLex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="lists.html#sage.combinat.integer_lists.lists.IntegerLists" title="sage.combinat.integer_lists.lists.IntegerLists"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.integer_lists.lists.IntegerLists</span></code></a></p>
<p>Lists of nonnegative integers with constraints, in inverse
lexicographic order.</p>
<p>An <em>integer list</em> is a list <span class="math notranslate nohighlight">\(l\)</span> of nonnegative integers, its <em>parts</em>. The
slope (at position <span class="math notranslate nohighlight">\(i\)</span>) is the difference <code class="docutils literal notranslate"><span class="pre">l[i+1]-l[i]</span></code> between two
consecutive parts.</p>
<p>This class allows to construct the set <span class="math notranslate nohighlight">\(S\)</span> of all integer lists
<span class="math notranslate nohighlight">\(l\)</span> satisfying specified bounds on the sum, the length, the slope,
and the individual parts, enumerated in <em>inverse</em> lexicographic
order, that is from largest to smallest in lexicographic
order. Note that, to admit such an enumeration, <span class="math notranslate nohighlight">\(S\)</span> is almost
necessarily finite (see <a class="reference internal" href="#integerlistslex-finiteness"><span class="std std-ref">On finiteness and inverse lexicographic enumeration</span></a>).</p>
<p>The main purpose is to provide a generic iteration engine for all the
enumerated sets like <a class="reference internal" href="../partition.html#sage.combinat.partition.Partitions" title="sage.combinat.partition.Partitions"><code class="xref py py-class docutils literal notranslate"><span class="pre">Partitions</span></code></a>, <a class="reference internal" href="../composition.html#sage.combinat.composition.Compositions" title="sage.combinat.composition.Compositions"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compositions</span></code></a>,
<a class="reference internal" href="../integer_vector.html#sage.combinat.integer_vector.IntegerVectors" title="sage.combinat.integer_vector.IntegerVectors"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerVectors</span></code></a>. It can also be used to generate many other
combinatorial objects like Dyck paths, Motzkin paths, etc. Mathematically
speaking, this is a special case of set of integral points of a polytope (or
union thereof, when the length is not fixed).</p>
<p>INPUT:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">min_sum</span></code> – a nonnegative integer (default: 0):
a lower bound on <code class="docutils literal notranslate"><span class="pre">sum(l)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_sum</span></code> – a nonnegative integer or <span class="math notranslate nohighlight">\(\infty\)</span> (default: <span class="math notranslate nohighlight">\(\infty\)</span>):
an upper bound on <code class="docutils literal notranslate"><span class="pre">sum(l)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – a nonnegative integer (optional): if specified, this
overrides <code class="docutils literal notranslate"><span class="pre">min_sum</span></code> and <code class="docutils literal notranslate"><span class="pre">max_sum</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_length</span></code> – a nonnegative integer (default: <span class="math notranslate nohighlight">\(0\)</span>): a lower
bound on <code class="docutils literal notranslate"><span class="pre">len(l)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_length</span></code> – a nonnegative integer or <span class="math notranslate nohighlight">\(\infty\)</span> (default:
<span class="math notranslate nohighlight">\(\infty\)</span>): an upper bound on <code class="docutils literal notranslate"><span class="pre">len(l)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">length</span></code> – an integer (optional); overrides <code class="docutils literal notranslate"><span class="pre">min_length</span></code>
and <code class="docutils literal notranslate"><span class="pre">max_length</span></code> if specified;</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">min_part</span></code> – a nonnegative integer: a lower bounds on all</dt><dd><p>parts: <code class="docutils literal notranslate"><span class="pre">min_part</span> <span class="pre">&lt;=</span> <span class="pre">l[i]</span></code> for <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">len(l)</span></code>.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">floor</span></code> – a list of nonnegative integers or a function: lower
bounds on the individual parts <span class="math notranslate nohighlight">\(l[i]\)</span>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">floor</span></code> is a list of integers, then <code class="docutils literal notranslate"><span class="pre">floor&lt;=l[i]</span></code> for <code class="docutils literal notranslate"><span class="pre">0</span>
<span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">min(len(l),</span> <span class="pre">len(floor)</span></code>. Similarly, if <code class="docutils literal notranslate"><span class="pre">floor</span></code> is a
function, then <code class="docutils literal notranslate"><span class="pre">floor(i)</span> <span class="pre">&lt;=</span> <span class="pre">l[i]</span></code> for <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">len(l)</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_part</span></code> – a nonnegative integer or <span class="math notranslate nohighlight">\(\infty\)</span>: an upper
bound on all parts: <code class="docutils literal notranslate"><span class="pre">l[i]</span> <span class="pre">&lt;=</span> <span class="pre">max_part</span></code> for <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">len(l)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ceiling</span></code> – upper bounds on the individual parts <code class="docutils literal notranslate"><span class="pre">l[i]</span></code>;
this takes the same type of input as <code class="docutils literal notranslate"><span class="pre">floor</span></code>, except that
<span class="math notranslate nohighlight">\(\infty\)</span> is allowed in addition to integers, and the default
value is <span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_slope</span></code> – an integer or <span class="math notranslate nohighlight">\(-\infty\)</span> (default: <span class="math notranslate nohighlight">\(-\infty\)</span>):
an lower bound on the slope between consecutive parts:
<code class="docutils literal notranslate"><span class="pre">min_slope</span> <span class="pre">&lt;=</span> <span class="pre">l[i+1]-l[i]</span></code> for <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">len(l)-1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_slope</span></code> – an integer or <span class="math notranslate nohighlight">\(+\infty\)</span> (defaults: <span class="math notranslate nohighlight">\(+\infty\)</span>)
an upper bound on the slope between consecutive parts:
<code class="docutils literal notranslate"><span class="pre">l[i+1]-l[i]</span> <span class="pre">&lt;=</span> <span class="pre">max_slope</span></code> for <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">len(l)-1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">category</span></code> – a category (default: <a class="reference external" href="../../../../categories/sage/categories/finite_enumerated_sets.html#sage.categories.finite_enumerated_sets.FiniteEnumeratedSets" title="(in Sage 9.5 Reference Manual: Category Framework v9.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiniteEnumeratedSets</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>): whether to display the
warnings raised when functions are given as input to <code class="docutils literal notranslate"><span class="pre">floor</span></code>
or <code class="docutils literal notranslate"><span class="pre">ceiling</span></code> and the errors raised when there is no proper
enumeration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – a string or <code class="docutils literal notranslate"><span class="pre">None</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) if set,
this will be passed down to <code class="xref py py-meth docutils literal notranslate"><span class="pre">Parent.rename()</span></code> to specify the
name of <code class="docutils literal notranslate"><span class="pre">self</span></code>. It is recommended to use rename method directly
because this feature may become deprecated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">element_constructor</span></code> – a function (or callable) that creates
elements of <code class="docutils literal notranslate"><span class="pre">self</span></code> from a list. See also <a class="reference external" href="../../../../structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage 9.5 Reference Manual: Parents and Elements v9.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parent</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">element_class</span></code> – a class for the elements of <code class="docutils literal notranslate"><span class="pre">self</span></code>
(default: <span class="math notranslate nohighlight">\(ClonableArray\)</span>). This merely sets the attribute
<code class="docutils literal notranslate"><span class="pre">self.Element</span></code>. See the examples for details.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When several lists satisfying the constraints differ only by
trailing zeroes, only the shortest one is enumerated (and
therefore counted). The others are still considered valid.
See the examples below.</p>
<p>This feature is questionable. It is recommended not to rely on
it, as it may eventually be discontinued.</p>
</div>
<p>EXAMPLES:</p>
<p>We create the enumerated set of all lists of nonnegative integers
of length <span class="math notranslate nohighlight">\(3\)</span> and sum <span class="math notranslate nohighlight">\(2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">Integer lists of sum 2 satisfying certain constraints</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">C</span><span class="p">]</span>
<span class="go">[[2, 0, 0], [1, 1, 0], [1, 0, 1], [0, 2, 0], [0, 1, 1], [0, 0, 2]]</span>

<span class="gp">sage: </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="s2">&quot;a&quot;</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[2, 0, 0]</span>
</pre></div>
</div>
<p>One can specify lower and upper bounds on each part:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">[[3, 2, 0], [2, 2, 1], [1, 2, 2]]</span>
</pre></div>
</div>
<p>When the length is fixed as above, one can also use
<a class="reference internal" href="../integer_vector.html#sage.combinat.integer_vector.IntegerVectors" title="sage.combinat.integer_vector.IntegerVectors"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerVectors</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">IntegerVectors</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[2, 0, 0], [1, 1, 0], [1, 0, 1], [0, 2, 0], [0, 1, 1], [0, 0, 2]]</span>
</pre></div>
</div>
<p>Using the slope condition, one can generate integer partitions
(but see <a class="reference internal" href="../partition.html#sage.combinat.partition.Partitions" title="sage.combinat.partition.Partitions"><code class="xref py py-class docutils literal notranslate"><span class="pre">Partitions</span></code></a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="go">[[4], [3, 1], [2, 2], [2, 1, 1], [1, 1, 1, 1]]</span>
</pre></div>
</div>
<p>The following is the list of all partitions of <span class="math notranslate nohighlight">\(7\)</span> with parts at least <span class="math notranslate nohighlight">\(2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_part</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[[7], [5, 2], [4, 3], [3, 2, 2]]</span>
</pre></div>
</div>
<p class="rubric">floor and ceiling conditions</p>
<p>Next we list all partitions of <span class="math notranslate nohighlight">\(5\)</span> of length at most <span class="math notranslate nohighlight">\(3\)</span> which are
bounded below by <code class="docutils literal notranslate"><span class="pre">[2,1,1]</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">[[5], [4, 1], [3, 2], [3, 1, 1], [2, 2, 1]]</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">[5]</span></code> is considered valid, because the floor
constraints only apply to existing positions in the list. To
obtain instead the partitions containing <code class="docutils literal notranslate"><span class="pre">[2,1,1]</span></code>, one needs to
use <code class="docutils literal notranslate"><span class="pre">min_length</span></code> or <code class="docutils literal notranslate"><span class="pre">length</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">[[3, 1, 1], [2, 2, 1]]</span>
</pre></div>
</div>
<p>Here is the list of all partitions of <span class="math notranslate nohighlight">\(5\)</span> which are contained in
<code class="docutils literal notranslate"><span class="pre">[3,2,2]</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">[[3, 2], [3, 1, 1], [2, 2, 1]]</span>
</pre></div>
</div>
<p>This is the list of all compositions of <span class="math notranslate nohighlight">\(4\)</span> (but see <a class="reference internal" href="../composition.html#sage.combinat.composition.Compositions" title="sage.combinat.composition.Compositions"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compositions</span></code></a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">min_part</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[[4], [3, 1], [2, 2], [2, 1, 1], [1, 3], [1, 2, 1], [1, 1, 2], [1, 1, 1, 1]]</span>
</pre></div>
</div>
<p>This is the list of all integer vectors of sum <span class="math notranslate nohighlight">\(4\)</span> and length <span class="math notranslate nohighlight">\(3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[[4, 0, 0], [3, 1, 0], [3, 0, 1], [2, 2, 0], [2, 1, 1],</span>
<span class="go"> [2, 0, 2], [1, 3, 0], [1, 2, 1], [1, 1, 2], [1, 0, 3],</span>
<span class="go"> [0, 4, 0], [0, 3, 1], [0, 2, 2], [0, 1, 3], [0, 0, 4]]</span>
</pre></div>
</div>
<p>For whatever it is worth, the <code class="docutils literal notranslate"><span class="pre">floor</span></code> and <code class="docutils literal notranslate"><span class="pre">min_part</span></code>
constraints can be combined:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">min_part</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[5], [4, 1], [3, 2], [2, 3], [2, 1, 2]]</span>
</pre></div>
</div>
<p>This is achieved by updating the floor upon constructing <code class="docutils literal notranslate"><span class="pre">L</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">L</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="go">[2, 1, 2, 1, 1]</span>
</pre></div>
</div>
<p>Similarly, the <code class="docutils literal notranslate"><span class="pre">ceiling</span></code> and <code class="docutils literal notranslate"><span class="pre">max_part</span></code> constraints can be
combined:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">max_part</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[2, 2, 0], [2, 1, 1], [1, 2, 1]]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">L</span><span class="o">.</span><span class="n">ceiling</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="go">[2, 2, 1, 2, 2]</span>
</pre></div>
</div>
<p>This can be used to generate Motzkin words (see
<a class="reference external" href="https://en.wikipedia.org/wiki/Motzkin_number">Wikipedia article Motzkin_number</a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">motzkin_words</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_slope</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">....: </span>               <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="o">+</span><span class="n">oo</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span><span class="o">+</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">motzkin_words</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[0, 1, 2, 1, 0],</span>
<span class="go"> [0, 1, 1, 1, 0],</span>
<span class="go"> [0, 1, 1, 0, 0],</span>
<span class="go"> [0, 1, 0, 1, 0],</span>
<span class="go"> [0, 1, 0, 0, 0],</span>
<span class="go"> [0, 0, 1, 1, 0],</span>
<span class="go"> [0, 0, 1, 0, 0],</span>
<span class="go"> [0, 0, 0, 1, 0],</span>
<span class="go"> [0, 0, 0, 0, 0]]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">motzkin_words</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="go">[1, 1, 2, 4, 9, 21, 51, 127]</span>
<span class="gp">sage: </span><span class="n">oeis</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>                  <span class="c1"># optional -- internet</span>
<span class="go">0: A001006: Motzkin numbers: number of ways of drawing any number</span>
<span class="go">of nonintersecting chords joining n (labeled) points on a circle.</span>
<span class="go">1: ...</span>
<span class="go">2: ...</span>
</pre></div>
</div>
<p>or Dyck words (see also <a class="reference internal" href="../dyck_word.html#sage.combinat.dyck_word.DyckWords" title="sage.combinat.dyck_word.DyckWords"><code class="xref py py-class docutils literal notranslate"><span class="pre">DyckWords</span></code></a>), through the bijection
with paths from <span class="math notranslate nohighlight">\((0,0)\)</span> to <span class="math notranslate nohighlight">\((n,n)\)</span> with left and up steps that remain
below the diagonal:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">dyck_words</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">ceiling</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span> <span class="n">min_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">dyck_words</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="go">[1, 1, 2, 5, 14, 42, 132, 429]</span>
<span class="gp">sage: </span><span class="n">dyck_words</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[0, 1, 2], [0, 1, 1], [0, 0, 2], [0, 0, 1], [0, 0, 0]]</span>
</pre></div>
</div>
<p class="rubric" id="integerlistslex-finiteness">On finiteness and inverse lexicographic enumeration</p>
<p>The set of all lists of integers cannot be enumerated in inverse
lexicographic order, since there is no largest list (take <span class="math notranslate nohighlight">\([n]\)</span>
for <span class="math notranslate nohighlight">\(n\)</span> as large as desired):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">()</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: could not prove that the specified constraints yield a finite set</span>
</pre></div>
</div>
<p>Here is a variant which could be enumerated in lexicographic order
but not in inverse lexicographic order:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="n">Infinity</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: infinite upper bound for values of m</span>
</pre></div>
</div>
<p>Even when the sum is specified, it is not necessarily possible to
enumerate <em>all</em> elements in inverse lexicographic order. In the
following example, the list <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1]</span></code> will never appear in the
enumeration:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: could not prove that the specified constraints yield a finite set</span>
</pre></div>
</div>
<p>If one wants to proceed anyway, one can sign a waiver by setting
<code class="docutils literal notranslate"><span class="pre">check=False</span></code> (again, be warned that some valid lists may never appear):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[[3], [2, 1], [2, 0, 1], [2, 0, 0, 1], [2, 0, 0, 0, 1], [2, 0, 0, 0, 0, 1]]</span>
</pre></div>
</div>
<p>In fact, being inverse lexicographically enumerable is almost
equivalent to being finite. The only infinity that can occur would
be from a tail of numbers <span class="math notranslate nohighlight">\(0,1\)</span> as in the previous example, where
the <span class="math notranslate nohighlight">\(1\)</span> moves further and further to the right. If there is any
list that is inverse lexicographically smaller than such a
configuration, the iterator would not reach it and hence would not
be considered iterable. Given that the infinite cases are very
specific, at this point only the finite cases are supported
(without signing the waiver).</p>
<p>The finiteness detection is not complete yet, so some finite cases
may not be supported either, at least not without disabling the
checks. Practical examples of such are welcome.</p>
<p class="rubric">On trailing zeroes, and their caveats</p>
<p>As mentioned above, when several lists satisfying the constraints
differ only by trailing zeroes, only the shortest one is listed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">max_part</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[1, 1, 1, 1],</span>
<span class="go"> [1, 1, 1],</span>
<span class="go"> [1, 1, 0, 1],</span>
<span class="go"> [1, 1],</span>
<span class="go"> [1, 0, 1, 1],</span>
<span class="go"> [1, 0, 1],</span>
<span class="go"> [1, 0, 0, 1],</span>
<span class="go"> [1],</span>
<span class="go"> [0, 1, 1, 1],</span>
<span class="go"> [0, 1, 1],</span>
<span class="go"> [0, 1, 0, 1],</span>
<span class="go"> [0, 1],</span>
<span class="go"> [0, 0, 1, 1],</span>
<span class="go"> [0, 0, 1],</span>
<span class="go"> [0, 0, 0, 1],</span>
<span class="go"> []]</span>
</pre></div>
</div>
<p>and counted:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">16</span>
</pre></div>
</div>
<p>Still, the others are considered as elements of <span class="math notranslate nohighlight">\(L\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">max_length</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[..., [2, 2, 0], ...]</span>

<span class="gp">sage: </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">L</span>       <span class="c1"># in L.list()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">L</span>    <span class="c1"># not in L.list() !</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">L</span>
<span class="go">False</span>
</pre></div>
</div>
<p class="rubric">Specifying functions as input for the floor or ceiling</p>
<p>We construct all lists of sum <span class="math notranslate nohighlight">\(4\)</span> and length <span class="math notranslate nohighlight">\(4\)</span> such that <code class="docutils literal notranslate"><span class="pre">l[i]</span> <span class="pre">&lt;=</span> <span class="pre">i</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ceiling</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">[[0, 1, 2, 1], [0, 1, 1, 2], [0, 1, 0, 3], [0, 0, 2, 2], [0, 0, 1, 3]]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When passing a function as <code class="docutils literal notranslate"><span class="pre">floor</span></code> or <code class="docutils literal notranslate"><span class="pre">ceiling</span></code>, it may
become undecidable to detect improper inverse lexicographic
enumeration. For example, the following example has a finite
enumeration:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">2</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[3],</span>
<span class="go"> [2, 1],</span>
<span class="go"> [2, 0, 1],</span>
<span class="go"> [1, 2],</span>
<span class="go"> [1, 1, 1],</span>
<span class="go"> [1, 0, 2],</span>
<span class="go"> [1, 0, 1, 1],</span>
<span class="go"> [0, 3],</span>
<span class="go"> [0, 2, 1],</span>
<span class="go"> [0, 1, 2],</span>
<span class="go"> [0, 1, 1, 1],</span>
<span class="go"> [0, 0, 3],</span>
<span class="go"> [0, 0, 2, 1],</span>
<span class="go"> [0, 0, 1, 2],</span>
<span class="go"> [0, 0, 1, 1, 1]]</span>
</pre></div>
</div>
<p>but one cannot decide whether the following has an improper
inverse lexicographic enumeration without computing the floor
all the way to <code class="docutils literal notranslate"><span class="pre">Infinity</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[[3], [2, 1], [2, 0, 1], [2, 0, 0, 1], [2, 0, 0, 0, 1], [2, 0, 0, 0, 0, 1]]</span>
</pre></div>
</div>
<p>Hence a warning is raised when a function is specified as
input, unless the waiver is signed by setting <code class="docutils literal notranslate"><span class="pre">check=False</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">i</span><span class="o">&gt;=</span><span class="mi">2</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">doctest:...</span>
<span class="go">A function has been given as input of the floor=[...] or ceiling=[...]</span>
<span class="go">arguments of IntegerListsLex. Please see the documentation for the caveats.</span>
<span class="go">If you know what you are doing, you can set check=False to skip this warning.</span>
</pre></div>
</div>
<p>Similarly, the algorithm may need to search forever for a
solution when the ceiling is ultimately zero:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">ceiling</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>           <span class="c1"># not tested: will hang forever</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">ceiling</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span><span class="mi">0</span> <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">20</span> <span class="k">else</span> <span class="mi">1</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1]</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1]</span>
</pre></div>
</div>
</div>
<p class="rubric">Tip: using disjoint union enumerated sets for additional flexibility</p>
<p>Sometimes, specifying a range for the sum or the length may be too
restrictive. One would want instead to specify a list, or
iterable <span class="math notranslate nohighlight">\(L\)</span>, of acceptable values. This is easy to achieve using
a <a class="reference external" href="../../../../sets/sage/sets/disjoint_union_enumerated_sets.html#sage.sets.disjoint_union_enumerated_sets.DisjointUnionEnumeratedSets" title="(in Sage 9.5 Reference Manual: Sets v9.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">disjoint</span> <span class="pre">union</span> <span class="pre">of</span> <span class="pre">enumerated</span> <span class="pre">sets</span></code></a>.
Here we want to accept the values <span class="math notranslate nohighlight">\(n=0,2,3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">DisjointUnionEnumeratedSets</span><span class="p">(</span><span class="n">Family</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">....: </span>        <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">Disjoint union of Finite family</span>
<span class="go">{0: Integer lists of sum 0 satisfying certain constraints,</span>
<span class="go"> 2: Integer lists of sum 2 satisfying certain constraints,</span>
<span class="go"> 3: Integer lists of sum 3 satisfying certain constraints}</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[0, 0],</span>
<span class="go"> [2, 0], [1, 1], [0, 2],</span>
<span class="go"> [3, 0], [2, 1], [1, 2], [0, 3]]</span>
</pre></div>
</div>
<p>The price to pay is that the enumeration order is now <em>graded
lexicographic</em> instead of lexicographic: first choose the value
according to the order specified by <span class="math notranslate nohighlight">\(L\)</span>, and use lexicographic
order within each value. Here is we reverse <span class="math notranslate nohighlight">\(L\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">DisjointUnionEnumeratedSets</span><span class="p">(</span><span class="n">Family</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">)))</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[3, 0], [2, 1], [1, 2], [0, 3],</span>
<span class="go"> [2, 0], [1, 1], [0, 2],</span>
<span class="go"> [0, 0]]</span>
</pre></div>
</div>
<p>Note that if a given value appears several times, the
corresponding elements will be enumerated several times, which
may, or not, be what one wants:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">DisjointUnionEnumeratedSets</span><span class="p">(</span><span class="n">Family</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">)))</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[2, 0], [1, 1], [0, 2], [2, 0], [1, 1], [0, 2]]</span>
</pre></div>
</div>
<p>Here is a variant where we specify acceptable values for the
length:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">DisjointUnionEnumeratedSets</span><span class="p">(</span><span class="n">Family</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">....: </span>    <span class="k">lambda</span> <span class="n">l</span><span class="p">:</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="n">l</span><span class="p">)))</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[2],</span>
<span class="go"> [2, 0, 0], [1, 1, 0], [1, 0, 1], [0, 2, 0], [0, 1, 1], [0, 0, 2]]</span>
</pre></div>
</div>
<p>This technique can also be useful to obtain a proper enumeration
on infinite sets by using a graded lexicographic enumeration:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">DisjointUnionEnumeratedSets</span><span class="p">(</span><span class="n">Family</span><span class="p">(</span><span class="n">NN</span><span class="p">,</span>
<span class="gp">....: </span>        <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">Disjoint union of Lazy family (&lt;lambda&gt;(i))_{i in Non negative integer semiring}</span>
<span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="go">[[0, 0],</span>
<span class="go"> [1, 0], [0, 1],</span>
<span class="go"> [2, 0], [1, 1], [0, 2],</span>
<span class="go"> [3, 0], [2, 1], [1, 2], [0, 3]]</span>
</pre></div>
</div>
<p class="rubric">Specifying how to construct elements</p>
<p>This is the list of all monomials of degree <span class="math notranslate nohighlight">\(4\)</span> which divide the
monomial <span class="math notranslate nohighlight">\(x^3y^1z^2\)</span> (a monomial being identified with its
exponent vector):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">term</span><span class="p">(</span><span class="n">exponents</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">x</span><span class="o">^</span><span class="n">exponents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="o">^</span><span class="n">exponents</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="o">^</span><span class="n">exponents</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="n">ceiling</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">element_constructor</span><span class="o">=</span><span class="n">term</span><span class="p">)</span> <span class="p">)</span>
<span class="go">[x^3*y, x^3*z, x^2*y*z, x^2*z^2, x*y*z^2]</span>
</pre></div>
</div>
<p>Note the use of the <code class="docutils literal notranslate"><span class="pre">element_constructor</span></code> option to specify how
to construct elements from a plain list.</p>
<p>A variant is to specify a class for the elements. With the default
element constructor, this class should take as input the parent
<code class="docutils literal notranslate"><span class="pre">self</span></code> and a list.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The protocol for specifying the element class and constructor
is subject to changes.</p>
</div>
<p>ALGORITHM:</p>
<p>The iteration algorithm uses a depth first search through the
prefix tree of the list of integers (see also
<a class="reference internal" href="../tutorial.html#section-generic-integerlistlex"><span class="std std-ref">Lexicographic generation of lists of integers</span></a>). While doing so, it does
some lookahead heuristics to attempt to cut dead branches.</p>
<p>In most practical use cases, most dead branches are cut. Then,
roughly speaking, the time needed to iterate through all the
elements of <span class="math notranslate nohighlight">\(S\)</span> is proportional to the number of elements, where
the proportion factor is controlled by the length <span class="math notranslate nohighlight">\(l\)</span> of the
longest element of <span class="math notranslate nohighlight">\(S\)</span>. In addition, the memory usage is also
controlled by <span class="math notranslate nohighlight">\(l\)</span>, which is to say negligible in practice.</p>
<p>Still, there remains much room for efficiency improvements; see
<a class="reference external" href="https://trac.sagemath.org/18055">trac ticket #18055</a>, <a class="reference external" href="https://trac.sagemath.org/18056">trac ticket #18056</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generation algorithm could in principle be extended to
deal with non-constant slope constraints and with negative
parts.</p>
</div>
<p class="rubric">TESTS from comments on <a class="reference external" href="https://trac.sagemath.org/17979">trac ticket #17979</a></p>
<p>Comment 191:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Comment 240:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_part</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[0, 0]]</span>
</pre></div>
</div>
<p class="rubric">Tests on the element constructor feature and mutability</p>
<p>Internally, the iterator works on a single list that is mutated
along the way. Therefore, you need to make sure that the
<code class="docutils literal notranslate"><span class="pre">element_constructor</span></code> actually <strong>copies</strong> its input. This example
shows what can go wrong:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_part</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">element_constructor</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">[[], [], []]</span>
</pre></div>
</div>
<p>However, specifying <code class="docutils literal notranslate"><span class="pre">list()</span></code> as constructor solves this problem:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">IntegerListsLex</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_slope</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_part</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">element_constructor</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">[[3], [2, 1], [1, 1, 1]]</span>
</pre></div>
</div>
<p>Same, step by step:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">);</span> <span class="n">a</span>
<span class="go">[3]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">);</span> <span class="n">b</span>
<span class="go">[2, 1]</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">[3]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Tests from <a class="reference external" href="http://mupad-combinat.svn.sourceforge.net/viewvc/mupad-combinat/trunk/MuPAD-Combinat/lib/COMBINAT/TEST/MachineIntegerListsLex.tst">MuPAD-Combinat</a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">83</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">53</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">30</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">43</span>

<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[]</span>

<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>  <span class="c1"># Was [1,1], due to slightly different specs</span>
<span class="go">[2]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[1, 1, 0, 0, 0]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[1, 1, 0, 0, 0]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[2, 1, 2]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[3, 1, 2]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[3, 1, 2, 3, 2, 1]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">[3, 1, 2, 3, 2, 2]</span>
<span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">floor</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">ceiling</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
<p>This used to hang (see comment 389 and fix in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Envelope.__init__()</span></code>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">IntegerListsLex</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">max_part</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ceiling</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.combinat.integer_lists.invlex.IntegerListsLex.backend_class">
<span class="sig-name descname"><span class="pre">backend_class</span></span><a class="headerlink" href="#sage.combinat.integer_lists.invlex.IntegerListsLex.backend_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex" title="sage.combinat.integer_lists.invlex.IntegerListsBackend_invlex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerListsBackend_invlex</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.combinat.integer_lists.invlex.IntegerListsLexIter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.combinat.integer_lists.invlex.</span></span><span class="sig-name descname"><span class="pre">IntegerListsLexIter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.integer_lists.invlex.IntegerListsLexIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Iterator class for IntegerListsLex.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">T</span></code> be the prefix tree of all lists of nonnegative
integers that satisfy all constraints except possibly for
<code class="docutils literal notranslate"><span class="pre">min_length</span></code> and <code class="docutils literal notranslate"><span class="pre">min_sum</span></code>; let the children of a list
be sorted decreasingly according to their last part.</p>
<p>The iterator is based on a depth-first search exploration of a
subtree of this tree, trying to cut branches that do not
contain a valid list. Each call of <code class="docutils literal notranslate"><span class="pre">next</span></code> iterates through
the nodes of this tree until it finds a valid list to return.</p>
<p>Here are the attributes describing the current state of the
iterator,  and their invariants:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backend</span></code> – the <code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerListsBackend</span></code> object this is
iterating on;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_current_list</span></code> – the list corresponding to the current
node of the tree;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_j</span></code> – the index of the last element of <code class="docutils literal notranslate"><span class="pre">_current_list</span></code>:
<code class="docutils literal notranslate"><span class="pre">self._j</span> <span class="pre">==</span> <span class="pre">len(self._current_list)</span> <span class="pre">-</span> <span class="pre">1</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_current_sum</span></code> – the sum of the parts of <code class="docutils literal notranslate"><span class="pre">_current_list</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_search_ranges</span></code> – a list of same length as
<code class="docutils literal notranslate"><span class="pre">_current_list</span></code>: the range for each part.</p></li>
</ul>
<p>Furthermore, we assume that there is no obvious contradiction
in the constraints:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self.backend.min_length</span> <span class="pre">&lt;=</span> <span class="pre">self.backend.max_length</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.backend.min_slope</span> <span class="pre">&lt;=</span> <span class="pre">self.backend.max_slope</span></code>
unless <code class="docutils literal notranslate"><span class="pre">self.backend.min_length</span> <span class="pre">&lt;=</span> <span class="pre">1</span></code>.</p></li>
</ul>
<p>Along this iteration, <code class="docutils literal notranslate"><span class="pre">next</span></code> switches between the following
states:</p>
<ul class="simple">
<li><p>LOOKAHEAD: determine whether the current list could be a
prefix of a valid list;</p></li>
<li><p>PUSH: go deeper into the prefix tree by appending the
largest possible part to the current list;</p></li>
<li><p>ME: check whether the current list is valid and if yes return it</p></li>
<li><p>DECREASE: decrease the last part;</p></li>
<li><p>POP: pop the last part of the current list;</p></li>
<li><p>STOP: the iteration is finished.</p></li>
</ul>
<p>The attribute <code class="docutils literal notranslate"><span class="pre">_next_state</span></code> contains the next state <code class="docutils literal notranslate"><span class="pre">next</span></code>
should enter in.</p>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="lists.html"
                        title="previous chapter">Enumerated set of lists of integers with constraints: front-end</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../integer_matrices.html"
                        title="next chapter">Counting, generating, and manipulating non-negative integer matrices</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/sage/combinat/integer_lists/invlex.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../integer_matrices.html" title="Counting, generating, and manipulating non-negative integer matrices"
             >next</a> |</li>
        <li class="right" >
          <a href="lists.html" title="Enumerated set of lists of integers with constraints: front-end"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.5 Reference Manual: Combinatorics</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../../module_list.html" >Comprehensive Module List</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Enumerated set of lists of integers with constraints, in inverse lexicographic order</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>