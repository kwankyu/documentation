
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Set Partitions &#8212; Sage Reference Manual v8.4: Combinatorics</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Ordered Set Partitions" href="set_partition_ordered.html" />
    <link rel="prev" title="Schubert Polynomials" href="schubert_polynomial.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="set_partition_ordered.html" title="Ordered Set Partitions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="schubert_polynomial.html" title="Schubert Polynomials"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Combinatorics</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../module_list.html" accesskey="U">Comprehensive Module list</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="set-partitions">
<span id="sage-combinat-set-partition"></span><h1>Set Partitions<a class="headerlink" href="#set-partitions" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.combinat.set_partition"></span><p>AUTHORS:</p>
<ul class="simple">
<li>Mike Hansen</li>
<li>MuPAD-Combinat developers (for algorithms and design inspiration).</li>
<li>Travis Scrimshaw (2013-02-28): Removed <code class="docutils literal notranslate"><span class="pre">CombinatorialClass</span></code> and added
entry point through <a class="reference internal" href="#sage.combinat.set_partition.SetPartition" title="sage.combinat.set_partition.SetPartition"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPartition</span></code></a>.</li>
<li>Martin Rubey (2017-10-10): Cleanup, add crossings and nestings, add
random generation.</li>
</ul>
<p>This module defines a class for immutable partitioning of a set. For
mutable version see <a class="reference external" href="../../../sets/sage/sets/disjoint_set.html#sage.sets.disjoint_set.DisjointSet" title="(in Sage Reference Manual: Sets v8.4)"><code class="xref py py-func docutils literal notranslate"><span class="pre">DisjointSet()</span></code></a>.</p>
<dl class="class">
<dt id="sage.combinat.set_partition.AbstractSetPartition">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">AbstractSetPartition</code><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/list_clone.html#sage.structure.list_clone.ClonableArray" title="(in Sage Reference Manual: Parents and Elements v8.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.list_clone.ClonableArray</span></code></a></p>
<p>Methods of set partitions which are independent of the base set</p>
<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.base_set">
<code class="descname">base_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.base_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base set of <code class="docutils literal notranslate"><span class="pre">self</span></code>, which is the union of all parts
of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">base_set</span><span class="p">()</span>
<span class="go">{1, 2, 3, 4}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">base_set</span><span class="p">()</span>
<span class="go">{1, 2, 3, 4}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">base_set</span><span class="p">()</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.base_set_cardinality">
<code class="descname">base_set_cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.base_set_cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of the base set of <code class="docutils literal notranslate"><span class="pre">self</span></code>, which is the sum
of the sizes of the parts of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This is also known as the <em>size</em> (sometimes the <em>weight</em>) of
a set partition.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">base_set_cardinality</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">base_set_cardinality</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.coarsenings">
<code class="descname">coarsenings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.coarsenings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of coarsenings of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refinements()</span></code></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">coarsenings</span><span class="p">()</span>
<span class="go">[{{1, 2, 3, 4}}, {{1, 3}, {2, 4}}]</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">coarsenings</span><span class="p">()</span>
<span class="go">[{{1, 2, 3, 4}},</span>
<span class="go"> {{1, 2, 4}, {3}},</span>
<span class="go"> {{1, 3}, {2, 4}},</span>
<span class="go"> {{1}, {2, 3, 4}},</span>
<span class="go"> {{1}, {2, 4}, {3}}]</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">coarsenings</span><span class="p">()</span>
<span class="go">[{}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.inf">
<code class="descname">inf</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.inf" title="Permalink to this definition">¶</a></dt>
<dd><p>The product of the set partitions <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code>.</p>
<p>The product of two set partitions <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span> is defined as the
set partition whose parts are the nonempty intersections between
each part of <span class="math notranslate nohighlight">\(B\)</span> and each part of <span class="math notranslate nohighlight">\(C\)</span>. This product is also
the infimum of <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span> in the classical set partition
lattice (that is, the coarsest set partition which is finer than
each of <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span>). Consequently, <code class="docutils literal notranslate"><span class="pre">inf</span></code> acts as an alias for
this method.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.set_partition.AbstractSetPartition.sup" title="sage.combinat.set_partition.AbstractSetPartition.sup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sup()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="p">])</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">((</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="p">))</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="go">{{1, 2}, {3}, {4, 5}}</span>

<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sp1</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">sp2</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">sp1</span><span class="o">.</span><span class="n">inf</span><span class="p">(</span><span class="n">sp2</span><span class="p">)</span> <span class="o">==</span> <span class="n">s</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.max_block_size">
<code class="descname">max_block_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.max_block_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum block size of the diagram.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.diagram_algebras</span> <span class="kn">import</span> <span class="n">PartitionDiagram</span><span class="p">,</span> <span class="n">PartitionDiagrams</span>
<span class="gp">sage: </span><span class="n">pd</span> <span class="o">=</span> <span class="n">PartitionDiagram</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="mi">5</span><span class="p">],[</span><span class="o">-</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">pd</span><span class="o">.</span><span class="n">max_block_size</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">max_block_size</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">PartitionDiagrams</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">max_block_size</span><span class="p">()</span> <span class="k">for</span> <span class="n">sp</span> <span class="ow">in</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[1, 2, 2, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.standard_form">
<code class="descname">standard_form</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.standard_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> as a list of lists.</p>
<p>When the ground set is totally ordered, the elements of each
block are listed in increasing order.</p>
<p>This is not related to standard set partitions (which simply
means set partitions of <span class="math notranslate nohighlight">\([n] = \{ 1, 2, \ldots , n \}\)</span> for some
integer <span class="math notranslate nohighlight">\(n\)</span>) or standardization (<code class="xref py py-meth docutils literal notranslate"><span class="pre">standardization()</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">standard_form</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])]</span>
<span class="go">[[[1, 2], [3, 4]], [[1, 3], [2, 4]], [[1, 4], [2, 3]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.AbstractSetPartition.sup">
<code class="descname">sup</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.AbstractSetPartition.sup" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the supremum of <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span></code> in the classical set
partition lattice.</p>
<p>The supremum of two set partitions <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span> is obtained as the
transitive closure of the relation which relates <span class="math notranslate nohighlight">\(i\)</span> to <span class="math notranslate nohighlight">\(j\)</span> if
and only if <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span> are in the same part in at least
one of the set partitions <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__mul__()</span></code></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sp1</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">sp2</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">sp1</span><span class="o">.</span><span class="n">sup</span><span class="p">(</span><span class="n">sp2</span><span class="p">)</span> <span class="o">==</span> <span class="n">s</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.set_partition.SetPartition">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">SetPartition</code><span class="sig-paren">(</span><em>parent</em>, <em>s</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.set_partition.AbstractSetPartition" title="sage.combinat.set_partition.AbstractSetPartition"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.set_partition.AbstractSetPartition</span></code></a></p>
<p>A partition of a set.</p>
<p>A set partition <span class="math notranslate nohighlight">\(p\)</span> of a set <span class="math notranslate nohighlight">\(S\)</span> is a partition of <span class="math notranslate nohighlight">\(S\)</span> into subsets
called parts and represented as a set of sets. By extension, a set
partition of a nonnegative integer <span class="math notranslate nohighlight">\(n\)</span> is the set partition of the
integers from 1 to <span class="math notranslate nohighlight">\(n\)</span>. The number of set partitions of <span class="math notranslate nohighlight">\(n\)</span> is called
the <span class="math notranslate nohighlight">\(n\)</span>-th Bell number.</p>
<p>There is a natural integer partition associated with a set partition,
namely the nonincreasing sequence of sizes of all its parts.</p>
<p>There is a classical lattice associated with all set partitions of
<span class="math notranslate nohighlight">\(n\)</span>. The infimum of two set partitions is the set partition obtained
by intersecting all the parts of both set partitions. The supremum
is obtained by transitive closure of the relation <span class="math notranslate nohighlight">\(i\)</span> related to <span class="math notranslate nohighlight">\(j\)</span>
if and only if they are in the same part in at least one of the set
partitions.</p>
<p>We will use terminology from partitions, in particular the <em>length</em> of
a set partition <span class="math notranslate nohighlight">\(A = \{A_1, \ldots, A_k\}\)</span> is the number of parts of <span class="math notranslate nohighlight">\(A\)</span>
and is denoted by <span class="math notranslate nohighlight">\(|A| := k\)</span>. The <em>size</em> of <span class="math notranslate nohighlight">\(A\)</span> is the cardinality of <span class="math notranslate nohighlight">\(S\)</span>.
We will also sometimes use the notation <span class="math notranslate nohighlight">\([n] := \{1, 2, \ldots, n\}\)</span>.</p>
<p>EXAMPLES:</p>
<p>There are 5 set partitions of the set <span class="math notranslate nohighlight">\(\{1,2,3\}\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Here is the list of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[{{1, 2, 3}}, {{1, 2}, {3}}, {{1, 3}, {2}}, {{1}, {2, 3}}, {{1}, {2}, {3}}]</span>
</pre></div>
</div>
<p>There are 6 set partitions of <span class="math notranslate nohighlight">\(\{1,2,3,4\}\)</span> whose underlying partition is
<span class="math notranslate nohighlight">\([2, 1, 1]\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[{{1}, {2}, {3, 4}},</span>
<span class="go"> {{1}, {2, 4}, {3}},</span>
<span class="go"> {{1}, {2, 3}, {4}},</span>
<span class="go"> {{1, 4}, {2}, {3}},</span>
<span class="go"> {{1, 3}, {2}, {4}},</span>
<span class="go"> {{1, 2}, {3}, {4}}]</span>
</pre></div>
</div>
<p>Since <a class="reference external" href="https://trac.sagemath.org/14140">trac ticket #14140</a>, we can create a set partition directly by
<a class="reference internal" href="#sage.combinat.set_partition.SetPartition" title="sage.combinat.set_partition.SetPartition"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPartition</span></code></a>, which creates the base set by taking the
union of the parts passed in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]]);</span> <span class="n">s</span>
<span class="go">{{1, 3}, {2, 4}}</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set partitions</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.apply_permutation">
<code class="descname">apply_permutation</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.apply_permutation" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">p</span></code> to the underlying set of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">p</span></code> – a permutation</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Permutation</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">apply_permutation</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 4, 5}}</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">Permutation</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">apply_permutation</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">{{1, 4, 5}, {2, 3}}</span>

<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">apply_permutation</span><span class="p">(</span><span class="n">Permutation</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">[(1, 2), (3, 5), (4, 6)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.arcs">
<code class="descname">arcs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.arcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> as a list of arcs.</p>
<p>Assuming that the blocks are sorted, the arcs are the pairs
of consecutive elements in the blocks.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">arcs</span><span class="p">()</span>
<span class="go">[(2, 3)]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">arcs</span><span class="p">()</span>
<span class="go">[(1, 3), (3, 6), (6, 7), (2, 5)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the len of <code class="docutils literal notranslate"><span class="pre">self</span></code></p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.list_clone_demo</span> <span class="kn">import</span> <span class="n">IncreasingArrays</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">IncreasingArrays</span><span class="p">()([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that we are a valid set partition.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.crossings">
<code class="descname">crossings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.crossings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the crossing arcs of a set partition on a totally ordered set.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns a list of the pairs of crossing lines
(as a line correspond to a pair, it returns a list of
pairs of pairs).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">crossings</span><span class="p">()</span>
<span class="go">[((1, 4), (2, 5)), ((1, 4), (3, 6)), ((2, 5), (3, 6)), ((3, 6), (5, 7))]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.crossings_iterator">
<code class="descname">crossings_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.crossings_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the crossing arcs of a set partition on a totally ordered set.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns an iterator over the pairs of crossing
lines (as a line correspond to a pair, the iterator
produces pairs of pairs).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">crossings_iterator</span><span class="p">())</span>
<span class="go">((1, 4), (2, 5))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.is_atomic">
<code class="descname">is_atomic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.is_atomic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if <code class="docutils literal notranslate"><span class="pre">self</span></code> is an atomic set partition.</p>
<p>A (standard) set partition <span class="math notranslate nohighlight">\(A\)</span> can be split if there exist <span class="math notranslate nohighlight">\(j &lt; i\)</span>
such that <span class="math notranslate nohighlight">\(\max(A_j) &lt; \min(A_i)\)</span> where <span class="math notranslate nohighlight">\(A\)</span> is ordered by minimal
elements. This means we can write <span class="math notranslate nohighlight">\(A = B | C\)</span> for some nonempty set
partitions <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span>. We call a set partition <em>atomic</em> if it
cannot be split and is nonempty. Here, the pipe symbol
<span class="math notranslate nohighlight">\(|\)</span> is as defined in method <a class="reference internal" href="#sage.combinat.set_partition.SetPartition.pipe" title="sage.combinat.set_partition.SetPartition.pipe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pipe()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">is_atomic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">is_atomic</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">is_atomic</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">is_atomic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">is_atomic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">is_atomic</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.is_noncrossing">
<code class="descname">is_noncrossing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.is_noncrossing" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">self</span></code> is noncrossing.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane.  This
function returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the picture obtained this
way has no crossings.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_noncrossing</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">n</span>
<span class="go">[(1, 3), (2, 8), (4, 7), (5, 6)]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">is_noncrossing</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">PerfectMatching</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span><span class="o">.</span><span class="n">is_noncrossing</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.is_nonnesting">
<code class="descname">is_nonnesting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.is_nonnesting" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if <code class="docutils literal notranslate"><span class="pre">self</span></code> is nonnesting or not.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the picture obtained this
way has no nestings.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">n</span>
<span class="go">[(1, 3), (2, 8), (4, 7), (5, 6)]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">is_nonnesting</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">PerfectMatching</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span><span class="o">.</span><span class="n">is_nonnesting</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.latex_options">
<code class="descname">latex_options</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.latex_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the latex options for use in the <code class="docutils literal notranslate"><span class="pre">_latex_</span></code> function as a
dictionary. The default values are set using the global options.</p>
<p>Options can be found in <a class="reference internal" href="#sage.combinat.set_partition.SetPartition.set_latex_options" title="sage.combinat.set_partition.SetPartition.set_latex_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_latex_options()</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SP</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]]);</span> <span class="n">SP</span><span class="o">.</span><span class="n">latex_options</span><span class="p">()</span>
<span class="go">{&#39;angle&#39;: 0,</span>
<span class="go"> &#39;color&#39;: &#39;black&#39;,</span>
<span class="go"> &#39;fill&#39;: False,</span>
<span class="go"> &#39;plot&#39;: None,</span>
<span class="go"> &#39;radius&#39;: &#39;1cm&#39;,</span>
<span class="go"> &#39;show_labels&#39;: True,</span>
<span class="go"> &#39;tikz_scale&#39;: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.nestings">
<code class="descname">nestings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.nestings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the nestings of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns the list of the pairs of nesting lines
(as a line correspond to a pair, it returns a list of
pairs of pairs).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">nestings</span><span class="p">()</span>
<span class="go">[((1, 6), (3, 5)), ((2, 7), (3, 5))]</span>

<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">n</span>
<span class="go">[(1, 3), (2, 8), (4, 7), (5, 6)]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">nestings</span><span class="p">()</span>
<span class="go">[((2, 8), (4, 7)), ((2, 8), (5, 6)), ((4, 7), (5, 6))]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.nestings_iterator">
<code class="descname">nestings_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.nestings_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the nestings of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns an iterator over the pairs of nesting
lines (as a line correspond to a pair, the iterator
produces pairs of pairs).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">nestings_iterator</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">((1, 6), (3, 5))</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">((2, 7), (3, 5))</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">StopIteration</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.number_of_crossings">
<code class="descname">number_of_crossings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.number_of_crossings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of crossings.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns the number the pairs of crossing lines.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_crossings</span><span class="p">()</span>
<span class="go">4</span>

<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">n</span>
<span class="go">[(1, 3), (2, 8), (4, 7), (5, 6)]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">number_of_crossings</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.number_of_nestings">
<code class="descname">number_of_nestings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.number_of_nestings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of nestings of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT:</p>
<p>We place the elements of the ground set in order on a
line and draw the set partition by linking consecutive
elements of each block in the upper half-plane. This
function returns the number the pairs of nesting lines.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">PerfectMatching</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">n</span>
<span class="go">[(1, 3), (2, 8), (4, 7), (5, 6)]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">number_of_nestings</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.ordered_set_partition_action">
<code class="descname">ordered_set_partition_action</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.ordered_set_partition_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the action of an ordered set partition <code class="docutils literal notranslate"><span class="pre">s</span></code> on <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Let <span class="math notranslate nohighlight">\(A = \{A_1, A_2, \ldots, A_k\}\)</span> be a set partition of some
set <span class="math notranslate nohighlight">\(S\)</span> and <span class="math notranslate nohighlight">\(s\)</span> be an ordered set partition (i.e., set composition)
of a subset of <span class="math notranslate nohighlight">\([k]\)</span>. Let <span class="math notranslate nohighlight">\(A^{\downarrow}\)</span> denote the standardization
of <span class="math notranslate nohighlight">\(A\)</span>, and <span class="math notranslate nohighlight">\(A_{\{ i_1, i_2, \ldots, i_m \}}\)</span> denote the sub-partition
<span class="math notranslate nohighlight">\(\{A_{i_1}, A_{i_2}, \ldots, A_{i_m}\}\)</span> for any subset
<span class="math notranslate nohighlight">\(\{i_1, \ldots, i_m\}\)</span> of <span class="math notranslate nohighlight">\(\{1, \ldots, k\}\)</span>. We define the set
partition <span class="math notranslate nohighlight">\(s(A)\)</span> by</p>
<div class="math notranslate nohighlight">
\[s(A) = A_{s_1}^{\downarrow} | A_{s_2}^{\downarrow} | \cdots
| A_{s_q}^{\downarrow}.\]</div>
<p>where <span class="math notranslate nohighlight">\(s = (s_1, s_2, \ldots, s_q)\)</span>. Here, the pipe symbol
<span class="math notranslate nohighlight">\(|\)</span> is as defined in method <a class="reference internal" href="#sage.combinat.set_partition.SetPartition.pipe" title="sage.combinat.set_partition.SetPartition.pipe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pipe()</span></code></a>.</p>
<p>This is <span class="math notranslate nohighlight">\(s[A]\)</span> in section 2.3 in <a class="reference internal" href="../../../references/index.html#lm2011" id="id1">[LM2011]</a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">s</span></code> – an ordered set partition with base set a subset
of <span class="math notranslate nohighlight">\(\{1, \ldots, k\}\)</span></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">OrderedSetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">{{1}, {2}, {3, 4}}</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">OrderedSetPartition</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">{{1, 3}, {2}, {4}}</span>
</pre></div>
</div>
<p>We create Figure 1 in <a class="reference internal" href="../../../references/index.html#lm2011" id="id2">[LM2011]</a> (we note that there is a typo in the
lower-left corner of the table in the published version of the
paper, whereas the arXiv version gives the correct partition):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">OrderedSetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">OrderedSetPartition</span><span class="p">([[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">OrderedSetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 4, 5}, {6, 7}}</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 4, 6}, {5}}</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 8}, {4, 5, 7}, {6}}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 4, 5}, {6, 7}}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 4, 5}, {6}}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 8}, {4, 5, 6}, {7}}</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">{{1, 4}, {2, 3, 5}, {6, 7}}</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 4, 5}, {6}}</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">ordered_set_partition_action</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="go">{{1, 2}, {3, 8}, {4, 5, 6}, {7}}</span>
</pre></div>
</div>
<p>REFERENCES:</p>
<ul class="simple">
<li><a class="reference internal" href="../../../references/index.html#lm2011" id="id3">[LM2011]</a></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.pipe">
<code class="descname">pipe</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pipe of the set partitions <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code>.</p>
<p>The pipe of two set partitions is defined as follows:</p>
<p>For any integer <span class="math notranslate nohighlight">\(k\)</span> and any subset <span class="math notranslate nohighlight">\(I\)</span> of <span class="math notranslate nohighlight">\(\ZZ\)</span>, let <span class="math notranslate nohighlight">\(I + k\)</span>
denote the subset of <span class="math notranslate nohighlight">\(\ZZ\)</span> obtained by adding <span class="math notranslate nohighlight">\(k\)</span> to every
element of <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span> are set partitions of <span class="math notranslate nohighlight">\([n]\)</span> and <span class="math notranslate nohighlight">\([m]\)</span>,
respectively, then the pipe of <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span> is defined as the
set partition</p>
<div class="math notranslate nohighlight">
\[\{ B_1, B_2, \ldots, B_b,
C_1 + n, C_2 + n, \ldots, C_c + n \}\]</div>
<p>of <span class="math notranslate nohighlight">\([n+m]\)</span>, where <span class="math notranslate nohighlight">\(B = \{ B_1, B_2, \ldots, B_b \}\)</span> and
<span class="math notranslate nohighlight">\(C = \{ C_1, C_2, \ldots, C_c \}\)</span>. This pipe is denoted by
<span class="math notranslate nohighlight">\(B | C\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">]]))</span>
<span class="go">{{1, 3}, {2, 4}, {5, 7}, {6}}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">4</span><span class="p">]]))</span>
<span class="go">{{1, 2}, {3, 5}, {4}}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">SetPartition</span><span class="p">([]))</span>
<span class="go">{{1, 2}, {3, 5}, {4}}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">]]))</span>
<span class="go">{{1, 2}, {3}, {4}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>angle=None</em>, <em>color='black'</em>, <em>base_set_dict=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a plot of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">angle</span></code> – (default: <span class="math notranslate nohighlight">\(\pi/4\)</span>) the angle at which the arcs take off
(if angle is negative, the arcs are drawn below the horizontal line)</li>
<li><code class="docutils literal notranslate"><span class="pre">color</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">'black'</span></code>) color of the arcs</li>
<li><code class="docutils literal notranslate"><span class="pre">base_set_dict</span></code> – (optional) dictionary with keys elements
of <code class="xref py py-meth docutils literal notranslate"><span class="pre">base_set()</span></code> and values as integer or float</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="go">Graphics object consisting of 29 graphics primitives</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/set_partition-1.png" src="../../_images/set_partition-1.png" />
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">())</span>
<span class="go">Point set defined by 1 point(s):    [(0.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(1.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(2.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(3.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(4.0, 0.0)]</span>
<span class="go">Text &#39;1&#39; at the point (0.0,-0.1)</span>
<span class="go">Text &#39;2&#39; at the point (1.0,-0.1)</span>
<span class="go">Text &#39;3&#39; at the point (2.0,-0.1)</span>
<span class="go">Text &#39;4&#39; at the point (3.0,-0.1)</span>
<span class="go">Text &#39;5&#39; at the point (4.0,-0.1)</span>
<span class="go">Arc with center (1.0,-1.0) radii (1.41421356237,1.41421356237)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
<span class="go">Arc with center (2.5,-0.5) radii (0.707106781187,0.707106781187)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
<span class="go">Arc with center (2.5,-1.5) radii (2.12132034356,2.12132034356)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">],[</span><span class="s1">&#39;e&#39;</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">description</span><span class="p">())</span>
<span class="go">Point set defined by 1 point(s):  [(0.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(1.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(2.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(3.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(4.0, 0.0)]</span>
<span class="go">Text &#39;a&#39; at the point (0.0,-0.1)</span>
<span class="go">Text &#39;b&#39; at the point (1.0,-0.1)</span>
<span class="go">Text &#39;c&#39; at the point (2.0,-0.1)</span>
<span class="go">Text &#39;d&#39; at the point (3.0,-0.1)</span>
<span class="go">Text &#39;e&#39; at the point (4.0,-0.1)</span>
<span class="go">Arc with center (1.0,-1.0) radii (1.41421356237,1.41421356237)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
<span class="go">Arc with center (2.0,-1.0) radii (1.41421356237,1.41421356237)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">],[</span><span class="s1">&#39;e&#39;</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">base_set_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="o">-</span><span class="mf">2.3</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">:</span><span class="mf">5.4</span><span class="p">})</span><span class="o">.</span><span class="n">description</span><span class="p">())</span>
<span class="go">Point set defined by 1 point(s):    [(-2.3, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(0.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(1.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(2.0, 0.0)]</span>
<span class="go">Point set defined by 1 point(s):    [(5.4, 0.0)]</span>
<span class="go">Text &#39;a&#39; at the point (0.0,-0.1)</span>
<span class="go">Text &#39;b&#39; at the point (1.0,-0.1)</span>
<span class="go">Text &#39;c&#39; at the point (2.0,-0.1)</span>
<span class="go">Text &#39;d&#39; at the point (-2.3,-0.1)</span>
<span class="go">Text &#39;e&#39; at the point (5.4,-0.1)</span>
<span class="go">Arc with center (-0.65,-1.65) radii (2.33345237792,2.33345237792)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
<span class="go">Arc with center (1.0,-1.0) radii (1.41421356237,1.41421356237)</span>
<span class="go"> angle 0.0 inside the sector (0.785398163397,2.35619449019)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.refinements">
<code class="descname">refinements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.refinements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of refinements of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">coarsenings()</span></code></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">refinements</span><span class="p">()</span>
<span class="go">[{{1, 3}, {2, 4}},</span>
<span class="go"> {{1, 3}, {2}, {4}},</span>
<span class="go"> {{1}, {2, 4}, {3}},</span>
<span class="go"> {{1}, {2}, {3}, {4}}]</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">refinements</span><span class="p">()</span>
<span class="go">[{{1}, {2, 4}, {3}}, {{1}, {2}, {3}, {4}}]</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">refinements</span><span class="p">()</span>
<span class="go">[{}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.restriction">
<code class="descname">restriction</code><span class="sig-paren">(</span><em>I</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.restriction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the restriction of <code class="docutils literal notranslate"><span class="pre">self</span></code> to a subset <code class="docutils literal notranslate"><span class="pre">I</span></code>
(which is given as a set or list or any other iterable).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">restriction</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">{{1}, {2}}</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">restriction</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">{{2, 3}}</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">restriction</span><span class="p">([])</span>
<span class="go">{}</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">restriction</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.set_latex_options">
<code class="descname">set_latex_options</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.set_latex_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the latex options for use in the <code class="docutils literal notranslate"><span class="pre">_latex_</span></code> function</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">tikz_scale</span></code> – (default: 1) scale for use with tikz package</li>
<li><code class="docutils literal notranslate"><span class="pre">plot</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) <code class="docutils literal notranslate"><span class="pre">None</span></code> returns the set notation,
<code class="docutils literal notranslate"><span class="pre">linear</span></code> returns a linear plot, <code class="docutils literal notranslate"><span class="pre">cyclic</span></code> returns a cyclic
plot</li>
<li><code class="docutils literal notranslate"><span class="pre">color</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">'black'</span></code>) the arc colors</li>
<li><code class="docutils literal notranslate"><span class="pre">fill</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) if <code class="docutils literal notranslate"><span class="pre">True</span></code> then fills <code class="docutils literal notranslate"><span class="pre">color</span></code>,
else you can pass in a color to alter the fill color -
<em>only works with cyclic plot</em></li>
<li><code class="docutils literal notranslate"><span class="pre">show_labels</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) if <code class="docutils literal notranslate"><span class="pre">True</span></code> shows labels -
<em>only works with plots</em></li>
<li><code class="docutils literal notranslate"><span class="pre">radius</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">&quot;1cm&quot;</span></code>) radius of circle for cyclic
plot - <em>only works with cyclic plot</em></li>
<li><code class="docutils literal notranslate"><span class="pre">angle</span></code> – (default: 0) angle for linear plot</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SP</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">SP</span><span class="o">.</span><span class="n">set_latex_options</span><span class="p">(</span><span class="n">tikz_scale</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">plot</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">SP</span><span class="o">.</span><span class="n">set_latex_options</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="s1">&#39;cyclic&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">SP</span><span class="o">.</span><span class="n">latex_options</span><span class="p">()</span>
<span class="go">{&#39;angle&#39;: 45,</span>
<span class="go"> &#39;color&#39;: &#39;blue&#39;,</span>
<span class="go"> &#39;fill&#39;: True,</span>
<span class="go"> &#39;plot&#39;: &#39;cyclic&#39;,</span>
<span class="go"> &#39;radius&#39;: &#39;1cm&#39;,</span>
<span class="go"> &#39;show_labels&#39;: True,</span>
<span class="go"> &#39;tikz_scale&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.shape">
<code class="descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integer partition whose parts are the sizes of the sets
in <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">[3, 2]</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">[2, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.shape_partition">
<code class="descname">shape_partition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.shape_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integer partition whose parts are the sizes of the sets
in <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">[3, 2]</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">[2, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of the base set of <code class="docutils literal notranslate"><span class="pre">self</span></code>, which is the sum
of the sizes of the parts of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This is also known as the <em>size</em> (sometimes the <em>weight</em>) of
a set partition.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">base_set_cardinality</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">base_set_cardinality</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.standardization">
<code class="descname">standardization</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.standardization" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the standardization of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a set partition <span class="math notranslate nohighlight">\(A = \{A_1, \ldots, A_n\}\)</span> of an ordered
set <span class="math notranslate nohighlight">\(S\)</span>, the standardization of <span class="math notranslate nohighlight">\(A\)</span> is the set partition of
<span class="math notranslate nohighlight">\(\{1, 2, \ldots, |S|\}\)</span> obtained by replacing the elements of
the parts of <span class="math notranslate nohighlight">\(A\)</span> by the integers <span class="math notranslate nohighlight">\(1, 2, \ldots, |S|\)</span> in such
a way that their relative order is preserved (i. e., the
smallest element in the whole set partition is replaced by
<span class="math notranslate nohighlight">\(1\)</span>, the next-smallest by <span class="math notranslate nohighlight">\(2\)</span>, and so on).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">standardization</span><span class="p">()</span>
<span class="go">{{1, 2}, {3}}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">standardization</span><span class="p">()</span>
<span class="go">{{1, 3}, {2}}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">standardization</span><span class="p">()</span>
<span class="go">{}</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">),(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="p">),(</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">)])</span><span class="o">.</span><span class="n">standardization</span><span class="p">()</span>
<span class="go">{{1, 5}, {2, 3}, {4, 6}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.strict_coarsenings">
<code class="descname">strict_coarsenings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.strict_coarsenings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all strict coarsenings of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Strict coarsening is the binary relation on set partitions
defined as the transitive-and-reflexive closure of the
relation <span class="math notranslate nohighlight">\(\prec\)</span> defined as follows: For two set partitions
<span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>, we have <span class="math notranslate nohighlight">\(A \prec B\)</span> if there exist parts
<span class="math notranslate nohighlight">\(A_i, A_j\)</span> of <span class="math notranslate nohighlight">\(A\)</span> such that <span class="math notranslate nohighlight">\(\max(A_i) &lt; \min(A_j)\)</span> and
<span class="math notranslate nohighlight">\(B = A \setminus \{A_i, A_j\} \cup \{ A_i \cup A_j \}\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">strict_coarsenings</span><span class="p">()</span>
<span class="go">[{{1}, {2, 3}, {4}}, {{1, 2, 3}, {4}}, {{1, 4}, {2, 3}},</span>
<span class="go"> {{1}, {2, 3, 4}}, {{1, 2, 3, 4}}]</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">strict_coarsenings</span><span class="p">()</span>
<span class="go">[{{1}, {2, 4}, {3}}, {{1, 2, 4}, {3}}, {{1, 3}, {2, 4}}]</span>
<span class="gp">sage: </span><span class="n">SetPartition</span><span class="p">([])</span><span class="o">.</span><span class="n">strict_coarsenings</span><span class="p">()</span>
<span class="go">[{}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.to_partition">
<code class="descname">to_partition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.to_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integer partition whose parts are the sizes of the sets
in <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">[3, 2]</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">()</span>
<span class="go">[2, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartition.to_permutation">
<code class="descname">to_permutation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartition.to_permutation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a set partition of <span class="math notranslate nohighlight">\(\{1,...,n\}\)</span> to a permutation by considering
the blocks of the partition as cycles.</p>
<p>The cycles are such that the number of excedences is maximised, that is,
each cycle is of the form <span class="math notranslate nohighlight">\((a_1,a_2, ...,a_k)\)</span> with <span class="math notranslate nohighlight">\(a_1&lt;a_2&lt;...&lt;a_k\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">to_permutation</span><span class="p">()</span>
<span class="go">[3, 4, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.set_partition.SetPartitions">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">SetPartitions</code><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Parents and Elements v8.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></code></a>, <a class="reference external" href="../../../structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage Reference Manual: Parents and Elements v8.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.parent.Parent</span></code></a></p>
<p>An (unordered) partition of a set <span class="math notranslate nohighlight">\(S\)</span> is a set of pairwise
disjoint nonempty subsets with union <span class="math notranslate nohighlight">\(S\)</span>, and is represented
by a sorted list of such subsets.</p>
<p><code class="docutils literal notranslate"><span class="pre">SetPartitions(s)</span></code> returns the class of all set partitions of the set
<code class="docutils literal notranslate"><span class="pre">s</span></code>, which can be given as a set or a string; if a string, each
character is considered an element.</p>
<p><code class="docutils literal notranslate"><span class="pre">SetPartitions(n)</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is an integer, returns the class of
all set partitions of the set <span class="math notranslate nohighlight">\(\{1, 2, \ldots, n\}\)</span>.</p>
<p>You may specify a second argument <span class="math notranslate nohighlight">\(k\)</span>. If <span class="math notranslate nohighlight">\(k\)</span> is an integer,
<a class="reference internal" href="#sage.combinat.set_partition.SetPartitions" title="sage.combinat.set_partition.SetPartitions"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPartitions</span></code></a> returns the class of set partitions into <span class="math notranslate nohighlight">\(k\)</span> parts;
if it is an integer partition, <a class="reference internal" href="#sage.combinat.set_partition.SetPartitions" title="sage.combinat.set_partition.SetPartitions"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPartitions</span></code></a> returns the class of
set partitions whose block sizes correspond to that integer partition.</p>
<p>The Bell number <span class="math notranslate nohighlight">\(B_n\)</span>, named in honor of Eric Temple Bell,
is the number of different partitions of a set with <span class="math notranslate nohighlight">\(n\)</span> elements.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Set partitions of {1, 2, 3, 4} with 2 parts</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[{{1}, {2, 3, 4}}, {{1, 3, 4}, {2}}, {{1, 2, 4}, {3}}, {{1, 2, 3}, {4}}]</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">70</span>
</pre></div>
</div>
<p>In strings, repeated letters are not considered distinct as of
<a class="reference external" href="https://trac.sagemath.org/14140">trac ticket #14140</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">52</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="s1">&#39;aabcd&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">15</span>
</pre></div>
</div>
<p>REFERENCES:</p>
<ul class="simple">
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Partition_of_a_set">Wikipedia article Partition_of_a_set</a></li>
</ul>
<dl class="attribute">
<dt id="sage.combinat.set_partition.SetPartitions.Element">
<code class="descname">Element</code><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.set_partition.SetPartition" title="sage.combinat.set_partition.SetPartition"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPartition</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions.is_less_than">
<code class="descname">is_less_than</code><span class="sig-paren">(</span><em>s</em>, <em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions.is_less_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <span class="math notranslate nohighlight">\(s &lt; t\)</span> in the refinement ordering on set partitions.</p>
<p>This means that <span class="math notranslate nohighlight">\(s\)</span> is a refinement of <span class="math notranslate nohighlight">\(t\)</span> and satisfies
<span class="math notranslate nohighlight">\(s \neq t\)</span>.</p>
<p>A set partition <span class="math notranslate nohighlight">\(s\)</span> is said to be a refinement of a set
partition <span class="math notranslate nohighlight">\(t\)</span> of the same set if and only if each part of
<span class="math notranslate nohighlight">\(s\)</span> is a subset of a part of <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_less_than</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_less_than</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_less_than</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions.is_strict_refinement">
<code class="descname">is_strict_refinement</code><span class="sig-paren">(</span><em>s</em>, <em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions.is_strict_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">s</span></code> is a strict refinement of <code class="docutils literal notranslate"><span class="pre">t</span></code> and
satisfies <span class="math notranslate nohighlight">\(s \neq t\)</span>.</p>
<p>A set partition <span class="math notranslate nohighlight">\(s\)</span> is said to be a strict refinement of a set
partition <span class="math notranslate nohighlight">\(t\)</span> of the same set if and only if one can obtain
<span class="math notranslate nohighlight">\(t\)</span> from <span class="math notranslate nohighlight">\(s\)</span> by repeatedly combining pairs of parts whose
convex hulls don’t intersect (i. e., whenever we are combining
two parts, the maximum of each of them should be smaller than
the minimum of the other).</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_strict_refinement</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_strict_refinement</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">SetPartition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_strict_refinement</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_strict_refinement</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions.lt">
<code class="descname">lt</code><span class="sig-paren">(</span><em>s</em>, <em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions.lt" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <span class="math notranslate nohighlight">\(s &lt; t\)</span> in the refinement ordering on set partitions.</p>
<p>This means that <span class="math notranslate nohighlight">\(s\)</span> is a refinement of <span class="math notranslate nohighlight">\(t\)</span> and satisfies
<span class="math notranslate nohighlight">\(s \neq t\)</span>.</p>
<p>A set partition <span class="math notranslate nohighlight">\(s\)</span> is said to be a refinement of a set
partition <span class="math notranslate nohighlight">\(t\)</span> of the same set if and only if each part of
<span class="math notranslate nohighlight">\(s\)</span> is a subset of a part of <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">S</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_less_than</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_less_than</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_less_than</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.set_partition.SetPartitions_all">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">SetPartitions_all</code><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.set_partition.SetPartitions" title="sage.combinat.set_partition.SetPartitions"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.set_partition.SetPartitions</span></code></a></p>
<p>All set partitions.</p>
</dd></dl>

<dl class="class">
<dt id="sage.combinat.set_partition.SetPartitions_set">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">SetPartitions_set</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.set_partition.SetPartitions" title="sage.combinat.set_partition.SetPartitions"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.set_partition.SetPartitions</span></code></a></p>
<p>Set partitions of a fixed set <span class="math notranslate nohighlight">\(S\)</span>.</p>
<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_set.base_set">
<code class="descname">base_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_set.base_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base set of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">base_set</span><span class="p">()</span>
<span class="go">{1, 2, 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_set.base_set_cardinality">
<code class="descname">base_set_cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_set.base_set_cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of the base set of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">base_set_cardinality</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_set.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_set.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of set partitions of the set <span class="math notranslate nohighlight">\(S\)</span>.</p>
<p>The cardinality is given by the <span class="math notranslate nohighlight">\(n\)</span>-th Bell number where <span class="math notranslate nohighlight">\(n\)</span> is the
number of elements in the set <span class="math notranslate nohighlight">\(S\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">15</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">([])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_set.random_element">
<code class="descname">random_element</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_set.random_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random set partition.</p>
<p>This is a very naive implementation of Knuths outline in F3B,
7.2.1.5.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">{{1, 4, 9}, {2, 5, 7}, {3}, {6}, {8, 10}}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.set_partition.SetPartitions_setn">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">SetPartitions_setn</code><span class="sig-paren">(</span><em>s</em>, <em>k</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.set_partition.SetPartitions_set" title="sage.combinat.set_partition.SetPartitions_set"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.set_partition.SetPartitions_set</span></code></a></p>
<p>Set partitions with a given number of blocks.</p>
<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_setn.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setn.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>The Stirling number of the second kind is the number of partitions
of a set of size <span class="math notranslate nohighlight">\(n\)</span> into <span class="math notranslate nohighlight">\(k\)</span> blocks.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">25</span>
<span class="gp">sage: </span><span class="n">stirling_number2</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">25</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.set_partition.SetPartitions_setn.n">
<code class="descname">n</code><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setn.n" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">self.n</span></code> is deprecated; use <a class="reference internal" href="#sage.combinat.set_partition.SetPartitions_setn.number_of_blocks" title="sage.combinat.set_partition.SetPartitions_setn.number_of_blocks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">number_of_blocks()</span></code></a> instead.</p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_setn.number_of_blocks">
<code class="descname">number_of_blocks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setn.number_of_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of blocks of the set partitions in <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_blocks</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_setn.random_element">
<code class="descname">random_element</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setn.random_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random set partition of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>See <a class="reference external" href="https://mathoverflow.net/questions/141999">https://mathoverflow.net/questions/141999</a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">SetPartitions</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">{{1, 2, 4, 6, 9, 10}, {3}, {5, 7}, {8}}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.set_partition.SetPartitions_setparts">
<em class="property">class </em><code class="descclassname">sage.combinat.set_partition.</code><code class="descname">SetPartitions_setparts</code><span class="sig-paren">(</span><em>s</em>, <em>parts</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setparts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.set_partition.SetPartitions_set" title="sage.combinat.set_partition.SetPartitions_set"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.combinat.set_partition.SetPartitions_set</span></code></a></p>
<p>Set partitions with fixed partition sizes corresponding to an
integer partition <span class="math notranslate nohighlight">\(\lambda\)</span>.</p>
<dl class="method">
<dt id="sage.combinat.set_partition.SetPartitions_setparts.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.SetPartitions_setparts.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This algorithm counts for each block of the partition the
number of ways to fill it using values from the set.  Then,
for each distinct value <span class="math notranslate nohighlight">\(v\)</span> of block size, we divide the result by
the number of ways to arrange the blocks of size <span class="math notranslate nohighlight">\(v\)</span> in the
set partition.</p>
<p>For example, if we want to count the number of set partitions
of size 13 having [3,3,3,2,2] as underlying partition we
compute the number of ways to fill each block of the
partition, which is <span class="math notranslate nohighlight">\(\binom{13}{3} \binom{10}{3} \binom{7}{3}
\binom{4}{2}\binom{2}{2}\)</span> and as we have three blocks of size
<span class="math notranslate nohighlight">\(3\)</span> and two blocks of size <span class="math notranslate nohighlight">\(2\)</span>, we divide the result by
<span class="math notranslate nohighlight">\(3!2!\)</span> which gives us <span class="math notranslate nohighlight">\(600600\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">SetPartitions</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">Partition</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">600600</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.combinat.set_partition.cyclic_permutations_of_set_partition">
<code class="descclassname">sage.combinat.set_partition.</code><code class="descname">cyclic_permutations_of_set_partition</code><span class="sig-paren">(</span><em>set_part</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.cyclic_permutations_of_set_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all combinations of cyclic permutations of each cell of the
set partition.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert L. Miller</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.set_partition</span> <span class="kn">import</span> <span class="n">cyclic_permutations_of_set_partition</span>
<span class="gp">sage: </span><span class="n">cyclic_permutations_of_set_partition</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="go">[[[1, 2, 3, 4], [5, 6, 7]],</span>
<span class="go"> [[1, 2, 4, 3], [5, 6, 7]],</span>
<span class="go"> [[1, 3, 2, 4], [5, 6, 7]],</span>
<span class="go"> [[1, 3, 4, 2], [5, 6, 7]],</span>
<span class="go"> [[1, 4, 2, 3], [5, 6, 7]],</span>
<span class="go"> [[1, 4, 3, 2], [5, 6, 7]],</span>
<span class="go"> [[1, 2, 3, 4], [5, 7, 6]],</span>
<span class="go"> [[1, 2, 4, 3], [5, 7, 6]],</span>
<span class="go"> [[1, 3, 2, 4], [5, 7, 6]],</span>
<span class="go"> [[1, 3, 4, 2], [5, 7, 6]],</span>
<span class="go"> [[1, 4, 2, 3], [5, 7, 6]],</span>
<span class="go"> [[1, 4, 3, 2], [5, 7, 6]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.combinat.set_partition.cyclic_permutations_of_set_partition_iterator">
<code class="descclassname">sage.combinat.set_partition.</code><code class="descname">cyclic_permutations_of_set_partition_iterator</code><span class="sig-paren">(</span><em>set_part</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.set_partition.cyclic_permutations_of_set_partition_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates over all combinations of cyclic permutations of each cell
of the set partition.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert L. Miller</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.set_partition</span> <span class="kn">import</span> <span class="n">cyclic_permutations_of_set_partition_iterator</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">cyclic_permutations_of_set_partition_iterator</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]]))</span>
<span class="go">[[[1, 2, 3, 4], [5, 6, 7]],</span>
<span class="go"> [[1, 2, 4, 3], [5, 6, 7]],</span>
<span class="go"> [[1, 3, 2, 4], [5, 6, 7]],</span>
<span class="go"> [[1, 3, 4, 2], [5, 6, 7]],</span>
<span class="go"> [[1, 4, 2, 3], [5, 6, 7]],</span>
<span class="go"> [[1, 4, 3, 2], [5, 6, 7]],</span>
<span class="go"> [[1, 2, 3, 4], [5, 7, 6]],</span>
<span class="go"> [[1, 2, 4, 3], [5, 7, 6]],</span>
<span class="go"> [[1, 3, 2, 4], [5, 7, 6]],</span>
<span class="go"> [[1, 3, 4, 2], [5, 7, 6]],</span>
<span class="go"> [[1, 4, 2, 3], [5, 7, 6]],</span>
<span class="go"> [[1, 4, 3, 2], [5, 7, 6]]]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="schubert_polynomial.html"
                        title="previous chapter">Schubert Polynomials</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="set_partition_ordered.html"
                        title="next chapter">Ordered Set Partitions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/combinat/set_partition.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="set_partition_ordered.html" title="Ordered Set Partitions"
             >next</a> |</li>
        <li class="right" >
          <a href="schubert_polynomial.html" title="Schubert Polynomials"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Combinatorics</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../../module_list.html" >Comprehensive Module list</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2018, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>