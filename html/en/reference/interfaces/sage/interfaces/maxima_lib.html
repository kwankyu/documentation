
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Library interface to Maxima &#8212; Sage 9.5 Reference Manual: Interpreter Interfaces</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script async="async" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Interface to MuPAD" href="mupad.html" />
    <link rel="prev" title="Abstract interface to Maxima" href="maxima_abstract.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mupad.html" title="Interface to MuPAD"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="maxima_abstract.html" title="Abstract interface to Maxima"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.5 Reference Manual: Interpreter Interfaces</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Library interface to Maxima</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="library-interface-to-maxima">
<span id="sage-interfaces-maxima-lib"></span><h1>Library interface to Maxima<a class="headerlink" href="#library-interface-to-maxima" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.interfaces.maxima_lib"></span><p>Maxima is a free GPL’d general purpose computer algebra system whose
development started in 1968 at MIT. It contains symbolic manipulation
algorithms, as well as implementations of special functions, including
elliptic functions and generalized hypergeometric functions. Moreover,
Maxima has implementations of many functions relating to the invariant
theory of the symmetric group <span class="math notranslate nohighlight">\(S_n\)</span>. (However, the commands for group
invariants, and the corresponding Maxima documentation, are in
French.) For many links to Maxima documentation, see
<a class="reference external" href="http://maxima.sourceforge.net/documentation.html">http://maxima.sourceforge.net/documentation.html</a>.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>William Stein (2005-12): Initial version</p></li>
<li><p>David Joyner: Improved documentation</p></li>
<li><p>William Stein (2006-01-08): Fixed bug in parsing</p></li>
<li><p>William Stein (2006-02-22): comparisons (following suggestion of
David Joyner)</p></li>
<li><p>William Stein (2006-02-24): <em>greatly</em> improved robustness by adding
sequence numbers to IO bracketing in _eval_line</p></li>
<li><p>Robert Bradshaw, Nils Bruin, Jean-Pierre Flori (2010,2011): Binary library
interface</p></li>
</ul>
<p>For this interface, Maxima is loaded into ECL which is itself loaded
as a C library in Sage. Translations between Sage and Maxima objects
(which are nothing but wrappers to ECL objects) is made as much as possible
directly, but falls back to the string based conversion used by the
classical Maxima Pexpect interface in case no new implementation has been made.</p>
<p>This interface is the one used for calculus by Sage
and is accessible as <span class="math notranslate nohighlight">\(maxima_calculus\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">maxima_calculus</span>
<span class="go">Maxima_lib</span>
</pre></div>
</div>
<p>Only one instance of this interface can be instantiated,
so the user should not try to instantiate another one,
which is anyway set to raise an error:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">MaximaLib</span>
<span class="gp">sage: </span><span class="n">MaximaLib</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">RuntimeError: Maxima interface in library mode can only be instantiated once</span>
</pre></div>
</div>
<p>Changed besselexpand to true in init_code – automatically simplify Bessel functions to trig functions when appropriate when true. Examples:</p>
<p>For some infinite sums, a closed expression can be found. By default, “maxima” is used for that:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;n&quot;</span><span class="p">,</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">((</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)),</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">oo</span><span class="p">)</span>
<span class="go">-1/2*(2*x*cos(2*sqrt(x)) - sqrt(x)*sin(2*sqrt(x)))/(sqrt(pi)*x^2)</span>
</pre></div>
</div>
<p>Maxima has some flags that affect how the result gets simplified (By default, besselexpand is false in Maxima; however in 5.39 this test does not show any difference, as, apparently, another expansion path is used):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">maxima_calculus</span><span class="p">(</span><span class="s2">&quot;besselexpand:false&quot;</span><span class="p">)</span>
<span class="go">false</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;n&quot;</span><span class="p">,</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">((</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)),</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">oo</span><span class="p">)</span>
<span class="go">-1/2*(2*x*cos(2*sqrt(x)) - sqrt(x)*sin(2*sqrt(x)))/(sqrt(pi)*x^2)</span>
<span class="gp">sage: </span><span class="n">maxima_calculus</span><span class="p">(</span><span class="s2">&quot;besselexpand:true&quot;</span><span class="p">)</span>
<span class="go">true</span>
</pre></div>
</div>
<p>The output is parseable (i. e. <a class="reference external" href="https://trac.sagemath.org/31796">trac ticket #31796</a> is fixed):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">foo</span> <span class="o">=</span> <span class="n">maxima_calculus</span><span class="p">(</span><span class="s1">&#39;a and (b or c)&#39;</span><span class="p">)</span> <span class="p">;</span> <span class="n">foo</span>
<span class="go">a and (b or c)</span>
<span class="gp">sage: </span><span class="n">bar</span> <span class="o">=</span> <span class="n">maxima_calculus</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span> <span class="p">;</span> <span class="n">bar</span>
<span class="go">a and (b or c)</span>
<span class="gp">sage: </span><span class="n">bar</span> <span class="o">==</span> <span class="n">foo</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">MaximaLib</span></span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstract" title="sage.interfaces.maxima_abstract.MaximaAbstract"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstract</span></code></a></p>
<p>Interface to Maxima as a Library.</p>
<p>INPUT: none</p>
<p>OUTPUT: Maxima interface as a Library</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">MaximaLib</span><span class="p">,</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">maxima_lib</span><span class="p">,</span><span class="n">MaximaLib</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Only one such interface can be instantiated:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">MaximaLib</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">RuntimeError: Maxima interface in library mode can only</span>
<span class="go">be instantiated once</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the variable named var.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code> - string</p></li>
</ul>
<p>OUTPUT: none</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;xxxxx&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the line in Maxima.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line</span></code> - string; text to evaluate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">locals</span></code> - None (ignored); this is used for compatibility with the
Sage notebook’s generic system interface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reformat</span></code> - boolean; whether to strip output or not</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**kwds</span></code> - All other arguments are currently ignored.</p></li>
</ul>
<p>OUTPUT: string representing Maxima output</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;1+1;&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;1+1$&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;randvar : cos(x)+sin(y)$&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;randvar&#39;</span><span class="p">)</span>
<span class="go">&#39;sin(y)+cos(x)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the string value of the variable <code class="docutils literal notranslate"><span class="pre">var</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code> - string</p></li>
</ul>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.lisp">
<span class="sig-name descname"><span class="pre">lisp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.lisp" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a lisp command to maxima.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cmd</span></code> - string</p></li>
</ul>
<p>OUTPUT: ECL object</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The output of this command is very raw - not pretty.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">lisp</span><span class="p">(</span><span class="s2">&quot;(+ 2 17)&quot;</span><span class="p">)</span>
<span class="go">&lt;ECL: 19&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variable var to the given value.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code> - string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code> - string</p></li>
</ul>
<p>OUTPUT: none</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.sr_integral">
<span class="sig-name descname"><span class="pre">sr_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima’s integration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.sr_limit">
<span class="sig-name descname"><span class="pre">sr_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima’s limits.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.sr_prod">
<span class="sig-name descname"><span class="pre">sr_prod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima’s product.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.sr_sum">
<span class="sig-name descname"><span class="pre">sr_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima’s summation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLib.sr_tlimit">
<span class="sig-name descname"><span class="pre">sr_tlimit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_tlimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima’s Taylor series limits.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLibElement">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">MaximaLibElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstractElement" title="sage.interfaces.maxima_abstract.MaximaAbstractElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstractElement</span></code></a></p>
<p>Element of Maxima through library interface.</p>
<p>EXAMPLES:</p>
<p>Elements of this class should not be created directly.
The targeted parent should be used instead:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">log(_SAGE_VAR_x)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLibElement.display2d">
<span class="sig-name descname"><span class="pre">display2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">onscreen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement.display2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 2d representation of this Maxima object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onscreen</span></code> - boolean (default: True); whether to print or return</p></li>
</ul>
<p>OUTPUT:</p>
<p>The representation is printed if onscreen is set to True
and returned as a string otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;x^5 - y^5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">display2d</span><span class="p">()</span>
<span class="go">                       4      3    2  2    3      4</span>
<span class="go">           - (y - x) (y  + x y  + x  y  + x  y + x )</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLibElement.ecl">
<span class="sig-name descname"><span class="pre">ecl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement.ecl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying ECL object of this MaximaLib object.</p>
<p>INPUT: none</p>
<p>OUTPUT: ECL object</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">cos</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MPLUS SIMP) ((%COS SIMP) 19) |$_SAGE_VAR_x|)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLibElement.to_poly_solve">
<span class="sig-name descname"><span class="pre">to_poly_solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement.to_poly_solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Use Maxima’s to_poly_solver package.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vars</span></code> - symbolic expressions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> - string (default=””)</p></li>
</ul>
<p>OUTPUT: Maxima object</p>
<p>EXAMPLES:</p>
<p>The zXXX below are names for arbitrary integers and
subject to change:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">sol</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_poly_solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sol</span><span class="o">.</span><span class="n">sage</span><span class="p">()</span>
<span class="go">[[x == pi*z...]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.MaximaLibElementFunction">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">MaximaLibElementFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latex</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElementFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.interfaces.maxima_lib.MaximaLibElement" title="sage.interfaces.maxima_lib.MaximaLibElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.interfaces.maxima_lib.MaximaLibElement</span></code></a>, <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstractElementFunction" title="sage.interfaces.maxima_abstract.MaximaAbstractElementFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstractElementFunction</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.dummy_integrate">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">dummy_integrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.dummy_integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>We would like to simply tie Maxima’s integrate to
sage.calculus.calculus.dummy_integrate, but we’re being
imported there so to avoid circularity we define it here.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object; a Maxima %INTEGRATE expression</p></li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">dummy_integrate</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((%INTEGRATE SIMP) (($F SIMP) $X) $X)&gt;</span>
<span class="gp">sage: </span><span class="n">dummy_integrate</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">integrate(f(x), x)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((%INTEGRATE SIMP) (($F SIMP) $X) $X 0 10)&gt;</span>
<span class="gp">sage: </span><span class="n">dummy_integrate</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">integrate(f(x), x, 0, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.is_MaximaLibElement">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">is_MaximaLibElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.is_MaximaLibElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if x is of type MaximaLibElement.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">is_MaximaLibElement</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_MaximaLibElement</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_MaximaLibElement</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.max_at_to_sage">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">max_at_to_sage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_at_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for AT expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object; a Maxima AT expression</p></li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_at_to_sage</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="s2">&quot;&#39;at(f(x,y,z),[x=1,y=2,z=3])&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">&#39;at(f(x,y,z),[x = 1,y = 2,z = 3])</span>
<span class="gp">sage: </span><span class="n">max_at_to_sage</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">f(1, 2, 3)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="s2">&quot;&#39;at(f(x,y,z),x=1)&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">&#39;at(f(x,y,z),x = 1)</span>
<span class="gp">sage: </span><span class="n">max_at_to_sage</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">f(1, y, z)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.max_harmonic_to_sage">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">max_harmonic_to_sage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_harmonic_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_to_sr</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="n">harmonic_number</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: (($GEN_HARMONIC_NUMBER SIMP) 2 |$_SAGE_VAR_x|)&gt;</span>
<span class="gp">sage: </span><span class="n">max_to_sr</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">harmonic_number(x, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.max_to_sr">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">max_to_sr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_to_sr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Maxima object into a symbolic expression.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object</p></li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_to_sr</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: (($F SIMP) $X)&gt;</span>
<span class="gp">sage: </span><span class="n">max_to_sr</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">f(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.max_to_string">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">max_to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Maxima string corresponding to this ECL object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> - ECL object</p></li>
</ul>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_to_string</span>
<span class="gp">sage: </span><span class="n">ecl</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">max_to_string</span><span class="p">(</span><span class="n">ecl</span><span class="p">)</span>
<span class="go">&#39;cos(_SAGE_VAR_x)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.mdiff_to_sage">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">mdiff_to_sage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mdiff_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for %DERIVATIVE expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object; a Maxima %DERIVATIVE expression</p></li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mdiff_to_sage</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((%DERIVATIVE SIMP) (($F SIMP) $X) $X 4)&gt;</span>
<span class="gp">sage: </span><span class="n">mdiff_to_sage</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">diff(f(x), x, x, x, x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.mlist_to_sage">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">mlist_to_sage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mlist_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for MLIST expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object; a Maxima MLIST expression (i.e., a list)</p></li>
</ul>
<p>OUTPUT: a Python list of converted expressions.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mlist_to_sage</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="s2">&quot;[1,2,3]&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MLIST SIMP) 1 2 3)&gt;</span>
<span class="gp">sage: </span><span class="n">mlist_to_sage</span><span class="p">(</span><span class="n">L</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.mqapply_to_sage">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">mqapply_to_sage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mqapply_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for MQAPPLY expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object; a Maxima MQAPPLY expression</p></li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>MQAPPLY is used for function as li[x](y) and psi[x](y).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mqapply_to_sage</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;li[2](3)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MQAPPLY SIMP) (($LI SIMP ARRAY) 2) 3)&gt;</span>
<span class="gp">sage: </span><span class="n">mqapply_to_sage</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">dilog(3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.mrat_to_sage">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">mrat_to_sage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mrat_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Maxima MRAT expression to Sage SR.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - ECL object; a Maxima MRAT expression</p></li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>Maxima has an optimised representation for multivariate
rational expressions. The easiest way to translate those
to SR is by first asking Maxima to give the generic representation
of the object. That is what RATDISREP does in Maxima.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mrat_to_sage</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">8</span><span class="o">/</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">rat</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span>
<span class="go">(_SAGE_VAR_y*_SAGE_VAR_z^9+_SAGE_VAR_x^6*_SAGE_VAR_z^8+_SAGE_VAR_y^3+_SAGE_VAR_x*_SAGE_VAR_y)/(_SAGE_VAR_x^6*_SAGE_VAR_y)</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MRAT SIMP (|$_SAGE_VAR_x| |$_SAGE_VAR_y| |$_SAGE_VAR_z|)</span>
<span class="go">...&gt;</span>
<span class="gp">sage: </span><span class="n">mrat_to_sage</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">(x^6*z^8 + y*z^9 + y^3 + x*y)/(x^6*y)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.parse_max_string">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">parse_max_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.parse_max_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate string in Maxima without <em>any</em> further simplification.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> - string</p></li>
</ul>
<p>OUTPUT: ECL object</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">parse_max_string</span>
<span class="gp">sage: </span><span class="n">parse_max_string</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&lt;ECL: ((MPLUS) 1 1)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.pyobject_to_max">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">pyobject_to_max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.pyobject_to_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a (simple) Python object into a Maxima object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - Python object</p></li>
</ul>
<p>OUTPUT: ECL object</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This uses functions defined in sage.libs.ecl.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">pyobject_to_max</span>
<span class="gp">sage: </span><span class="n">pyobject_to_max</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&lt;ECL: 4&gt;</span>
<span class="gp">sage: </span><span class="n">pyobject_to_max</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="go">&lt;ECL: Z&gt;</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">pyobject_to_max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: Unimplemented type for python_to_ecl</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.reduce_load_MaximaLib">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">reduce_load_MaximaLib</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.reduce_load_MaximaLib" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpickle the (unique) Maxima library interface.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">reduce_load_MaximaLib</span>
<span class="gp">sage: </span><span class="n">reduce_load_MaximaLib</span><span class="p">()</span>
<span class="go">Maxima_lib</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.sage_rat">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">sage_rat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.sage_rat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return quotient x/y.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> - integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code> - integer</p></li>
</ul>
<p>OUTPUT: rational</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">sage_rat</span>
<span class="gp">sage: </span><span class="n">sage_rat</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">1/7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.sr_to_max">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">sr_to_max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.sr_to_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a symbolic expression into a Maxima object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span></code> - symbolic expression</p></li>
</ul>
<p>OUTPUT: ECL object</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">sr_to_max</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">&lt;ECL: $X&gt;</span>
<span class="gp">sage: </span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">&lt;ECL: ((%COS) $X)&gt;</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">diff</span><span class="p">())</span>
<span class="go">&lt;ECL: ((%DERIVATIVE) (($F) $X) $X 1)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.interfaces.maxima_lib.stdout_to_string">
<span class="sig-prename descclassname"><span class="pre">sage.interfaces.maxima_lib.</span></span><span class="sig-name descname"><span class="pre">stdout_to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.stdout_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate command <code class="docutils literal notranslate"><span class="pre">s</span></code> and catch Maxima stdout
(not the result of the command!) into a string.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> - string; command to evaluate</p></li>
</ul>
<p>OUTPUT: string</p>
<p>This is currently used to implement <a class="reference internal" href="#sage.interfaces.maxima_lib.MaximaLibElement.display2d" title="sage.interfaces.maxima_lib.MaximaLibElement.display2d"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display2d()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">stdout_to_string</span>
<span class="gp">sage: </span><span class="n">stdout_to_string</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">stdout_to_string</span><span class="p">(</span><span class="s1">&#39;disp(1+1)&#39;</span><span class="p">)</span>
<span class="go">&#39;2\n\n&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="maxima_abstract.html"
                        title="previous chapter">Abstract interface to Maxima</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mupad.html"
                        title="next chapter">Interface to MuPAD</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/interfaces/maxima_lib.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mupad.html" title="Interface to MuPAD"
             >next</a> |</li>
        <li class="right" >
          <a href="maxima_abstract.html" title="Abstract interface to Maxima"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.5 Reference Manual: Interpreter Interfaces</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Library interface to Maxima</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>