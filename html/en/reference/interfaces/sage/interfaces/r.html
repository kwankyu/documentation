
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Interfaces to R &#8212; Sage Reference Manual v8.1: Interpreter Interfaces</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Interface to several Rubik’s cube solvers." href="rubik.html" />
    <link rel="prev" title="Interface to Bill Hart’s Quadratic Sieve" href="qsieve.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rubik.html" title="Interface to several Rubik’s cube solvers."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="qsieve.html" title="Interface to Bill Hart’s Quadratic Sieve"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Interpreter Interfaces</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="interfaces-to-r">
<span id="sage-interfaces-r"></span><h1>Interfaces to R<a class="headerlink" href="#interfaces-to-r" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.interfaces.r"></span><p>This is the reference to the Sagemath R interface, usable from any
Sage program.</p>
<p>The %r interface creating an R cell in the sage
notebook is decribed in the Notebook manual.</p>
<p>The %R and %%R interface creating an R line or an R cell in the
Jupyter notebook are briefly decribed at the end of this page. This
documentation will be expanded and placed in the Jupyter notebook
manual when this manual exists.</p>
<p>The following examples try to follow “An Introduction to R” which can
be found at <a class="reference external" href="http://cran.r-project.org/doc/manuals/R-intro.html">http://cran.r-project.org/doc/manuals/R-intro.html</a> .</p>
<p>EXAMPLES:</p>
<p>Simple manipulations; numbers and vectors</p>
<p>The simplest data structure in R is the numeric vector which
consists of an ordered collection of numbers.  To create a
vector named <span class="math">\(x\)</span> using the R interface in Sage, you pass the
R interpreter object a list or tuple of numbers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mf">10.4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">,</span><span class="mf">3.1</span><span class="p">,</span><span class="mf">6.4</span><span class="p">,</span><span class="mf">21.7</span><span class="p">]);</span> <span class="n">x</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7</span>
</pre></div>
</div>
<p>You can invert elements of a vector x in R by using the
invert operator or by doing 1/x:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">~</span><span class="n">x</span>
<span class="go">[1] 0.09615385 0.17857143 0.32258065 0.15625000 0.04608295</span>
<span class="gp">sage: </span><span class="mi">1</span><span class="o">/</span><span class="n">x</span>
<span class="go">[1] 0.09615385 0.17857143 0.32258065 0.15625000 0.04608295</span>
</pre></div>
</div>
<p>The following assignment creates a vector <span class="math">\(y\)</span> with 11 entries which
consists of two copies of <span class="math">\(x\)</span> with a 0 in between:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">]);</span> <span class="n">y</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7  0.0 10.4  5.6  3.1  6.4 21.7</span>
</pre></div>
</div>
<p>Vector Arithmetic</p>
<p>The following command generates a new vector <span class="math">\(v\)</span> of length 11 constructed
by adding together (element by element) <span class="math">\(2x\)</span> repeated 2.2 times, <span class="math">\(y\)</span>
repeated just once, and 1 repeated 11 times:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">v</span>
<span class="go">[1] 32.2 17.8 10.3 20.2 66.1 21.8 22.6 12.8 16.9 50.8 43.5</span>
</pre></div>
</div>
<p>One can compute the sum of the elements of an R vector in the following
two ways:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[1] 47.2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">[1] 47.2</span>
</pre></div>
</div>
<p>One can calculate the sample variance of a list of numbers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">[1] 53.853</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">var</span><span class="p">()</span>
<span class="go">[1] 53.853</span>

<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="go">[1] 3.1  5.6  6.4 10.4 21.7</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">[1] 3.1</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="go">[1] 21.7</span>
<span class="gp">sage: </span><span class="n">x</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7</span>

<span class="gp">sage: </span><span class="n">r</span><span class="p">(</span><span class="o">-</span><span class="mi">17</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">[1] NaN</span>
<span class="gp">sage: </span><span class="n">r</span><span class="p">(</span><span class="s1">&#39;-17+0i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">[1] 0+4.123106i</span>
</pre></div>
</div>
<p>Generating an arithmetic sequence:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="p">(</span><span class="s1">&#39;1:10&#39;</span><span class="p">)</span>
<span class="go">[1] 1  2  3  4  5  6  7  8  9 10</span>
</pre></div>
</div>
<p>Because <code class="docutils literal"><span class="pre">from</span></code> is a keyword in Python, it can’t be used
as a keyword argument.  Instead, <code class="docutils literal"><span class="pre">from_</span></code> can be passed, and
R will recognize it as the correct thing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">from_</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">by</span><span class="o">=.</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[1] -1.0 -0.8 -0.6 -0.4 -0.2  0.0  0.2  0.4  0.6  0.8</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mf">10.4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">,</span><span class="mf">3.1</span><span class="p">,</span><span class="mf">6.4</span><span class="p">,</span><span class="mf">21.7</span><span class="p">]);</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">rep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7 10.4  5.6  3.1  6.4 21.7</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">rep</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7 10.4  5.6  3.1  6.4 21.7</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">rep</span><span class="p">(</span><span class="n">each</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[1] 10.4 10.4  5.6  5.6  3.1  3.1  6.4  6.4 21.7 21.7</span>
</pre></div>
</div>
<p>Missing Values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">na</span> <span class="o">=</span> <span class="n">r</span><span class="p">(</span><span class="s1">&#39;NA&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">na</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">z</span>
<span class="go">[1]  1  2  3 NA</span>
<span class="gp">sage: </span><span class="n">ind</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">is_na</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ind</span>
<span class="go">[1] FALSE FALSE FALSE  TRUE</span>
<span class="gp">sage: </span><span class="n">zero</span> <span class="o">=</span> <span class="n">r</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">zero</span> <span class="o">/</span> <span class="n">zero</span>
<span class="go">[1] NaN</span>
<span class="gp">sage: </span><span class="n">inf</span> <span class="o">=</span> <span class="n">r</span><span class="p">(</span><span class="s1">&#39;Inf&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">inf</span><span class="o">-</span><span class="n">inf</span>
<span class="go">[1] NaN</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_na</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
<span class="go">[1] FALSE</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_na</span><span class="p">(</span><span class="n">inf</span><span class="o">-</span><span class="n">inf</span><span class="p">)</span>
<span class="go">[1] TRUE</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_na</span><span class="p">(</span><span class="n">zero</span><span class="o">/</span><span class="n">zero</span><span class="p">)</span>
<span class="go">[1] TRUE</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_na</span><span class="p">(</span><span class="n">na</span><span class="p">)</span>
<span class="go">[1] TRUE</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_nan</span><span class="p">(</span><span class="n">inf</span><span class="o">-</span><span class="n">inf</span><span class="p">)</span>
<span class="go">[1] TRUE</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_nan</span><span class="p">(</span><span class="n">zero</span><span class="o">/</span><span class="n">zero</span><span class="p">)</span>
<span class="go">[1] TRUE</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_nan</span><span class="p">(</span><span class="n">na</span><span class="p">)</span>
<span class="go">[1] FALSE</span>
</pre></div>
</div>
<p>Character Vectors:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">labs</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="s1">&#39;c(&quot;X&quot;,&quot;Y&quot;)&#39;</span><span class="p">,</span> <span class="s1">&#39;1:10&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;&quot;&quot;&#39;</span><span class="p">);</span> <span class="n">labs</span>
<span class="go">[1] &quot;X1&quot;  &quot;Y2&quot;  &quot;X3&quot;  &quot;Y4&quot;  &quot;X5&quot;  &quot;Y6&quot;  &quot;X7&quot;  &quot;Y8&quot;  &quot;X9&quot;  &quot;Y10&quot;</span>
</pre></div>
</div>
<p>Index vectors; selecting and modifying subsets of a data set:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">na</span> <span class="o">=</span> <span class="n">r</span><span class="p">(</span><span class="s1">&#39;NA&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mf">10.4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">,</span><span class="mf">3.1</span><span class="p">,</span><span class="mf">6.4</span><span class="p">,</span><span class="mf">21.7</span><span class="p">,</span><span class="n">na</span><span class="p">]);</span> <span class="n">x</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7   NA</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;!is.na(self)&#39;</span><span class="p">]</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mf">10.4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">,</span><span class="mf">3.1</span><span class="p">,</span><span class="mf">6.4</span><span class="p">,</span><span class="mf">21.7</span><span class="p">,</span><span class="n">na</span><span class="p">]);</span> <span class="n">x</span>
<span class="go">[1] 10.4  5.6  3.1  6.4 21.7   NA</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)[</span><span class="s1">&#39;(!is.na(self)) &amp; self&gt;0&#39;</span><span class="p">]</span>
<span class="go">[1] 11.4  6.6  4.1  7.4 22.7</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mf">10.4</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">21.7</span><span class="p">,</span><span class="n">na</span><span class="p">]);</span> <span class="n">x</span>
<span class="go">[1] 10.4 -2.0  3.1 -0.5 21.7   NA</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)[</span><span class="s1">&#39;(!is.na(self)) &amp; self&gt;0&#39;</span><span class="p">]</span>
<span class="go">[1] 11.4  4.1  0.5 22.7</span>
</pre></div>
</div>
<p>Distributions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;60&quot;</span><span class="p">);</span>
<span class="go">$width</span>
<span class="go">[1] 100</span>

<span class="gp">sage: </span><span class="n">rr</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">dnorm</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rr</span>
<span class="go"> [1] 0.004431848 0.005952532 0.007915452 0.010420935</span>
<span class="go"> [5] 0.013582969 0.017528300 0.022394530 0.028327038</span>
<span class="go"> [9] 0.035474593 0.043983596 0.053990967 0.065615815</span>
<span class="go">[13] 0.078950158 0.094049077 0.110920835 0.129517596</span>
<span class="go">[17] 0.149727466 0.171368592 0.194186055 0.217852177</span>
<span class="go">[21] 0.241970725 0.266085250 0.289691553 0.312253933</span>
<span class="go">[25] 0.333224603 0.352065327 0.368270140 0.381387815</span>
<span class="go">[29] 0.391042694 0.396952547 0.398942280 0.396952547</span>
<span class="go">[33] 0.391042694 0.381387815 0.368270140 0.352065327</span>
<span class="go">[37] 0.333224603 0.312253933 0.289691553 0.266085250</span>
<span class="go">[41] 0.241970725 0.217852177 0.194186055 0.171368592</span>
<span class="go">[45] 0.149727466 0.129517596 0.110920835 0.094049077</span>
<span class="go">[49] 0.078950158 0.065615815 0.053990967 0.043983596</span>
<span class="go">[53] 0.035474593 0.028327038 0.022394530 0.017528300</span>
<span class="go">[57] 0.013582969 0.010420935 0.007915452 0.005952532</span>
<span class="go">[61] 0.004431848</span>
</pre></div>
</div>
<p>Convert R Data Structures to Python/Sage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rr</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">dnorm</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">_sage_</span><span class="p">())</span>
<span class="go">9.9772125168981...</span>
</pre></div>
</div>
<p>Or you get a dictionary to be able to access all the information:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rs</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rs</span>
<span class="go">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">  1.000   1.750   3.000   2.875   4.000   5.000</span>
<span class="go">  sage: d = rs._sage_()</span>
<span class="go">  sage: d[&#39;DATA&#39;]</span>
<span class="go">  [1, 1.75, 3, 2.875, 4, 5]</span>
<span class="go">  sage: d[&#39;_Names&#39;]</span>
<span class="go">  [&#39;Min.&#39;, &#39;1st Qu.&#39;, &#39;Median&#39;, &#39;Mean&#39;, &#39;3rd Qu.&#39;, &#39;Max.&#39;]</span>
<span class="go">  sage: d[&#39;_r_class&#39;]</span>
<span class="go">  [&#39;summaryDefault&#39;, &#39;table&#39;]</span>
</pre></div>
</div>
<p>It is also possible to access the plotting capabilities of R
through Sage.  For more information see the documentation of
r.plot() or r.png().</p>
<p>THE JUPYTER NOTEBOOK INTERFACE (work in progress).</p>
<p>The %r interface described in the Sage notebook manual is not useful
in the Jupyter notebook : it creates a inferior R interpreter which
cannot be escaped.</p>
<p>The RPy2 library allows the creation of an R cell in the Jupyter
notebook analogous to the %r escape in command line or %r cell in a
Sage notebook.</p>
<p>The interface is loaded by a cell containing the sole code :</p>
<p>“%load_ext rpy2.ipython”</p>
<p>After execution of this code, the %R and %%R magics are available :</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>%R allows the execution of a single line of R code. Data exchange is</dt>
<dd>possible via the -i and -o options. Do “%R?” in a standalone cell
to get the documentation.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>%%R allows the execution in R of the whole text of a cell, with</dt>
<dd>similar options (do “%%R?” in a standalone cell for
documentation).</dd>
</dl>
</li>
</ul>
<p>A few important points must be noted :</p>
<ul class="simple">
<li>The R interpreter launched by this interface IS (currently)
DIFFERENT from the R interpreter used br other r… functions.</li>
<li>Data exchanged via the -i and -o options have a format DIFFERENT
from the format used by the r… functions (RPy2 mostly uses arrays,
and bugs the user to use the pandas Python package).</li>
<li>R graphics are (beautifully) displayed in output cells, but are not
directly importable. You have to save them as .png, .pdf or .svg
files and import them in Sage for further use.</li>
</ul>
<p>In its current incarnation, this interface is mostly useful to
statisticians needing Sage for a few symbolic computations but mostly
using R for applied work.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Mike Hansen (2007-11-01)</li>
<li>William Stein (2008-04-19)</li>
<li>Harald Schilly (2008-03-20)</li>
<li>Mike Hansen (2008-04-19)</li>
<li>Emmanuel Charpentier (2015-12-12, RPy2 interface)</li>
</ul>
<dl class="class">
<dt id="sage.interfaces.r.HelpExpression">
<em class="property">class </em><code class="descclassname">sage.interfaces.r.</code><code class="descname">HelpExpression</code><a class="headerlink" href="#sage.interfaces.r.HelpExpression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">str</span></code></p>
<p>Used to improve printing of output of r.help.</p>
</dd></dl>

<dl class="class">
<dt id="sage.interfaces.r.R">
<em class="property">class </em><code class="descclassname">sage.interfaces.r.</code><code class="descname">R</code><span class="sig-paren">(</span><em>maxread=None</em>, <em>script_subdirectory=None</em>, <em>server_tmpdir=None</em>, <em>logfile=None</em>, <em>server=None</em>, <em>init_list_length=1024</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.tab_completion.ExtraTabCompletion</span></code>, <a class="reference internal" href="expect.html#sage.interfaces.expect.Expect" title="sage.interfaces.expect.Expect"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.Expect</span></code></a></p>
<p>An interface to the R interpreter.</p>
<p>R is a comprehensive collection of methods for statistics,
modelling, bioinformatics, data analysis and much more.
For more details, see <a class="reference external" href="http://www.r-project.org/about.html">http://www.r-project.org/about.html</a></p>
<p>Resources:</p>
<ul class="simple">
<li><a class="reference external" href="http://r-project.org/">http://r-project.org/</a> provides more information about R.</li>
<li><a class="reference external" href="http://rseek.org/">http://rseek.org/</a> R’s own search engine.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="go">1.00    2.00    3.00   12.55    3.50  111.00</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.interfaces.r.R.available_packages">
<code class="descname">available_packages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.available_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all available R package names.</p>
<p>This list is not necessarily sorted.</p>
<p>OUTPUT: list of strings</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This requires an internet connection. The CRAN server is
that is checked is defined at the top of sage/interfaces/r.py.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ap</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">available_packages</span><span class="p">()</span>   <span class="c1"># optional - internet</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">ap</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span>                  <span class="c1"># optional - internet</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.call">
<code class="descname">call</code><span class="sig-paren">(</span><em>function_name</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.call" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an alias for <a class="reference internal" href="#sage.interfaces.r.R.function_call" title="sage.interfaces.r.R.function_call"><code class="xref py py-meth docutils literal"><span class="pre">function_call()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[1] 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.chdir">
<code class="descname">chdir</code><span class="sig-paren">(</span><em>dir</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the working directory to <code class="docutils literal"><span class="pre">dir</span></code></p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dir</span></code> – the directory to change to.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">sage: </span><span class="n">tmpdir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span>
</pre></div>
</div>
<p>Check that <code class="docutils literal"><span class="pre">tmpdir</span></code> and <code class="docutils literal"><span class="pre">r.getwd()</span></code> refer to the same
directory.  We need to use <code class="docutils literal"><span class="pre">realpath()</span></code> in case <code class="docutils literal"><span class="pre">$TMPDIR</span></code>
(by default <code class="docutils literal"><span class="pre">/tmp</span></code>) is a symbolic link (see <a class="reference external" href="https://trac.sagemath.org/10264">trac ticket #10264</a>).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span> <span class="o">==</span> <span class="n">sageobj</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">getwd</span><span class="p">())</span>  <span class="c1"># known bug (trac #9970)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.completions">
<code class="descname">completions</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.completions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all commands names that complete the command starting with the
string s.   This is like typing s[Ctrl-T] in the R interpreter.</p>
<p>INPUT:</p>
<ul class="simple">
<li>s – string</li>
</ul>
<p>OUTPUT: list – a list of strings</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dummy</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">_tab_completion</span><span class="p">(</span><span class="n">use_disk_cache</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>    <span class="c1">#clean doctest</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">completions</span><span class="p">(</span><span class="s1">&#39;tes&#39;</span><span class="p">)</span>
<span class="go">[&#39;testInheritedMethods&#39;, &#39;testPlatformEquivalence&#39;, &#39;testVirtual&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.console">
<code class="descname">console</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.console" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the R console as a separate new R process.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">console</span><span class="p">()</span>                    <span class="c1"># not tested</span>
<span class="go">    R version 2.6.1 (2007-11-26)</span>
<span class="go">    Copyright (C) 2007 The R Foundation for Statistical Computing</span>
<span class="go">    ISBN 3-900051-07-0</span>
<span class="go">    ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.convert_r_list">
<code class="descname">convert_r_list</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.convert_r_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an R list to a Python list.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;c(&quot;.GlobalEnv&quot;, &quot;package:stats&quot;, &quot;package:graphics&quot;, &quot;package:grDevices&quot;, </span><span class="se">\n</span><span class="s1">&quot;package:utils&quot;, &quot;package:datasets&quot;, &quot;package:methods&quot;, &quot;Autoloads&quot;, </span><span class="se">\n</span><span class="s1">&quot;package:base&quot;)&#39;</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">convert_r_list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[&#39;.GlobalEnv&#39;,</span>
<span class="go"> &#39;package:stats&#39;,</span>
<span class="go"> &#39;package:graphics&#39;,</span>
<span class="go"> &#39;package:grDevices&#39;,</span>
<span class="go"> &#39;package:utils&#39;,</span>
<span class="go"> &#39;package:datasets&#39;,</span>
<span class="go"> &#39;package:methods&#39;,</span>
<span class="go"> &#39;Autoloads&#39;,</span>
<span class="go"> &#39;package:base&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>code</em>, <em>globals=None</em>, <em>locals=None</em>, <em>synchronize=True</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a command inside the R interpreter and returns the output
as a string.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&#39;[1] 2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.function_call">
<code class="descname">function_call</code><span class="sig-paren">(</span><em>function</em>, <em>args=None</em>, <em>kwds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.function_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the result of calling an R function, with given args and keyword args.</p>
<p>OUTPUT: RElement – an object in R</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">function_call</span><span class="p">(</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">])</span>
<span class="go">[1] 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the string representation of the variable var.</p>
<p>INPUT:</p>
<ul class="simple">
<li>var – a string</li>
</ul>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">&#39;[1] 2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.help">
<code class="descname">help</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns help string for a given command.</p>
<p>INPUT:
- command – a string</p>
<p>OUTPUT: HelpExpression – a subclass of string whose __repr__ method is __str__, so it prints nicely</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">help</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">c                     package:base                     R Documentation</span>
<span class="gp">...</span>

<span class="go">.. note::</span>

<span class="go">    This is similar to typing r.command?.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.install_packages">
<code class="descname">install_packages</code><span class="sig-paren">(</span><em>package_name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.install_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>Install an R package into Sage’s R installation.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">install_packages</span><span class="p">(</span><span class="s1">&#39;aaMI&#39;</span><span class="p">)</span>       <span class="c1"># not tested</span>
<span class="gp">...</span>
<span class="go">R is free software and comes with ABSOLUTELY NO WARRANTY.</span>
<span class="go">You are welcome to redistribute it under certain conditions.</span>
<span class="go">Type &#39;license()&#39; or &#39;licence()&#39; for distribution details.</span>
<span class="gp">...</span>
<span class="go">Please restart Sage in order to use &#39;aaMI&#39;.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.library">
<code class="descname">library</code><span class="sig-paren">(</span><em>library_name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.library" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the library library_name into the R interpreter.</p>
<p>This function raises an ImportError if the given library
is not known.</p>
<p>INPUT:</p>
<ul class="simple">
<li>library_name – string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">library</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="s1">&#39;grid&#39;</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;(.packages())&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">library</span><span class="p">(</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ImportError</span>: <span class="n">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.na">
<code class="descname">na</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.na" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the NA in R.</p>
<p>OUTPUT: RElement – an element of R</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">na</span><span class="p">()</span>
<span class="go">[1] NA</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The R plot function.  Type r.help(‘plot’) for much more extensive
documentation about this function.  See also below for a brief
introduction to more plotting with R.</p>
<p>If one simply wants to view an R graphic, using this function is
is sufficient (because it calls dev.off() to turn off the device).</p>
<p>However, if one wants to save the graphic to a specific file, it
should be used as in the example below to write the output.</p>
<p>EXAMPLES:</p>
<p>This example saves a plot to the standard R output, usually
a filename like <code class="docutils literal"><span class="pre">Rplot001.png</span></code> - from the command line, in
the current directory, and in the cell directory in the notebook:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">setwd</span><span class="p">(</span><span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="o">%</span><span class="n">SAGE_TMP</span><span class="p">)</span>    <span class="c1"># for doctesting only; ignore if you are trying this;</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;1:10&quot;</span><span class="p">)</span>                <span class="c1"># optional -- rgraphics</span>
<span class="go">null device</span>
<span class="go">          1</span>
</pre></div>
</div>
<p>To save to a specific file name, one should use <a class="reference internal" href="#sage.interfaces.r.R.png" title="sage.interfaces.r.R.png"><code class="xref py py-meth docutils literal"><span class="pre">png()</span></code></a> to set
the output device to that file.  If this is done in the notebook, it
must be done in the same cell as the plot itself:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">filename</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">png</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="o">%</span><span class="n">filename</span><span class="p">)</span> <span class="c1"># Note the double quotes in single quotes!; optional -- rgraphics</span>
<span class="go">NULL</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>         <span class="c1"># optional -- rgraphics</span>
<span class="go">null device</span>
<span class="go">          1</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">os</span><span class="p">;</span> <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="c1"># For doctesting, we remove the file; optional -- rgraphics</span>
</pre></div>
</div>
<p>Please note that for more extensive use of R’s plotting
capabilities (such as the lattices package), it is advisable
to either use an interactive plotting device or to use the
notebook.  The following examples are not tested, because they
differ depending on operating system:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">X11</span><span class="p">()</span> <span class="c1"># not tested - opens interactive device on systems with X11 support</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">quartz</span><span class="p">()</span> <span class="c1"># not tested - opens interactive device on OSX</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="s2">&quot;rnorm(100)&quot;</span><span class="p">)</span> <span class="c1"># not tested - makes a plot</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">library</span><span class="p">(</span><span class="s2">&quot;lattice&quot;</span><span class="p">)</span> <span class="c1"># not tested - loads R lattice plotting package</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;~ wt | cyl&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;mtcars&quot;</span><span class="p">)</span> <span class="c1"># not tested - makes a lattice plot</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">dev_off</span><span class="p">()</span> <span class="c1"># not tested, turns off the interactive viewer</span>
</pre></div>
</div>
<p>In the notebook, one can use r.png() to open the device, but
would need to use the following since R lattice graphics do
not automatically print away from the command line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">filename</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span> <span class="c1"># Not needed in notebook, used for doctesting</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">png</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="o">%</span><span class="n">filename</span><span class="p">)</span> <span class="c1"># filename not needed in notebook, used for doctesting; optional -- rgraphics</span>
<span class="go">NULL</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">library</span><span class="p">(</span><span class="s2">&quot;lattice&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="p">(</span><span class="s2">&quot;print(histogram(~wt | cyl, data=mtcars))&quot;</span><span class="p">)</span> <span class="c1"># plot should appear; optional -- rgraphics</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">os</span><span class="p">;</span> <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="c1"># We remove the file for doctesting, not needed in notebook; optional -- rgraphics</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.png">
<code class="descname">png</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.png" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an R PNG device.</p>
<p>This should primarily be used to save an R graphic to a custom file.  Note
that when using this in the notebook, one must plot in the same cell that
one creates the device.  See r.plot() documentation for more information
about plotting via R in Sage.</p>
<p>These examples won’t work on the many platforms where R still gets
built without graphics support.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">filename</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">png</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span><span class="o">%</span><span class="n">filename</span><span class="p">)</span>             <span class="c1"># optional -- rgraphics</span>
<span class="go">NULL</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="c1"># This saves to filename, but is not viewable from command line; optional -- rgraphics</span>
<span class="go">null device</span>
<span class="go">          1</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">os</span><span class="p">;</span> <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="c1"># We remove the file for doctesting; optional -- rgraphics</span>
</pre></div>
</div>
<p>We want to make sure that we actually can view R graphics, which happens
differently on different platforms:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;capabilities(&quot;png&quot;)&#39;</span><span class="p">)</span> <span class="c1"># Should be on Linux and Solaris</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;capabilities(&quot;aqua&quot;)&#39;</span><span class="p">)</span> <span class="c1"># Should be on all supported Mac versions</span>
<span class="gp">sage: </span><span class="s2">&quot;TRUE&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="o">+</span><span class="n">t</span>                      <span class="c1"># optional -- rgraphics</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read filename into the R interpreter by calling R’s source function on a
read-only file connection.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">filename</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;a &lt;- 2+2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">&#39;[1] 4&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.require">
<code class="descname">require</code><span class="sig-paren">(</span><em>library_name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.require" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the library library_name into the R interpreter.</p>
<p>This function raises an ImportError if the given library
is not known.</p>
<p>INPUT:</p>
<ul class="simple">
<li>library_name – string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">library</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="s1">&#39;grid&#39;</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;(.packages())&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">library</span><span class="p">(</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ImportError</span>: <span class="n">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>var</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variable var in R to what the string value evaluates to in R.</p>
<p>INPUT:</p>
<ul class="simple">
<li>var – a string</li>
<li>value – a string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;2 + 3&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">&#39;[1] 5&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.set_seed">
<code class="descname">set_seed</code><span class="sig-paren">(</span><em>seed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.set_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the seed for R interpeter.
The seed should be an integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">R</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">set_seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="s2">&quot;1:10&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">[1] 3 4 5 7 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.source">
<code class="descname">source</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the R source (if possible) about the function named s.</p>
<p>INPUT:</p>
<ul class="simple">
<li>s – a string representing the function whose source code you want to see</li>
</ul>
<p>OUTPUT: string – source code</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">source</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">))</span>
<span class="go">function (...)  .Primitive(&quot;c&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.R.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.R.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the version of R currently running.</p>
<p>OUTPUT: tuple of ints; string</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">version</span><span class="p">()</span> <span class="c1"># not tested</span>
<span class="go">((3, 0, 1), &#39;R version 3.0.1 (2013-05-16)&#39;)</span>
<span class="gp">sage: </span><span class="n">rint</span><span class="p">,</span> <span class="n">rstr</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">version</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rint</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">rstr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;R version&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.interfaces.r.RElement">
<em class="property">class </em><code class="descclassname">sage.interfaces.r.</code><code class="descname">RElement</code><span class="sig-paren">(</span><em>parent</em>, <em>value</em>, <em>is_name=False</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.RElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.tab_completion.ExtraTabCompletion</span></code>, <a class="reference internal" href="expect.html#sage.interfaces.expect.ExpectElement" title="sage.interfaces.expect.ExpectElement"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.ExpectElement</span></code></a></p>
<dl class="method">
<dt id="sage.interfaces.r.RElement.dot_product">
<code class="descname">dot_product</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.RElement.dot_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the notation self . other.</p>
<p>INPUT:</p>
<ul class="simple">
<li>self, other – R elements</li>
</ul>
<p>OUTPUT: R element</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">dot_product</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">t</span><span class="p">())</span>
<span class="go">     [,1] [,2] [,3] [,4]</span>
<span class="go">[1,]    1    2    3    4</span>
<span class="go">[2,]    2    4    6    8</span>
<span class="go">[3,]    3    6    9   12</span>
<span class="go">[4,]    4    8   12   16</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">dot_product</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">     [,1]</span>
<span class="go">[1,]   74</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.RElement.stat_model">
<code class="descname">stat_model</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.RElement.stat_model" title="Permalink to this definition">¶</a></dt>
<dd><p>The tilde regression operator in R.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">lm</span><span class="p">(</span> <span class="n">y</span><span class="o">.</span><span class="n">tilde</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">)</span> <span class="c1"># lm( y ~ x )</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;DATA&#39;</span><span class="p">][</span><span class="s1">&#39;coefficients&#39;</span><span class="p">][</span><span class="s1">&#39;DATA&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.r.RElement.tilde">
<code class="descname">tilde</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.RElement.tilde" title="Permalink to this definition">¶</a></dt>
<dd><p>The tilde regression operator in R.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">lm</span><span class="p">(</span> <span class="n">y</span><span class="o">.</span><span class="n">tilde</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">)</span> <span class="c1"># lm( y ~ x )</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;DATA&#39;</span><span class="p">][</span><span class="s1">&#39;coefficients&#39;</span><span class="p">][</span><span class="s1">&#39;DATA&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.interfaces.r.RFunction">
<em class="property">class </em><code class="descclassname">sage.interfaces.r.</code><code class="descname">RFunction</code><span class="sig-paren">(</span><em>parent</em>, <em>name</em>, <em>r_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.RFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="expect.html#sage.interfaces.expect.ExpectFunction" title="sage.interfaces.expect.ExpectFunction"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.ExpectFunction</span></code></a></p>
<p>A Function in the R interface.</p>
<p>INPUT:</p>
<ul class="simple">
<li>parent – the R interface</li>
<li>name – the name of the function for Python</li>
<li>r_name – the name of the function in R itself (which can have dots in it)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">length</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">length</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.interfaces.r.RFunction&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
<span class="go">length</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.interfaces.r.RFunctionElement">
<em class="property">class </em><code class="descclassname">sage.interfaces.r.</code><code class="descname">RFunctionElement</code><span class="sig-paren">(</span><em>obj</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.RFunctionElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="expect.html#sage.interfaces.expect.FunctionElement" title="sage.interfaces.expect.FunctionElement"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.FunctionElement</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.r.is_RElement">
<code class="descclassname">sage.interfaces.r.</code><code class="descname">is_RElement</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.is_RElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if x is an element in an R interface.</p>
<p>INPUT:</p>
<ul class="simple">
<li>x – object</li>
</ul>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.r</span> <span class="kn">import</span> <span class="n">is_RElement</span>
<span class="gp">sage: </span><span class="n">is_RElement</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_RElement</span><span class="p">(</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.r.r_console">
<code class="descclassname">sage.interfaces.r.</code><code class="descname">r_console</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.r_console" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new R command-line session.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">console</span><span class="p">()</span>                    <span class="c1"># not tested</span>
<span class="go">    R version 2.6.1 (2007-11-26)</span>
<span class="go">    Copyright (C) 2007 The R Foundation for Statistical Computing</span>
<span class="go">    ISBN 3-900051-07-0</span>
<span class="go">    ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.r.r_version">
<code class="descclassname">sage.interfaces.r.</code><code class="descname">r_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.r_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the R version.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r_version</span><span class="p">()</span> <span class="c1"># not tested</span>
<span class="go">((3, 0, 1), &#39;R version 3.0.1 (2013-05-16)&#39;)</span>
<span class="gp">sage: </span><span class="n">rint</span><span class="p">,</span> <span class="n">rstr</span> <span class="o">=</span> <span class="n">r_version</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rint</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">rstr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;R version&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.r.reduce_load_R">
<code class="descclassname">sage.interfaces.r.</code><code class="descname">reduce_load_R</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.r.reduce_load_R" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for reconstructing a copy of the R interpreter from a pickle.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.r</span> <span class="kn">import</span> <span class="n">reduce_load_R</span>
<span class="gp">sage: </span><span class="n">reduce_load_R</span><span class="p">()</span>
<span class="go">R Interpreter</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="qsieve.html"
                                  title="previous chapter">Interface to Bill Hart’s Quadratic Sieve</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="rubik.html"
                                  title="next chapter">Interface to several Rubik’s cube solvers.</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/interfaces/r.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rubik.html" title="Interface to several Rubik’s cube solvers."
             >next</a> |</li>
        <li class="right" >
          <a href="qsieve.html" title="Interface to Bill Hart’s Quadratic Sieve"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Interpreter Interfaces</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>