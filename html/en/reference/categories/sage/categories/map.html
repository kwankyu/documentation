
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Base class for maps &#8212; Sage Reference Manual v9.0: Category Framework</title>
    <link rel="stylesheet" href="../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Homsets" href="homset.html" />
    <link rel="prev" title="Implementing a new parent: a (draft of) tutorial" href="tutorial.html" />
    <link rel="icon" href="../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="homset.html" title="Homsets"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Implementing a new parent: a (draft of) tutorial"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Category Framework</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="base-class-for-maps">
<span id="sage-categories-map"></span><h1>Base class for maps<a class="headerlink" href="#base-class-for-maps" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.categories.map"></span><p>AUTHORS:</p>
<ul class="simple">
<li>Robert Bradshaw: initial implementation</li>
<li>Sebastien Besnier (2014-05-5): <a class="reference internal" href="#sage.categories.map.FormalCompositeMap" title="sage.categories.map.FormalCompositeMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">FormalCompositeMap</span></code></a> contains
a list of Map instead of only two Map. See <a class="reference external" href="https://trac.sagemath.org/16291">trac ticket #16291</a>.</li>
<li>Sebastian Oehms   (2019-01-19): <code class="xref py py-meth docutils literal notranslate"><span class="pre">section()</span></code> added to <a class="reference internal" href="#sage.categories.map.FormalCompositeMap" title="sage.categories.map.FormalCompositeMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">FormalCompositeMap</span></code></a>.
See <a class="reference external" href="https://trac.sagemath.org/27081">trac ticket #27081</a>.</li>
</ul>
<dl class="class">
<dt id="sage.categories.map.FormalCompositeMap">
<em class="property">class </em><code class="descclassname">sage.categories.map.</code><code class="descname">FormalCompositeMap</code><a class="headerlink" href="#sage.categories.map.FormalCompositeMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.map.Map" title="sage.categories.map.Map"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.categories.map.Map</span></code></a></p>
<p>Formal composite maps.</p>
<p>A formal composite map is formed by two maps, so that the codomain of the
first map is contained in the domain of the second map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When calling a composite with additional arguments, these arguments are
<em>only</em> passed to the second underlying map.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">a</span><span class="o">^</span><span class="n">p</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="n">g</span>
<span class="go">Composite map:</span>
<span class="go">  From: Univariate Polynomial Ring in a over Rational Field</span>
<span class="go">  To:   Univariate Polynomial Ring in a over Rational Field</span>
<span class="go">  Defn:   Ring morphism:</span>
<span class="go">          From: Univariate Polynomial Ring in a over Rational Field</span>
<span class="go">          To:   Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">          Defn: a |--&gt; 2*x</span>
<span class="go">        then</span>
<span class="go">          Generic morphism:</span>
<span class="go">          From: Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">          To:   Univariate Polynomial Ring in a over Rational Field</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">*</span><span class="n">f</span>
<span class="go">Composite map:</span>
<span class="go">  From: Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">  To:   Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">  Defn:   Generic morphism:</span>
<span class="go">          From: Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">          To:   Univariate Polynomial Ring in a over Rational Field</span>
<span class="go">        then</span>
<span class="go">          Ring morphism:</span>
<span class="go">          From: Univariate Polynomial Ring in a over Rational Field</span>
<span class="go">          To:   Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">          Defn: a |--&gt; 2*x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">f</span><span class="o">*</span><span class="n">g</span><span class="p">)(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5*a^2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="go">20*x^2</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.categories.map.FormalCompositeMap.domains">
<code class="descname">domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.FormalCompositeMap.domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the domains of the factors of this map.</p>
<p>(This is useful in particular to check for loops in coercion maps.)</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.categories.map.Map.domains" title="sage.categories.map.Map.domains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Map.domains()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">((</span><span class="n">g</span><span class="o">*</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">domains</span><span class="p">())</span>
<span class="go">[Integer Ring, Rational Field]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.FormalCompositeMap.first">
<code class="descname">first</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.FormalCompositeMap.first" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first map in the formal composition.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> represents <span class="math notranslate nohighlight">\(f_n \circ f_{n-1} \circ \cdots \circ
f_1 \circ f_0\)</span>, then <code class="docutils literal notranslate"><span class="pre">self.first()</span></code> returns <span class="math notranslate nohighlight">\(f_0\)</span>.  We have
<code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">==</span> <span class="pre">self.then()</span> <span class="pre">*</span> <span class="pre">self.first()</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">a</span><span class="o">^</span><span class="n">p</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">fg</span> <span class="o">=</span> <span class="n">f</span> <span class="o">*</span> <span class="n">g</span>
<span class="gp">sage: </span><span class="n">fg</span><span class="o">.</span><span class="n">first</span><span class="p">()</span> <span class="o">==</span> <span class="n">g</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fg</span> <span class="o">==</span> <span class="n">fg</span><span class="o">.</span><span class="n">then</span><span class="p">()</span> <span class="o">*</span> <span class="n">fg</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.FormalCompositeMap.is_injective">
<code class="descname">is_injective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.FormalCompositeMap.is_injective" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell whether <code class="docutils literal notranslate"><span class="pre">self</span></code> is injective.</p>
<p>It raises <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> if it can’t be determined.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V1</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">V2</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">phi1</span> <span class="o">=</span> <span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi2</span> <span class="o">=</span> <span class="n">V1</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]),</span> <span class="n">V2</span><span class="p">)</span>
</pre></div>
</div>
<p>If both constituents are injective, the composition is injective:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.map</span> <span class="kn">import</span> <span class="n">FormalCompositeMap</span>
<span class="gp">sage: </span><span class="n">c1</span> <span class="o">=</span> <span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">1</span><span class="p">,</span> <span class="n">V2</span><span class="p">,</span> <span class="n">phi1</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span> <span class="n">phi1</span><span class="p">,</span> <span class="n">phi2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c1</span><span class="o">.</span><span class="n">is_injective</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If it cannot be determined whether the composition is injective,
an error is raised:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">psi1</span> <span class="o">=</span> <span class="n">V2</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c2</span> <span class="o">=</span> <span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">V1</span><span class="p">,</span> <span class="n">V1</span><span class="p">,</span> <span class="n">phi2</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span> <span class="n">phi2</span><span class="p">,</span> <span class="n">psi1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c2</span><span class="o">.</span><span class="n">is_injective</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError: Not enough information to deduce injectivity.</span>
</pre></div>
</div>
<p>If the first map is surjective and the second map is not injective,
then the composition is not injective:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">psi2</span> <span class="o">=</span> <span class="n">V1</span><span class="o">.</span><span class="n">hom</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c3</span> <span class="o">=</span> <span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">V2</span><span class="p">,</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">1</span><span class="p">,</span> <span class="n">phi2</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span> <span class="n">psi2</span><span class="p">,</span> <span class="n">psi1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c3</span><span class="o">.</span><span class="n">is_injective</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.FormalCompositeMap.is_surjective">
<code class="descname">is_surjective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.FormalCompositeMap.is_surjective" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell whether <code class="docutils literal notranslate"><span class="pre">self</span></code> is surjective.</p>
<p>It raises <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> if it can’t be determined.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.map</span> <span class="kn">import</span> <span class="n">FormalCompositeMap</span>
<span class="gp">sage: </span><span class="n">V3</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">V2</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">V1</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">1</span>
</pre></div>
</div>
<p>If both maps are surjective, the composition is surjective:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">phi32</span> <span class="o">=</span> <span class="n">V3</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]),</span> <span class="n">V2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi21</span> <span class="o">=</span> <span class="n">V2</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_phi</span> <span class="o">=</span> <span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">V3</span><span class="p">,</span> <span class="n">V1</span><span class="p">,</span> <span class="n">phi32</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span> <span class="n">phi32</span><span class="p">,</span> <span class="n">phi21</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_phi</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If the second map is not surjective, the composition is not
surjective:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">V3</span><span class="p">,</span> <span class="n">V1</span><span class="p">,</span> <span class="n">phi32</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span> <span class="n">phi32</span><span class="p">,</span> <span class="n">V2</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">))</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>If the second map is an isomorphism and the first map is not
surjective, then the composition is not surjective:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">V2</span><span class="p">,</span> <span class="n">V1</span><span class="p">,</span> <span class="n">phi32</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span> <span class="n">V2</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">),</span> <span class="n">V1</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">))</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Otherwise, surjectivity of the composition cannot be determined:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FormalCompositeMap</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">V2</span><span class="p">,</span> <span class="n">V1</span><span class="p">,</span> <span class="n">phi32</span><span class="o">.</span><span class="n">category_for</span><span class="p">()),</span>
<span class="gp">....: </span>    <span class="n">V2</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]),</span> <span class="n">V2</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="n">V2</span><span class="o">.</span><span class="n">hom</span><span class="p">(</span><span class="n">Matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]),</span> <span class="n">V1</span><span class="p">))</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError: Not enough information to deduce surjectivity.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.FormalCompositeMap.section">
<code class="descname">section</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.FormalCompositeMap.section" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a section map from sections of the factors of
<code class="docutils literal notranslate"><span class="pre">self</span></code> if they have been implemented.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">incl</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sect</span> <span class="o">=</span> <span class="n">incl</span><span class="o">.</span><span class="n">section</span><span class="p">();</span> <span class="n">sect</span>
<span class="go">Composite map:</span>
<span class="go">  From: Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">  To:   Integer Ring</span>
<span class="go">  Defn:   Generic map:</span>
<span class="go">          From: Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">          To:   Rational Field</span>
<span class="go">        then</span>
<span class="go">          Generic map:</span>
<span class="go">          From: Rational Field</span>
<span class="go">          To:   Integer Ring</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span> <span class="n">q</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">sect</span><span class="p">(</span><span class="n">p</span><span class="o">-</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>the following example has been attached to <code class="xref py py-meth docutils literal notranslate"><span class="pre">_integer_()</span></code>
of <a class="reference external" href="../../../polynomial_rings/sage/rings/polynomial/polynomial_element.html#sage.rings.polynomial.polynomial_element.Polynomial" title="(in Sage Reference Manual: Polynomials v9.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.polynomial.polynomial_element.Polynomial</span></code></a>
before (see comment there):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">47</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">section</span><span class="p">()</span>
<span class="go">Composite map:</span>
<span class="go">  From: Univariate Polynomial Ring in x over Finite Field of size 47</span>
<span class="go">  To:   Integer Ring</span>
<span class="go">  Defn:   Generic map:</span>
<span class="go">          From: Univariate Polynomial Ring in x over Finite Field of size 47</span>
<span class="go">          To:   Finite Field of size 47</span>
<span class="go">        then</span>
<span class="go">          Lifting map:</span>
<span class="go">          From: Finite Field of size 47</span>
<span class="go">          To:   Integer Ring</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>                 <span class="c1"># indirect doctest</span>
<span class="go">45</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">45</span><span class="p">)</span>              <span class="c1"># indirect doctest</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: not a constant polynomial</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.FormalCompositeMap.then">
<code class="descname">then</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.FormalCompositeMap.then" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tail of the list of maps.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> represents <span class="math notranslate nohighlight">\(f_n \circ f_{n-1} \circ \cdots \circ
f_1 \circ f_0\)</span>, then <code class="docutils literal notranslate"><span class="pre">self.first()</span></code> returns <span class="math notranslate nohighlight">\(f_n \circ
f_{n-1} \circ \cdots \circ f_1\)</span>.  We have <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">==</span>
<span class="pre">self.then()</span> <span class="pre">*</span> <span class="pre">self.first()</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">a</span><span class="o">^</span><span class="n">p</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">])</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">f</span><span class="o">*</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">then</span><span class="p">()</span> <span class="o">==</span> <span class="n">f</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">extend_domain</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">extend_codomain</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">then</span><span class="p">()</span>
<span class="go">Composite map:</span>
<span class="go">From: Integer Ring</span>
<span class="go">To:   Rational Field</span>
<span class="go">Defn:   Natural morphism:</span>
<span class="go">From: Integer Ring</span>
<span class="go">To:   Rational Field</span>
<span class="go">then</span>
<span class="go">Identity endomorphism of Rational Field</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.map.Map">
<em class="property">class </em><code class="descclassname">sage.categories.map.</code><code class="descname">Map</code><a class="headerlink" href="#sage.categories.map.Map" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.Element" title="(in Sage Reference Manual: Parents and Elements v9.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.Element</span></code></a></p>
<p>Basic class for all maps.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The call method is of course not implemented in this base class. This must
be done in the sub classes, by overloading <code class="docutils literal notranslate"><span class="pre">_call_</span></code> and possibly also
<code class="docutils literal notranslate"><span class="pre">_call_with_args</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<p>Usually, instances of this class will not be constructed directly, but
for example like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">ZZ</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">],</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">x^2 + 2*x*y + y^2 + 2*x + 2*y - 1</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.categories.map.Map.category_for">
<code class="descname">category_for</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.category_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the category self is a morphism for.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is different from the category of maps to which this
map belongs <em>as an object</em>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">ZZ</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">.</span><span class="n">category_for</span><span class="p">()</span>
<span class="go">Category of rings</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of homsets of unital magmas and additive unital additive magmas</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">],</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">category_for</span><span class="p">()</span>
<span class="go">Join of Category of unique factorization domains</span>
<span class="go">and Category of commutative algebras</span>
<span class="go">over (number fields and quotient fields and metric spaces)</span>
<span class="go">and Category of infinite sets</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of endsets of unital magmas</span>
<span class="go"> and right modules over (number fields and quotient fields and metric spaces)</span>
<span class="go"> and left modules over (number fields and quotient fields and metric spaces)</span>
</pre></div>
</div>
<p>FIXME: find a better name for this method</p>
</dd></dl>

<dl class="attribute">
<dt id="sage.categories.map.Map.codomain">
<code class="descname">codomain</code><a class="headerlink" href="#sage.categories.map.Map.codomain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sage.categories.map.Map.domain">
<code class="descname">domain</code><a class="headerlink" href="#sage.categories.map.Map.domain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.domains">
<code class="descname">domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the domains of the factors of a (composite) map.</p>
<p>This default implementation simply yields the domain of this map.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.categories.map.FormalCompositeMap.domains" title="sage.categories.map.FormalCompositeMap.domains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FormalCompositeMap.domains()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">QQ</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">domains</span><span class="p">())</span>
<span class="go">[Integer Ring]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.extend_codomain">
<code class="descname">extend_codomain</code><span class="sig-paren">(</span><em>new_codomain</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.extend_codomain" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self</span></code> – a member of Hom(X, Y)</li>
<li><code class="docutils literal notranslate"><span class="pre">new_codomain</span></code> – an object Z such that there is a canonical coercion
<span class="math notranslate nohighlight">\(\phi\)</span> in Hom(Y, Z)</li>
</ul>
<p>OUTPUT:</p>
<p>An element of Hom(X, Z) obtained by composing self with <span class="math notranslate nohighlight">\(\phi\)</span>.  If
no canonical <span class="math notranslate nohighlight">\(\phi\)</span> exists, a TypeError is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">mor</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mor</span><span class="o">.</span><span class="n">extend_codomain</span><span class="p">(</span><span class="n">RDF</span><span class="p">)</span>
<span class="go">Composite map:</span>
<span class="go">  From: Integer Ring</span>
<span class="go">  To:   Real Double Field</span>
<span class="go">  Defn:   Natural morphism:</span>
<span class="go">          From: Integer Ring</span>
<span class="go">          To:   Rational Field</span>
<span class="go">        then</span>
<span class="go">          Native morphism:</span>
<span class="go">          From: Rational Field</span>
<span class="go">          To:   Real Double Field</span>
<span class="gp">sage: </span><span class="n">mor</span><span class="o">.</span><span class="n">extend_codomain</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: No coercion from Rational Field to Finite Field of size 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.extend_domain">
<code class="descname">extend_domain</code><span class="sig-paren">(</span><em>new_domain</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.extend_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self</span></code> – a member of Hom(Y, Z)</li>
<li><code class="docutils literal notranslate"><span class="pre">new_codomain</span></code> – an object X such that there is a canonical coercion
<span class="math notranslate nohighlight">\(\phi\)</span> in Hom(X, Y)</li>
</ul>
<p>OUTPUT:</p>
<p>An element of Hom(X, Z) obtained by composing self with <span class="math notranslate nohighlight">\(\phi\)</span>.  If
no canonical <span class="math notranslate nohighlight">\(\phi\)</span> exists, a TypeError is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">mor</span> <span class="o">=</span> <span class="n">CDF</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">RDF</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mor</span><span class="o">.</span><span class="n">extend_domain</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Composite map:</span>
<span class="go">  From: Rational Field</span>
<span class="go">  To:   Complex Double Field</span>
<span class="go">  Defn:   Native morphism:</span>
<span class="go">          From: Rational Field</span>
<span class="go">          To:   Real Double Field</span>
<span class="go">        then</span>
<span class="go">          Native morphism:</span>
<span class="go">          From: Real Double Field</span>
<span class="go">          To:   Complex Double Field</span>
<span class="gp">sage: </span><span class="n">mor</span><span class="o">.</span><span class="n">extend_domain</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: No coercion from Univariate Polynomial Ring in x over Integer Ring to Real Double Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.is_surjective">
<code class="descname">is_surjective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.is_surjective" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether the map is surjective (not implemented in the base class).</p>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.parent">
<code class="descname">parent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the homset containing this map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The method <code class="xref py py-meth docutils literal notranslate"><span class="pre">_make_weak_references()</span></code>, that is used for the maps
found by the coercion system, needs to remove the usual strong
reference from the coercion map to the homset containing it. As long
as the user keeps strong references to domain and codomain of the map,
we will be able to reconstruct the homset. However, a strong reference
to the coercion map does not prevent the domain from garbage collection!</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">QuadraticField</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">CDF</span><span class="o">.</span><span class="n">_internal_convert_map_from</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">phi</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
<span class="go">Set of field embeddings from Number Field in a with defining polynomial x^2 + 5 with a = 2.236067977499790?*I to Complex Double Field</span>
</pre></div>
</div>
<p>We now demonstrate that the reference to the coercion map <span class="math notranslate nohighlight">\(\phi\)</span> does
not prevent <span class="math notranslate nohighlight">\(Q\)</span> from being garbage collected:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">gc</span>
<span class="gp">sage: </span><span class="k">del</span> <span class="n">Q</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: This map is in an invalid state, the domain has been garbage collected</span>
</pre></div>
</div>
<p>You can still obtain copies of the maps used by the coercion system with
strong references:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">QuadraticField</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">CDF</span><span class="o">.</span><span class="n">convert_map_from</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">phi</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
<span class="go">Set of field embeddings from Number Field in a with defining polynomial x^2 + 5 with a = 2.236067977499790?*I to Complex Double Field</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">gc</span>
<span class="gp">sage: </span><span class="k">del</span> <span class="n">Q</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set of field embeddings from Number Field in a with defining polynomial x^2 + 5 with a = 2.236067977499790?*I to Complex Double Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.post_compose">
<code class="descname">post_compose</code><span class="sig-paren">(</span><em>left</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.post_compose" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self</span></code> – a Map in some <code class="docutils literal notranslate"><span class="pre">Hom(X,</span> <span class="pre">Y,</span> <span class="pre">category_right)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left</span></code> – a Map in some <code class="docutils literal notranslate"><span class="pre">Hom(Y,</span> <span class="pre">Z,</span> <span class="pre">category_left)</span></code></li>
</ul>
<p>Returns the composition of <code class="docutils literal notranslate"><span class="pre">self</span></code> followed by <code class="docutils literal notranslate"><span class="pre">right</span></code> as a
morphism in <code class="docutils literal notranslate"><span class="pre">Hom(X,</span> <span class="pre">Z,</span> <span class="pre">category)</span></code> where <code class="docutils literal notranslate"><span class="pre">category</span></code> is the
meet of <code class="docutils literal notranslate"><span class="pre">category_left</span></code> and <code class="docutils literal notranslate"><span class="pre">category_right</span></code>.</p>
<p>Caveat: see the current restrictions on <a class="reference internal" href="category.html#sage.categories.category.Category.meet" title="sage.categories.category.Category.meet"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Category.meet()</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">ZZ</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">QQ</span>
<span class="gp">sage: </span><span class="n">phi_xy</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi_yz</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">Monoids</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">QQ</span><span class="p">(</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi_xz</span> <span class="o">=</span> <span class="n">phi_xy</span><span class="o">.</span><span class="n">post_compose</span><span class="p">(</span><span class="n">phi_yz</span><span class="p">);</span> <span class="n">phi_xz</span>
<span class="go">Composite map:</span>
<span class="go">  From: Univariate Polynomial Ring in x over Integer Ring</span>
<span class="go">  To:   Rational Field</span>
<span class="go">  Defn:   Generic morphism:</span>
<span class="go">          From: Univariate Polynomial Ring in x over Integer Ring</span>
<span class="go">          To:   Integer Ring</span>
<span class="go">        then</span>
<span class="go">          Generic morphism:</span>
<span class="go">          From: Integer Ring</span>
<span class="go">          To:   Rational Field</span>
<span class="gp">sage: </span><span class="n">phi_xz</span><span class="o">.</span><span class="n">category_for</span><span class="p">()</span>
<span class="go">Category of monoids</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.pre_compose">
<code class="descname">pre_compose</code><span class="sig-paren">(</span><em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.pre_compose" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self</span></code> – a Map in some <code class="docutils literal notranslate"><span class="pre">Hom(Y,</span> <span class="pre">Z,</span> <span class="pre">category_left)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left</span></code> – a Map in some <code class="docutils literal notranslate"><span class="pre">Hom(X,</span> <span class="pre">Y,</span> <span class="pre">category_right)</span></code></li>
</ul>
<p>Returns the composition of <code class="docutils literal notranslate"><span class="pre">right</span></code> followed by <code class="docutils literal notranslate"><span class="pre">self</span></code> as a
morphism in <code class="docutils literal notranslate"><span class="pre">Hom(X,</span> <span class="pre">Z,</span> <span class="pre">category)</span></code> where <code class="docutils literal notranslate"><span class="pre">category</span></code> is the
meet of <code class="docutils literal notranslate"><span class="pre">category_left</span></code> and <code class="docutils literal notranslate"><span class="pre">category_right</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.morphism</span> <span class="kn">import</span> <span class="n">SetMorphism</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">ZZ</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">QQ</span>
<span class="gp">sage: </span><span class="n">phi_xy</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Rings</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi_yz</span> <span class="o">=</span> <span class="n">SetMorphism</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">Monoids</span><span class="p">()),</span> <span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">QQ</span><span class="p">(</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi_xz</span> <span class="o">=</span> <span class="n">phi_yz</span><span class="o">.</span><span class="n">pre_compose</span><span class="p">(</span><span class="n">phi_xy</span><span class="p">);</span> <span class="n">phi_xz</span>
<span class="go">Composite map:</span>
<span class="go">  From: Univariate Polynomial Ring in x over Integer Ring</span>
<span class="go">  To:   Rational Field</span>
<span class="go">  Defn:   Generic morphism:</span>
<span class="go">          From: Univariate Polynomial Ring in x over Integer Ring</span>
<span class="go">          To:   Integer Ring</span>
<span class="go">        then</span>
<span class="go">          Generic morphism:</span>
<span class="go">          From: Integer Ring</span>
<span class="go">          To:   Rational Field</span>
<span class="gp">sage: </span><span class="n">phi_xz</span><span class="o">.</span><span class="n">category_for</span><span class="p">()</span>
<span class="go">Category of monoids</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.map.Map.section">
<code class="descname">section</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Map.section" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a section of self.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code>. You may override it in subclasses.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.map.Section">
<em class="property">class </em><code class="descclassname">sage.categories.map.</code><code class="descname">Section</code><a class="headerlink" href="#sage.categories.map.Section" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.map.Map" title="sage.categories.map.Map"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.categories.map.Map</span></code></a></p>
<p>A formal section of a map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Call methods are not implemented for the base class <code class="docutils literal notranslate"><span class="pre">Section</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.map</span> <span class="kn">import</span> <span class="n">Section</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">sf</span> <span class="o">=</span> <span class="n">Section</span><span class="p">(</span><span class="n">f</span><span class="p">);</span> <span class="n">sf</span>
<span class="go">Section map:</span>
<span class="go">  From: Multivariate Polynomial Ring in a, b over Rational Field</span>
<span class="go">  To:   Multivariate Polynomial Ring in x, y over Integer Ring</span>
<span class="gp">sage: </span><span class="n">sf</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError: &lt;type &#39;sage.categories.map.Section&#39;&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.categories.map.Section.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.Section.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.categories.map.is_Map">
<code class="descclassname">sage.categories.map.</code><code class="descname">is_Map</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.is_Map" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary function: Is the argument a map?</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">],</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.map</span> <span class="kn">import</span> <span class="n">is_Map</span>
<span class="gp">sage: </span><span class="n">is_Map</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.categories.map.unpickle_map">
<code class="descclassname">sage.categories.map.</code><code class="descname">unpickle_map</code><span class="sig-paren">(</span><em>_class</em>, <em>parent</em>, <em>_dict</em>, <em>_slots</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.map.unpickle_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary function for unpickling a map.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Implementing a new parent: a (draft of) tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="homset.html"
                        title="next chapter">Homsets</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/categories/map.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="homset.html" title="Homsets"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Implementing a new parent: a (draft of) tutorial"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Category Framework</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2020, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>