<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Piecewise-defined Functions &#8212; Sage Reference Manual v8.0: Functions</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Spike Functions" href="spike_function.html" />
    <link rel="prev" title="Error Functions" href="error.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spike_function.html" title="Spike Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="error.html" title="Error Functions"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Functions</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="piecewise-defined-functions">
<span id="sage-functions-piecewise"></span><h1>Piecewise-defined Functions<a class="headerlink" href="#piecewise-defined-functions" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.functions.piecewise"></span><p>This module implement piecewise functions in a single variable. See
<a class="reference external" href="../../../sets/sage/sets/real_set.html#module-sage.sets.real_set" title="(in Sage Reference Manual: Sets v8.0)"><code class="xref py py-mod docutils literal"><span class="pre">sage.sets.real_set</span></code></a> for more information about how to construct
subsets of the real line for the domains.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">),</span> <span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;x^3 on (0, 1), x|--&gt;-x^2 on [-1, 0]; x)</span>
<span class="gp">sage: </span><span class="mi">2</span><span class="o">*</span><span class="n">f</span>
<span class="go">2*piecewise(x|--&gt;x^3 on (0, 1), x|--&gt;-x^2 on [-1, 0]; x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/8</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>    <span class="c1"># not tested</span>
</pre></div>
</div>
<p>TODO:</p>
<ul class="simple">
<li>Implement max/min location and values,</li>
</ul>
<p>AUTHORS:</p>
<ul class="simple">
<li>David Joyner (2006-04): initial version</li>
<li>David Joyner (2006-09): added __eq__, extend_by_zero_to, unextend,
convolution, trapezoid, trapezoid_integral_approximation,
riemann_sum, riemann_sum_integral_approximation, tangent_line fixed
bugs in __mul__, __add__</li>
<li>David Joyner (2007-03): adding Hann filter for FS, added general FS
filter methods for computing and plotting, added options to plotting
of FS (eg, specifying rgb values are now allowed). Fixed bug in
documentation reported by Pablo De Napoli.</li>
<li>David Joyner (2007-09): bug fixes due to behaviour of
SymbolicArithmetic</li>
<li>David Joyner (2008-04): fixed docstring bugs reported by J Morrow; added
support for Laplace transform of functions with infinite support.</li>
<li>David Joyner (2008-07): fixed a left multiplication bug reported by
C. Boncelet (by defining __rmul__ = __mul__).</li>
<li>Paul Butler (2009-01): added indefinite integration and default_variable</li>
<li>Volker Braun (2013): Complete rewrite</li>
<li>Ralf Stephan (2015): Rewrite of convolution() and other calculus
functions; many doctest adaptations</li>
</ul>
<dl class="class">
<dt id="sage.functions.piecewise.PiecewiseFunction">
<em class="property">class </em><code class="descclassname">sage.functions.piecewise.</code><code class="descname">PiecewiseFunction</code><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../calculus/sage/symbolic/function.html#sage.symbolic.function.BuiltinFunction" title="(in Sage Reference Manual: Symbolic Calculus v8.0)"><code class="xref py py-class docutils literal"><span class="pre">sage.symbolic.function.BuiltinFunction</span></code></a></p>
<p>Piecewise function</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">),</span> <span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span> <span class="n">var</span><span class="o">=</span><span class="n">x</span><span class="p">);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;x^2*y on (0, 1), x|--&gt;-x*y^2 on [-1, 0]; x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/4*y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/2*y^2</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods">
<em class="property">class </em><code class="descname">EvaluationMethods</code><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.convolution">
<code class="descname">convolution</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.convolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the convolution function,
<span class="math">\(f*g(t)=\int_{-\infty}^\infty f(u)g(t-u)du\)</span>, for compactly
supported <span class="math">\(f,g\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">]])</span>  <span class="c1">## example 0</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">f</span><span class="p">);</span> <span class="n">g</span>
<span class="go">piecewise(x|--&gt;x on (0, 1], x|--&gt;-x + 2 on (1, 2]; x)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">g</span><span class="p">);</span> <span class="n">h</span>
<span class="go">piecewise(x|--&gt;1/2*x^2 on (0, 1], x|--&gt;-x^2 + 3*x - 3/2 on (1, 2], x|--&gt;1/2*x^2 - 3*x + 9/2 on (2, 3]; x)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">1</span><span class="p">],[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">],[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">1</span><span class="p">]])</span>  <span class="c1">## example 1</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">g</span><span class="p">);</span> <span class="n">h</span>
<span class="go">piecewise(x|--&gt;1/2*x^2 on (0, 1], x|--&gt;2*x^2 - 3*x + 3/2 on (1, 3], x|--&gt;-2*x^2 + 21*x - 69/2 on (3, 4], x|--&gt;-5*x^2 + 45*x - 165/2 on (4, 5], x|--&gt;-2*x^2 + 15*x - 15/2 on (5, 6], x|--&gt;2*x^2 - 33*x + 273/2 on (6, 8], x|--&gt;1/2*x^2 - 9*x + 81/2 on (8, 9]; x)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">1</span><span class="p">]])</span>                             <span class="c1">## example 2</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">x</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">piecewise(x|--&gt;1/2*x^2 + x + 1/2 on (-1, 1], x|--&gt;2*x on (1, 2], x|--&gt;-1/2*x^2 + x + 4 on (2, 4]; x)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">1</span><span class="p">],[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">piecewise(x|--&gt;x + 1 on (-1, 1], x|--&gt;2 on (1, 2], x|--&gt;x on (2, 3], x|--&gt;-x + 6 on (3, 4], x|--&gt;-2*x + 10 on (4, 5]; x)</span>
</pre></div>
</div>
<p>Check that the bugs raised in <a class="reference external" href="https://trac.sagemath.org/12123">trac ticket #12123</a> are fixed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">piecewise(x|--&gt;3/2*x + 3 on (-2, 0], x|--&gt;3 on (0, 2], x|--&gt;-3/2*x + 6 on (2, 4]; x)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">],</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="o">-</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">convolution</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">piecewise(x|--&gt;1/2*x^2 + x + 1/2 on (-1, 0], x|--&gt;-1/2*x^2 + x + 1/2 on (0, 2], x|--&gt;1/2*x^2 - 3*x + 9/2 on (2, 3]; x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.critical_points">
<code class="descname">critical_points</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.critical_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the critical points of this piecewise function.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f1</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">0</span>
<span class="gp">sage: </span><span class="n">f2</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f3</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">156</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3036</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">26208</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">f1</span><span class="p">],[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">f2</span><span class="p">],[(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span><span class="n">f3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">e</span><span class="o">-</span><span class="n">a</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">e</span><span class="p">,</span><span class="n">a</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">critical_points</span><span class="p">()))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.domain">
<code class="descname">domain</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the domain</p>
<p>OUTPUT:</p>
<p>The union of the domains of the individual pieces as a
<a class="reference external" href="../../../sets/sage/sets/real_set.html#sage.sets.real_set.RealSet" title="(in Sage Reference Manual: Sets v8.0)"><code class="xref py py-class docutils literal"><span class="pre">RealSet</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">[0, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.domains">
<code class="descname">domains</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the individual domains</p>
<p>See also <a class="reference internal" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.expressions" title="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.expressions"><code class="xref py py-meth docutils literal"><span class="pre">expressions()</span></code></a>.</p>
<p>OUTPUT:</p>
<p>The collection of domains of the component functions as a
tuple of <a class="reference external" href="../../../sets/sage/sets/real_set.html#sage.sets.real_set.RealSet" title="(in Sage Reference Manual: Sets v8.0)"><code class="xref py py-class docutils literal"><span class="pre">RealSet</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">domains</span><span class="p">()</span>
<span class="go">({0}, (0, 2))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.end_points">
<code class="descname">end_points</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all interval endpoints for this function.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">f3</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">f1</span><span class="p">],[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">f2</span><span class="p">],[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">f3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">end_points</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">end_points</span><span class="p">()</span>
<span class="go">[0, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.expression_at">
<code class="descname">expression_at</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>point</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.expression_at" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the expression defining the piecewise function at
<code class="docutils literal"><span class="pre">value</span></code></p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">point</span></code> &#8211; a real number.</li>
</ul>
<p>OUTPUT:</p>
<p>The symbolic expression defining the function value at the
given <code class="docutils literal"><span class="pre">point</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expression_at</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">sin(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expression_at</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">cos(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expression_at</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">point is not in the domain</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.expressions">
<code class="descname">expressions</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.expressions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the individual domains</p>
<p>See also <a class="reference internal" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.domains" title="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.domains"><code class="xref py py-meth docutils literal"><span class="pre">domains()</span></code></a>.</p>
<p>OUTPUT:</p>
<p>The collection of expressions of the component functions.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expressions</span><span class="p">()</span>
<span class="go">(sin(x), cos(x))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.extension">
<code class="descname">extension</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>extension</em>, <em>extension_domain=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the function</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">extension</span></code> &#8211; a symbolic expression</li>
<li><code class="docutils literal"><span class="pre">extension_domain</span></code> &#8211; a
<a class="reference external" href="../../../sets/sage/sets/real_set.html#sage.sets.real_set.RealSet" title="(in Sage Reference Manual: Sets v8.0)"><code class="xref py py-class docutils literal"><span class="pre">RealSet</span></code></a> or <code class="docutils literal"><span class="pre">None</span></code>
(default). The domain of the extension. By default, the
entire complement of the current domain.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">)]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;x on (-1, 1); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">point 3 is not in the domain</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>  <span class="n">g</span>
<span class="go">piecewise(x|--&gt;x on (-1, 1), x|--&gt;0 on (-oo, -1] + [1, +oo); x)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">RealSet</span><span class="o">.</span><span class="n">unbounded_above_closed</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>  <span class="n">h</span>
<span class="go">piecewise(x|--&gt;x on (-1, 1), x|--&gt;1 on [1, +oo); x)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.fourier_series_cosine_coefficient">
<code class="descname">fourier_series_cosine_coefficient</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>n</em>, <em>L</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.fourier_series_cosine_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the n-th Fourier series coefficient of
<span class="math">\(\cos(n\pi x/L)\)</span>, <span class="math">\(a_n\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - the function f(x), defined over -L x L</li>
<li><code class="docutils literal"><span class="pre">n</span></code> - an integer n=0</li>
<li><code class="docutils literal"><span class="pre">L</span></code> - (the period)/2</li>
</ul>
<p>OUTPUT:
<span class="math">\(a_n = \frac{1}{L}\int_{-L}^L f(x)\cos(n\pi x/L)dx\)</span></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">f</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fourier_series_cosine_coefficient</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">pi^(-2)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span><span class="n">f</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fourier_series_cosine_coefficient</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="n">f1</span><span class="p">],[(</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span><span class="n">f2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fourier_series_cosine_coefficient</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">pi</span><span class="p">)</span>
<span class="go">-3/5/pi</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.fourier_series_partial_sum">
<code class="descname">fourier_series_partial_sum</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>N</em>, <em>L</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.fourier_series_partial_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the partial sum</p>
<div class="math">
\[f(x) \sim \frac{a_0}{2} + \sum_{n=1}^N [a_n\cos(\frac{n\pi x}{L}) + b_n\sin(\frac{n\pi x}{L})],\]</div>
<p>as a string.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">f</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fourier_series_partial_sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">cos(2*pi*x)/pi^2 - 4*cos(pi*x)/pi^2 + 1/3</span>
<span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="n">f1</span><span class="p">],[(</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span><span class="n">f2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fourier_series_partial_sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">pi</span><span class="p">)</span>
<span class="go">-3*cos(x)/pi - 3*sin(2*x)/pi + 3*sin(x)/pi - 1/4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.fourier_series_sine_coefficient">
<code class="descname">fourier_series_sine_coefficient</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>n</em>, <em>L</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.fourier_series_sine_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the n-th Fourier series coefficient of
<span class="math">\(\sin(n\pi x/L)\)</span>, <span class="math">\(b_n\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - the function f(x), defined over -L x L</li>
<li><code class="docutils literal"><span class="pre">n</span></code> - an integer n0</li>
<li><code class="docutils literal"><span class="pre">L</span></code> - (the period)/2</li>
</ul>
<p>OUTPUT:
<span class="math">\(b_n = \frac{1}{L}\int_{-L}^L f(x)\sin(n\pi x/L)dx\)</span></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">f</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fourier_series_sine_coefficient</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># L=1, n=2</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.integral">
<code class="descname">integral</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>x=None</em>, <em>a=None</em>, <em>b=None</em>, <em>definite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, return the indefinite integral of the function.
If definite=True is given, returns the definite integral.</p>
<p>AUTHOR:</p>
<ul class="simple">
<li>Paul Butler</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">1</span><span class="p">),</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">f1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">definite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">1/2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="n">f1</span><span class="p">),</span> <span class="p">((</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span><span class="n">f2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">definite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">1/2*pi</span>

<span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">-</span> <span class="n">x</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">f1</span><span class="p">],</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">f2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">()</span>
<span class="go">piecewise(x|--&gt;2*x + 4 on (-2, 0), x|--&gt;-1/2*x^2 + 3*x + 4 on (0, 3); x)</span>

<span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f3</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f4</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f5</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span><span class="n">f1</span><span class="p">],[(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span><span class="n">f2</span><span class="p">],[[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">f3</span><span class="p">],[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">f4</span><span class="p">],[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">f5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">piecewise(y|--&gt;-y - 4 on [-4, -3], y|--&gt;1/2*y^2 + 3*y + 7/2 on (-3, -2), y|--&gt;-1/2*y^2 - y - 1/2 on [-2, 0], y|--&gt;1/3*y^3 - y - 1/2 on (0, 2), y|--&gt;3*y - 35/6 on [2, 3]; y)</span>
</pre></div>
</div>
<p>Ensure results are consistent with FTC:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="n">F</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">F</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">F</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2/3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">2/3</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="n">F</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="go">19/6</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">19/6</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">definite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">19/6</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">y</span><span class="o">+</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f3</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="n">infinity</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span> <span class="n">f1</span><span class="p">],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">f2</span><span class="p">],</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">infinity</span><span class="p">),</span> <span class="n">f3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">()</span>
<span class="go">piecewise(y|--&gt;1/3*y^3 + 3*y^2 + 9*y + 9 on (-oo, -3), y|--&gt;1/2*y^2 + 3*y + 9/2 on (-3, 0), y|--&gt;3*y + 9/2 on (0, +oo); y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="o">-</span><span class="n">infinity</span><span class="p">,</span> <span class="n">infinity</span><span class="p">),</span> <span class="n">f1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">definite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">()</span>
<span class="go">piecewise(x|--&gt;-1/2*((sgn(x) - 1)*e^(2*x) - 2*e^x*sgn(x) + sgn(x) + 1)*e^(-x) - 1 on (-oo, +oo); x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">integral</span><span class="p">()</span>
<span class="go">piecewise(x|--&gt;sin(x) on (0, 5); x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.items">
<code class="descname">items</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the pieces of the piecewise function</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should probably use <a class="reference internal" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.pieces" title="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.pieces"><code class="xref py py-meth docutils literal"><span class="pre">pieces()</span></code></a> instead, which
offers a nicer interface.</p>
</div>
<p>OUTPUT:</p>
<p>This method iterates over pieces of the piecewise
function, each represented by a pair. The first element is
the support, and the second the function over that
support.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))])</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">support</span><span class="p">,</span> <span class="n">function</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="go">....:     print(&#39;support is {0}, function is {1}&#39;.format(support, function))</span>
<span class="go">support is {0}, function is sin(x)</span>
<span class="go">support is (0, 2), function is cos(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.laplace">
<code class="descname">laplace</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>x='x'</em>, <em>s='t'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.laplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Laplace transform of self with respect to the variable
var.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">x</span></code> - variable of self</li>
<li><code class="docutils literal"><span class="pre">s</span></code> - variable of Laplace transform.</li>
</ul>
<p>We assume that a piecewise function is 0 outside of its domain and
that the left-most endpoint of the domain is 0.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, s, w&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">1</span><span class="p">],[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">laplace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">-e^(-s)/s + (s + 1)*e^(-2*s)/s^2 + 1/s - e^(-s)/s^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">laplace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="go">-e^(-w)/w + (w + 1)*e^(-2*w)/w^2 + 1/w - e^(-w)/w^2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y, t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">laplace</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="go">(t + 1)*e^(-2*t)/t^2 - e^(-t)/t^2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f1</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="n">t</span>
<span class="gp">sage: </span><span class="n">f2</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">f1</span><span class="p">],[(</span><span class="mi">1</span><span class="p">,</span><span class="n">infinity</span><span class="p">),</span><span class="n">f2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">laplace</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
<span class="go">(s + 1)*e^(-s)/s^2 + 2*e^(-s)/s - 1/s^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.pieces">
<code class="descname">pieces</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.pieces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8220;pieces&#8221;.</p>
<p>OUTPUT:</p>
<p>A tuple of piecewise functions, each having only a single
expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">)],</span> <span class="n">var</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">pieces</span><span class="p">()</span>
<span class="go">(piecewise(x|--&gt;-x on (-1, 0); x), </span>
<span class="go"> piecewise(x|--&gt;x on [0, 1]; x))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.piecewise_add">
<code class="descname">piecewise_add</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.piecewise_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new piecewise function with domain the union
of the original domains and functions summed. Undefined
intervals in the union domain get function value <span class="math">\(0\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span> <span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">x</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">x</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">piecewise_add</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">unextend_zero</span><span class="p">()</span>
<span class="go">piecewise(x|--&gt;1 on (0, 1/2], x|--&gt;x + 1 on (1/2, 1], x|--&gt;x on (1, 2) + (2, 3); x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.restriction">
<code class="descname">restriction</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>restricted_domain</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.restriction" title="Permalink to this definition">¶</a></dt>
<dd><p>Restrict the domain</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">restricted_domain</span></code> &#8211; a
<a class="reference external" href="../../../sets/sage/sets/real_set.html#sage.sets.real_set.RealSet" title="(in Sage Reference Manual: Sets v8.0)"><code class="xref py py-class docutils literal"><span class="pre">RealSet</span></code></a> or something that
defines one.</li>
</ul>
<p>OUTPUT:</p>
<p>A new piecewise function obtained by restricting the domain.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="o">-</span><span class="n">oo</span><span class="p">,</span> <span class="n">oo</span><span class="p">),</span> <span class="n">x</span><span class="p">)]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;x on (-oo, +oo); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">restriction</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="go">piecewise(x|--&gt;x on [-1, 1] + {3}; x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.trapezoid">
<code class="descname">trapezoid</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>N</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.trapezoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the piecewise line function defined by the trapezoid rule
for numerical integration based on a subdivision of each domain
interval into N subintervals.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="n">RealSet</span><span class="o">.</span><span class="n">open_closed</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">5</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trapezoid</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">piecewise(x|--&gt;1/2*x on (0, 1/2), x|--&gt;3/2*x - 1/2 on (1/2, 1), x|--&gt;7/2*x - 5/2 on (1, 3/2), x|--&gt;-7/2*x + 8 on (3/2, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trapezoid</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">definite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">5/4</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">]])</span> <span class="c1">## example 3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trapezoid</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">definite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.unextend_zero">
<code class="descname">unextend_zero</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.unextend_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove zero pieces.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">)]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;x on (-1, 1); x)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>  <span class="n">g</span>
<span class="go">piecewise(x|--&gt;x on (-1, 1), x|--&gt;0 on (-oo, -1] + [1, +oo); x)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">unextend_zero</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">h</span> <span class="o">==</span> <span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.which_function">
<code class="descname">which_function</code><span class="sig-paren">(</span><em>self</em>, <em>parameters</em>, <em>variable</em>, <em>point</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.EvaluationMethods.which_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the expression defining the piecewise function at
<code class="docutils literal"><span class="pre">value</span></code></p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">point</span></code> &#8211; a real number.</li>
</ul>
<p>OUTPUT:</p>
<p>The symbolic expression defining the function value at the
given <code class="docutils literal"><span class="pre">point</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expression_at</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">sin(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expression_at</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">cos(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expression_at</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">point is not in the domain</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="staticmethod">
<dt id="sage.functions.piecewise.PiecewiseFunction.in_operands">
<em class="property">static </em><code class="descclassname">PiecewiseFunction.</code><code class="descname">in_operands</code><span class="sig-paren">(</span><em>ex</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.in_operands" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether a symbolic expression contains a piecewise
function as operand</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ex</span></code> &#8211; a symbolic expression.</li>
</ul>
<p>OUTPUT:</p>
<p>Boolean</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))]);</span>  <span class="n">f</span>
<span class="go">piecewise(x|--&gt;sin(x) on {0}, x|--&gt;cos(x) on (0, 2); x)</span>
<span class="gp">sage: </span><span class="n">piecewise</span><span class="o">.</span><span class="n">in_operands</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">piecewise</span><span class="o">.</span><span class="n">in_operands</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">sin</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">piecewise</span><span class="o">.</span><span class="n">in_operands</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="n">f</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="sage.functions.piecewise.PiecewiseFunction.simplify">
<em class="property">static </em><code class="descclassname">PiecewiseFunction.</code><code class="descname">simplify</code><span class="sig-paren">(</span><em>ex</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.functions.piecewise.PiecewiseFunction.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine piecewise operands into single piecewise function</p>
<p>OUTPUT:</p>
<p>A piecewise function whose operands are not piecewiese if 
possible, that is, as long as the piecewise variable is the same.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">([([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))])</span>
<span class="gp">sage: </span><span class="n">piecewise</span><span class="o">.</span><span class="n">simplify</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="error.html"
                                  title="previous chapter">Error Functions</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="spike_function.html"
                                  title="next chapter">Spike Functions</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/functions/piecewise.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spike_function.html" title="Spike Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="error.html" title="Error Functions"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Functions</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>