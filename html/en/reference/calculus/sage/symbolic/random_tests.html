
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Randomized tests of GiNaC / PyNaC &#8212; Sage Reference Manual v8.8: Symbolic Calculus</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Pynac interface" href="../libs/pynac/pynac.html" />
    <link rel="prev" title="Benchmarks" href="benchmark.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../libs/pynac/pynac.html" title="Pynac interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="benchmark.html" title="Benchmarks"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Symbolic Calculus</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="randomized-tests-of-ginac-pynac">
<span id="sage-symbolic-random-tests"></span><h1>Randomized tests of GiNaC / PyNaC<a class="headerlink" href="#randomized-tests-of-ginac-pynac" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.symbolic.random_tests"></span><dl class="function">
<dt id="sage.symbolic.random_tests.assert_strict_weak_order">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">assert_strict_weak_order</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>cmp_func</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.assert_strict_weak_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that <code class="docutils literal notranslate"><span class="pre">cmp_func</span></code> is a strict weak order on the elements a,b,c.</p>
<p>A strict weak order is a binary relation <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> such that</p>
<ul class="simple">
<li>For all <span class="math notranslate nohighlight">\(x\)</span>, it is not the case that <span class="math notranslate nohighlight">\(x &lt; x\)</span> (irreflexivity).</li>
<li>For all <span class="math notranslate nohighlight">\(x\not=y\)</span>, if <span class="math notranslate nohighlight">\(x &lt; y\)</span> then it is not the case that <span class="math notranslate nohighlight">\(y &lt;
x\)</span> (asymmetry).</li>
<li>For all <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span>, and <span class="math notranslate nohighlight">\(z\)</span>, if <span class="math notranslate nohighlight">\(x &lt; y\)</span> and <span class="math notranslate nohighlight">\(y &lt; z\)</span> then <span class="math notranslate nohighlight">\(x &lt; z\)</span>
(transitivity).</li>
<li>For all <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span>, and <span class="math notranslate nohighlight">\(z\)</span>, if x is incomparable with <span class="math notranslate nohighlight">\(y\)</span>, and
<span class="math notranslate nohighlight">\(y\)</span> is incomparable with <span class="math notranslate nohighlight">\(z\)</span>, then <span class="math notranslate nohighlight">\(x\)</span> is incomparable with <span class="math notranslate nohighlight">\(z\)</span>
(transitivity of incomparability).</li>
</ul>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code> – anything that can be compared by <code class="docutils literal notranslate"><span class="pre">cmp_func</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">cmp_func</span></code> – function of two arguments that returns their
comparison (i.e. either <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>).</li>
</ul>
<p>OUTPUT:</p>
<p>Does not return anything. Raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if <code class="docutils literal notranslate"><span class="pre">cmp_func</span></code>
is not a strict weak order on the three given elements.</p>
<p>REFERENCES:</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Strict_weak_ordering">Wikipedia article Strict_weak_ordering</a></p>
<p>EXAMPLES:</p>
<p>The usual ordering of integers is a strict weak order:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="n">assert_strict_weak_order</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">assert_strict_weak_order</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">SR</span><span class="p">(</span><span class="n">oo</span><span class="p">),</span> <span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">SR</span><span class="p">(</span><span class="n">oo</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">cmp_M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
<span class="gp">....: </span>            <span class="n">cmp_M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">....: </span>        <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
<span class="gp">....: </span>            <span class="n">cmp_M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">cmp_M</span>
<span class="go">[ 0 -1 -1]</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 1  1  0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.random_tests.choose_from_prob_list">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">choose_from_prob_list</code><span class="sig-paren">(</span><em>lst</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.choose_from_prob_list" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">lst</span></code> - A list of tuples, where the first element of each tuple
is a nonnegative float (a probability), and the probabilities sum
to one.</li>
</ul>
<p>OUTPUT:</p>
<p>A tuple randomly selected from the list according to the given
probabilities.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.1</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="bp">True</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">choose_from_prob_list</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">(0.900000000000000, True)</span>
<span class="gp">sage: </span><span class="n">true_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="n">choose_from_prob_list</span><span class="p">(</span><span class="n">v</span><span class="p">)[</span><span class="mi">1</span><span class="p">]:</span>
<span class="gp">....: </span>        <span class="n">true_count</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">true_count</span>
<span class="go">9033</span>
<span class="gp">sage: </span><span class="n">true_count</span> <span class="o">-</span> <span class="p">(</span><span class="mi">10000</span> <span class="o">*</span> <span class="mi">9</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span>
<span class="go">33</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.random_tests.normalize_prob_list">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">normalize_prob_list</code><span class="sig-paren">(</span><em>pl</em>, <em>extra=()</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.normalize_prob_list" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">pl</span></code> - A list of tuples, where the first element of each tuple is
a floating-point number (representing a relative probability).  The
second element of each tuple may be a list or any other kind of object.</li>
<li><code class="docutils literal notranslate"><span class="pre">extra</span></code> - A tuple which is to be appended to every tuple in <code class="docutils literal notranslate"><span class="pre">pl</span></code>.</li>
</ul>
<p>This function takes such a list of tuples (a “probability list”) and
normalizes the probabilities so that they sum to one.  If any of the
values are lists, then those lists are first normalized; then
the probabilities in the list are multiplied by the main probability
and the sublist is merged with the main list.</p>
<p>For example, suppose we want to select between group A and group B with
50% probability each.  Then within group A, we select A1 or A2 with 50%
probability each (so the overall probability of selecting A1 is 25%);
and within group B, we select B1, B2, or B3 with probabilities in
a 1:2:2 ratio.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;B1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">top</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">50</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="s1">&#39;Group A&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s1">&#39;Group B&#39;</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">normalize_prob_list</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
<span class="go">[(0.250000000000000, &#39;A1&#39;, &#39;Group A&#39;), (0.250000000000000, &#39;A2&#39;, &#39;Group A&#39;), (0.1, &#39;B1&#39;, &#39;Group B&#39;), (0.2, &#39;B2&#39;, &#39;Group B&#39;), (0.2, &#39;B3&#39;, &#39;Group B&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.random_tests.random_expr">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">random_expr</code><span class="sig-paren">(</span><em>size, nvars=1, ncoeffs=None, var_frac=0.5, internal=[(0.6, [(0.3, &lt;built-in function add&gt;), (0.1, &lt;built-in function sub&gt;), (0.3, &lt;built-in function mul&gt;), (0.2, &lt;built-in function truediv&gt;), (0.1, &lt;built-in function pow&gt;)], 2), (0.2, [(0.8, &lt;built-in function neg&gt;), (0.2, &lt;built-in function inv&gt;)], 1), (0.2, [(1.0, Ei, 1), (1.0, Order, 1), (1.0, abs, 1), (1.0, airy_ai, 1), (1.0, airy_ai_prime, 1), (1.0, airy_bi, 1), (1.0, airy_bi_prime, 1), (1.0, arccos, 1), (1.0, arccosh, 1), (1.0, arccot, 1), (1.0, arccoth, 1), (1.0, arccsc, 1), (1.0, arccsch, 1), (1.0, arcsec, 1), (1.0, arcsech, 1), (1.0, arcsin, 1), (1.0, arcsinh, 1), (1.0, arctan, 1), (1.0, arctan2, 2), (1.0, arctanh, 1), (1.0, arg, 1), (1.0, bessel_I, 2), (1.0, bessel_J, 2), (1.0, bessel_K, 2), (1.0, bessel_Y, 2), (1.0, beta, 2), (1.0, binomial, 2), (1.0, ceil, 1), (1.0, chebyshev_T, 2), (1.0, chebyshev_U, 2), (1.0, complex_root_of, 2), (1.0, conjugate, 1), (1.0, cos, 1), (1.0, cos_integral, 1), (1.0, cosh, 1), (1.0, cosh_integral, 1), (1.0, cot, 1), (1.0, coth, 1), (1.0, csc, 1), (1.0, csch, 1), (1.0, dickman_rho, 1), (1.0, dilog, 1), (1.0, dirac_delta, 1), (1.0, elliptic_e, 2), (1.0, elliptic_ec, 1), (1.0, elliptic_eu, 2), (1.0, elliptic_f, 2), (1.0, elliptic_kc, 1), (1.0, elliptic_pi, 3), (1.0, erf, 1), (1.0, erfc, 1), (1.0, erfi, 1), (1.0, erfinv, 1), (1.0, exp, 1), (1.0, exp_integral_e, 2), (1.0, exp_integral_e1, 1), (1.0, exp_polar, 1), (1.0, factorial, 1), (1.0, floor, 1), (1.0, frac, 1), (1.0, fresnel_cos, 1), (1.0, fresnel_sin, 1), (1.0, gamma_inc_lower, 2), (1.0, gegenbauer, 3), (1.0, gen_laguerre, 3), (1.0, gen_legendre_P, 3), (1.0, gen_legendre_Q, 3), (1.0, hankel1, 2), (1.0, hankel2, 2), (1.0, harmonic_number, 1), (1.0, heaviside, 1), (1.0, hermite, 2), (1.0, hurwitz_zeta, 2), (1.0, hypergeometric_M, 3), (1.0, hypergeometric_U, 3), (1.0, imag_part, 1), (1.0, integrate, 4), (1.0, inverse_jacobi_cd, 2), (1.0, inverse_jacobi_cn, 2), (1.0, inverse_jacobi_cs, 2), (1.0, inverse_jacobi_dc, 2), (1.0, inverse_jacobi_dn, 2), (1.0, inverse_jacobi_ds, 2), (1.0, inverse_jacobi_nc, 2), (1.0, inverse_jacobi_nd, 2), (1.0, inverse_jacobi_ns, 2), (1.0, inverse_jacobi_sc, 2), (1.0, inverse_jacobi_sd, 2), (1.0, inverse_jacobi_sn, 2), (1.0, jacobi_P, 4), (1.0, jacobi_am, 2), (1.0, jacobi_cd, 2), (1.0, jacobi_cn, 2), (1.0, jacobi_cs, 2), (1.0, jacobi_dc, 2), (1.0, jacobi_dn, 2), (1.0, jacobi_ds, 2), (1.0, jacobi_nc, 2), (1.0, jacobi_nd, 2), (1.0, jacobi_ns, 2), (1.0, jacobi_sc, 2), (1.0, jacobi_sd, 2), (1.0, jacobi_sn, 2), (1.0, kronecker_delta, 2), (1.0, laguerre, 2), (1.0, lambert_w, 2), (1.0, legendre_P, 2), (1.0, legendre_Q, 2), (1.0, log, 2), (1.0, log_gamma, 1), (1.0, log_integral, 1), (1.0, log_integral_offset, 1), (1.0, polylog, 2), (1.0, prime_pi, 1), (1.0, product, 4), (1.0, real_part, 1), (1.0, sec, 1), (1.0, sech, 1), (1.0, sgn, 1), (1.0, sin, 1), (1.0, sin_integral, 1), (1.0, sinh, 1), (1.0, sinh_integral, 1), (1.0, spherical_bessel_J, 2), (1.0, spherical_bessel_Y, 2), (1.0, spherical_hankel1, 2), (1.0, spherical_hankel2, 2), (1.0, spherical_harmonic, 4), (1.0, stieltjes, 1), (1.0, struve_H, 2), (1.0, struve_L, 2), (1.0, sum, 4), (1.0, tan, 1), (1.0, tanh, 1), (1.0, unit_step, 1), (1.0, zeta, 1), (1.0, zetaderiv, 2)])], nullary=[(1.0, pi), (1.0, e), (0.05, golden_ratio), (0.05, log2), (0.05, euler_gamma), (0.05, catalan), (0.05, khinchin), (0.05, twinprime), (0.05, mertens)], nullary_frac=0.2, coeff_generator=&lt;bound method RationalField_with_category.random_element of Rational Field&gt;, verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.random_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a random symbolic expression of the given size.  By
default, the expression involves (at most) one variable, an arbitrary
number of coefficients, and all of the symbolic functions and constants
(from the probability lists full_internal and full_nullary).  It is
possible to adjust the ratio of leaves between symbolic constants,
variables, and coefficients (var_frac gives the fraction of variables,
and nullary_frac the fraction of symbolic constants; the remaining
leaves are coefficients).</p>
<p>The actual mix of symbolic constants and internal nodes can be modified
by specifying different probability lists.</p>
<p>To use a different type for coefficients, you can specify
coeff_generator, which should be a function that will return
a random coefficient every time it is called.</p>
<p>This function will often raise an error because it tries to create
an erroneous expression (such as a division by zero).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="n">some_functions</span> <span class="o">=</span> <span class="p">[</span><span class="n">arcsinh</span><span class="p">,</span> <span class="n">arctan</span><span class="p">,</span> <span class="n">arctan2</span><span class="p">,</span> <span class="n">arctanh</span><span class="p">,</span>
<span class="gp">....: </span><span class="n">arg</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">binomial</span><span class="p">,</span> <span class="n">ceil</span><span class="p">,</span> <span class="n">conjugate</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">cosh</span><span class="p">,</span> <span class="n">cot</span><span class="p">,</span> <span class="n">coth</span><span class="p">,</span>
<span class="gp">....: </span><span class="n">elliptic_pi</span><span class="p">,</span> <span class="n">erf</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">factorial</span><span class="p">,</span> <span class="n">floor</span><span class="p">,</span> <span class="n">heaviside</span><span class="p">,</span> <span class="n">imag_part</span><span class="p">,</span>
<span class="gp">....: </span><span class="n">sech</span><span class="p">,</span> <span class="n">sgn</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">sinh</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">tanh</span><span class="p">,</span> <span class="n">unit_step</span><span class="p">,</span> <span class="n">zeta</span><span class="p">,</span> <span class="n">zetaderiv</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">my_internal</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">full_binary</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">full_unary</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">....: </span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="p">[(</span><span class="mf">1.0</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">f</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">())</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">some_functions</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">random_expr</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">nvars</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">internal</span><span class="o">=</span><span class="n">my_internal</span><span class="p">,</span>
<span class="gp">....: </span>  <span class="n">coeff_generator</span><span class="o">=</span><span class="n">CDF</span><span class="o">.</span><span class="n">random_element</span><span class="p">)</span>
<span class="go">(v1^(0.9713408427702117 + 0.195868299334218*I)/cot(-pi + v1^2 + v3) + tan(arctan(v2 + arctan2(-0.35859061674557324 + 0.9407509502498164*I, v3) - 0.8419115504372718 + 0.30375717982404615*I) + arctan2((0.2275357305882964 - 0.8258002386106038*I)/factorial(v2), -v3 - 0.7604559947718565 - 0.5543672548552057*I) + ceil(1/arctan2(v1, v1))))/v2</span>
<span class="gp">sage: </span><span class="n">random_expr</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c1"># random</span>
<span class="go">About to apply &lt;built-in function inv&gt; to [31]</span>
<span class="go">About to apply sgn to [v1]</span>
<span class="go">About to apply &lt;built-in function add&gt; to [1/31, sgn(v1)]</span>
<span class="go">sgn(v1) + 1/31</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.random_tests.random_expr_helper">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">random_expr_helper</code><span class="sig-paren">(</span><em>n_nodes</em>, <em>internal</em>, <em>leaves</em>, <em>verbose</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.random_expr_helper" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a random symbolic expression of size <em>n_nodes</em> (or slightly
larger).  Internal nodes are selected from the <em>internal</em> probability
list; leaves are selected from <em>leaves</em>.  If <em>verbose</em> is True,
then a message is printed before creating an internal node.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="n">random_expr_helper</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="p">[(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>    <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span> <span class="p">[(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">x</span><span class="p">)],</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">About to apply &lt;built-in function add&gt; to [1, x]</span>
<span class="go">About to apply &lt;built-in function add&gt; to [x, x + 1]</span>
<span class="go">About to apply &lt;built-in function neg&gt; to [1]</span>
<span class="go">About to apply &lt;built-in function neg&gt; to [-1]</span>
<span class="go">About to apply &lt;built-in function neg&gt; to [1]</span>
<span class="go">About to apply &lt;built-in function add&gt; to [2*x + 1, -1]</span>
<span class="go">2*x</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.random_tests.random_integer_vector">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">random_integer_vector</code><span class="sig-paren">(</span><em>n</em>, <em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.random_integer_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Give a random list of length <em>length</em>, consisting of nonnegative
integers that sum to <em>n</em>.</p>
<p>This is an approximation to IntegerVectors(n, length).random_element().
That gives values uniformly at random, but might be slow; this
routine is not uniform, but should always be fast.</p>
<p>(This routine is uniform if <em>length</em> is 1 or 2; for longer vectors,
we prefer approximately balanced vectors, where all the values
are around <span class="math notranslate nohighlight">\(n/{length}\)</span>.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="n">random_integer_vector</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[11, 89]</span>
<span class="gp">sage: </span><span class="n">random_integer_vector</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[51, 49]</span>
<span class="gp">sage: </span><span class="n">random_integer_vector</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[4, 96]</span>
<span class="gp">sage: </span><span class="n">random_integer_vector</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="go">[332, 529, 185, 738, 82, 964, 596, 892, 732, 134,</span>
<span class="go"> 834, 765, 398, 608, 358, 300, 652, 249, 586, 66]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.random_tests.test_symbolic_expression_order">
<code class="descclassname">sage.symbolic.random_tests.</code><code class="descname">test_symbolic_expression_order</code><span class="sig-paren">(</span><em>repetitions=100</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.random_tests.test_symbolic_expression_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the comparison of random symbolic expressions
satisfies the strict weak order axioms.</p>
<p>This is important because the C++ extension class uses
<code class="docutils literal notranslate"><span class="pre">std::sort()</span></code> which requires a strict weak order. See also
<a class="reference external" href="https://trac.sagemath.org/9880">trac ticket #9880</a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.random_tests</span> <span class="kn">import</span> <span class="n">test_symbolic_expression_order</span>
<span class="gp">sage: </span><span class="n">test_symbolic_expression_order</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test_symbolic_expression_order</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>  <span class="c1"># long time</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="benchmark.html"
                        title="previous chapter">Benchmarks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../libs/pynac/pynac.html"
                        title="next chapter">Pynac interface</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/symbolic/random_tests.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../libs/pynac/pynac.html" title="Pynac interface"
             >next</a> |</li>
        <li class="right" >
          <a href="benchmark.html" title="Benchmarks"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Symbolic Calculus</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>