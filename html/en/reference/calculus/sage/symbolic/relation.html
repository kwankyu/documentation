
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Symbolic Equations and Inequalities &#8212; Sage Reference Manual v8.7: Symbolic Calculus</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Symbolic Computation" href="../calculus/calculus.html" />
    <link rel="prev" title="Assumptions" href="assumptions.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../calculus/calculus.html" title="Symbolic Computation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="assumptions.html" title="Assumptions"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Symbolic Calculus</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="symbolic-equations-and-inequalities">
<span id="sage-symbolic-relation"></span><h1>Symbolic Equations and Inequalities<a class="headerlink" href="#symbolic-equations-and-inequalities" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.symbolic.relation"></span><p>Sage can solve symbolic equations and inequalities. For
example, we derive the quadratic formula as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">qe</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">c</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">qe</span>
<span class="go">a*x^2 + b*x + c == 0</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">solve</span><span class="p">(</span><span class="n">qe</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
<span class="go">[</span>
<span class="go">x == -1/2*(b + sqrt(b^2 - 4*a*c))/a,</span>
<span class="go">x == -1/2*(b - sqrt(b^2 - 4*a*c))/a</span>
<span class="go">]</span>
</pre></div>
</div>
<div class="section" id="the-operator-left-hand-side-and-right-hand-side">
<h2>The operator, left hand side, and right hand side<a class="headerlink" href="#the-operator-left-hand-side-and-right-hand-side" title="Permalink to this headline">¶</a></h2>
<p>Operators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span> <span class="o">&gt;=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">pi</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;built-in function ge&gt;</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="o">-</span> <span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;built-in function lt&gt;</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span> <span class="o">==</span> <span class="n">x</span> <span class="o">-</span> <span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;built-in function eq&gt;</span>
</pre></div>
</div>
<p>Left hand side:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span> <span class="o">&gt;=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">pi</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">lhs</span><span class="p">()</span>
<span class="go">x^3 + 2/3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left</span><span class="p">()</span>
<span class="go">x^3 + 2/3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left_hand_side</span><span class="p">()</span>
<span class="go">x^3 + 2/3</span>
</pre></div>
</div>
<p>Right hand side:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
<span class="go">sqrt(3) + 5/2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">rhs</span><span class="p">()</span>
<span class="go">sqrt(3) + 5/2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">right_hand_side</span><span class="p">()</span>
<span class="go">sqrt(3) + 5/2</span>
</pre></div>
</div>
</div>
<div class="section" id="arithmetic">
<h2>Arithmetic<a class="headerlink" href="#arithmetic" title="Permalink to this headline">¶</a></h2>
<p>Add two symbolic equations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b&#39;</span><span class="p">)</span>
<span class="go">(a, b)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="mi">144</span> <span class="o">==</span> <span class="o">-</span><span class="mi">10</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">136</span> <span class="o">==</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">+</span> <span class="n">n</span>
<span class="go">280 == 2*b</span>
<span class="gp">sage: </span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="mi">144</span><span class="p">)</span> <span class="o">+</span> <span class="n">m</span>
<span class="go">0 == -10*a + b - 144</span>
</pre></div>
</div>
<p>Subtract two symbolic equations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b&#39;</span><span class="p">)</span>
<span class="go">(a, b)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="mi">144</span> <span class="o">==</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">136</span> <span class="o">==</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">-</span> <span class="n">n</span>
<span class="go">8 == 10*a</span>
<span class="gp">sage: </span><span class="nb">int</span><span class="p">(</span><span class="mi">144</span><span class="p">)</span> <span class="o">-</span> <span class="n">m</span>
<span class="go">0 == -20*a - b + 144</span>
</pre></div>
</div>
<p>Multiply two symbolic equations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">*</span> <span class="n">n</span>
<span class="go">x*sin(x) == (5*x + 1)*sin(2*pi + x)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">m</span>
<span class="go">-2*x == -3*x^2 + 5</span>
</pre></div>
</div>
<p>Divide two symbolic equations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">/</span><span class="n">n</span>
<span class="go">x/sin(x) == (5*x + 1)/sin(2*pi + x)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">/</span><span class="n">n</span>
<span class="go">x/sin(x) != (5*x + 1)/sin(2*pi + x)</span>
</pre></div>
</div>
</div>
<div class="section" id="substitution">
<h2>Substitution<a class="headerlink" href="#substitution" title="Permalink to this headline">¶</a></h2>
<p>Substitution into relations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eq</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">a</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="n">a</span><span class="p">));</span> <span class="n">eq</span>
<span class="go">x^3 + a == sin(x/a)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="go">125*x^3 + a == sin(5*x/a)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">x^3 + 1 == sin(x)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^3 + x == sin(1)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">x + 1 == sin(1/x)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">substitute</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="go">x + 1 == sin(1/x)</span>
</pre></div>
</div>
<p>You can even substitute multivariable and matrix
expressions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="p">],[</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">]]);</span> <span class="n">M</span>
<span class="go">[x + 1     y]</span>
<span class="go">[  x^2   y^3]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">substitute</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="go">[1 1]</span>
<span class="go">[0 1]</span>
</pre></div>
</div>
</div>
<div class="section" id="solving">
<h2>Solving<a class="headerlink" href="#solving" title="Permalink to this headline">¶</a></h2>
<p>We can solve equations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span>
<span class="go">[x == 1/2*I*sqrt(3) - 1/2, x == -1/2*I*sqrt(3) - 1/2, x == 1]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">x == 1/2*I*sqrt(3) - 1/2</span>
<span class="gp">sage: </span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
<span class="go">1/2*I*sqrt(3) - 1/2</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span>
<span class="go">[{x: 1/2*I*sqrt(3) - 1/2}, {x: -1/2*I*sqrt(3) - 1/2}, {x: 1}]</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">z</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">5 is not a valid variable.</span>
</pre></div>
</div>
<p>We can also solve equations involving matrices. The following
example defines a multivariable function <code class="docutils literal notranslate"><span class="pre">f(x,y)</span></code>, then solves
for where the partial derivatives with respect to <code class="docutils literal notranslate"><span class="pre">x</span></code>
and <code class="docutils literal notranslate"><span class="pre">y</span></code> are zero. Then it substitutes one of the solutions
into the Hessian matrix <code class="docutils literal notranslate"><span class="pre">H</span></code> for <code class="docutils literal notranslate"><span class="pre">f</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span>
<span class="gp">sage: </span><span class="n">solutions</span> <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">diff</span><span class="p">()),[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">],</span><span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solutions</span> <span class="o">==</span> <span class="p">[{</span><span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">I</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">I</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">}]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Hessian matrix</span>
<span class="gp">sage: </span><span class="n">H</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[(x, y) |--&gt; -1  (x, y) |--&gt; 0]</span>
<span class="go">[ (x, y) |--&gt; 0  (x, y) |--&gt; 2]</span>
<span class="gp">sage: </span><span class="n">H</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[-1  0]</span>
<span class="go">[ 0  2]</span>
</pre></div>
</div>
<p>We illustrate finding multiplicities of solutions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == -I, x == I, x == 1]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">([x == -I, x == I, x == 1], [1, 1, 5])</span>
</pre></div>
</div>
<p>We can also solve many inequalities:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">8</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[[x &lt; 1], [x &gt;= (9/8)]]</span>
</pre></div>
</div>
<p>We can numerically find roots of equations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">-0.6328345202421523</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="go">19.634954084936208</span>
</pre></div>
</div>
<p>We illustrate some valid error conditions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Symbolic equation must be an equality.</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">==</span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">no zero in the interval, since constant expression is not 0.</span>
</pre></div>
</div>
<p>There must be at most one variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">root finding currently only implemented in 1 dimension.</span>
</pre></div>
</div>
</div>
<div class="section" id="assumptions">
<h2>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this headline">¶</a></h2>
<p>Forgetting assumptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span> <span class="c1">#Clear assumptions</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[x &gt; 0, y &lt; 2]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[x &gt; 0]</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<p>Conversion to Maxima:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eq</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="o">^</span><span class="n">i</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">_maxima_init_</span><span class="p">()</span>
<span class="go">&#39;(_SAGE_VAR_x)^(3/5) &gt;= ((%pi)^(2))+(exp(0+%i*1))&#39;</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">e1</span><span class="o">.</span><span class="n">_maxima_</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">e1</span><span class="o">.</span><span class="n">_maxima_</span><span class="p">(</span><span class="n">maxima</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">maxima</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">maxima</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">maxima</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Conversion to Maple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eq</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eq</span><span class="o">.</span><span class="n">_maple_init_</span><span class="p">()</span>
<span class="go">&#39;x = 2&#39;</span>
</pre></div>
</div>
<p>Comparison:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Variables appearing in the relation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z,w&#39;</span><span class="p">)</span>
<span class="go">(x, y, z, w)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span>  <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span>   <span class="n">f</span>
<span class="go">w + x + y == -z^3 + x^2 - y^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">(w, x, y, z)</span>
</pre></div>
</div>
<p>LaTeX output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">pi</span><span class="p">)</span>
<span class="go">x^{\frac{3}{5}} \geq \pi</span>
</pre></div>
</div>
<p>When working with the symbolic complex number <span class="math notranslate nohighlight">\(I\)</span>, notice that comparisons do not
automatically simplify even in trivial situations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">I</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span>
<span class="go">-1 == -1</span>
<span class="gp">sage: </span><span class="n">I</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">0</span>
<span class="go">-1 &lt; 0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">I</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="go">-4 &gt; 0</span>
</pre></div>
</div>
<p>Nevertheless, if you force the comparison, you get the right answer (<a class="reference external" href="https://trac.sagemath.org/7160">trac ticket #7160</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">I</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">I</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">((</span><span class="n">I</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="more-examples">
<h2>More Examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == -sqrt(-y^2 + 1), x == sqrt(-y^2 + 1)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">a</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">f</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == 1/4*(-a)^(1/5)*(sqrt(5) + I*sqrt(2*sqrt(5) + 10) - 1), x == -1/4*(-a)^(1/5)*(sqrt(5) - I*sqrt(-2*sqrt(5) + 10) + 1), x == -1/4*(-a)^(1/5)*(sqrt(5) + I*sqrt(-2*sqrt(5) + 10) + 1), x == 1/4*(-a)^(1/5)*(sqrt(5) - I*sqrt(2*sqrt(5) + 10) - 1), x == (-a)^(1/5)]</span>
</pre></div>
</div>
<p>You can also do arithmetic with inequalities, as illustrated
below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">==</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">x + 3 == y - 2</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span> <span class="o">-</span> <span class="mi">3</span><span class="p">;</span> <span class="n">g</span>
<span class="go">x == y - 5</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span>  <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span>
<span class="go">x^3 + sqrt(2) == x*y*sin(x)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x^3 == x*y*sin(x) - sqrt(2)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">+</span> <span class="n">f</span>
<span class="go">x^3 + x + sqrt(2) + 3 == x*y*sin(x) + y - 2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="o">+</span><span class="mi">10</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">-</span> <span class="n">g</span>
<span class="go">x + 1 &lt; -x + y - 12</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">+</span> <span class="n">g</span>
<span class="go">x + 5 &lt; x + y + 8</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-x - 3 &lt; -y + 2</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Bobby Moretti: initial version (based on a trick that Robert
Bradshaw suggested).</li>
<li>William Stein: second version</li>
<li>William Stein (2007-07-16): added arithmetic with symbolic equations</li>
</ul>
<dl class="function">
<dt id="sage.symbolic.relation.solve">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">solve</code><span class="sig-paren">(</span><em>f</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebraically solve an equation or system of equations (over the
complex numbers) for given variables. Inequalities and systems
of inequalities are also supported.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">f</span></code> - equation or system of equations (given by a
list or tuple)</li>
<li><code class="docutils literal notranslate"><span class="pre">*args</span></code> - variables to solve for.</li>
<li><code class="docutils literal notranslate"><span class="pre">solution_dict</span></code> - bool (default: False); if True or non-zero,
return a list of dictionaries containing the solutions. If there
are no solutions, return an empty list (rather than a list containing
an empty dictionary). Likewise, if there’s only a single solution,
return a list containing one dictionary with that solution.</li>
</ul>
<p>There are a few optional keywords if you are trying to solve a single
equation.  They may only be used in that context.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">multiplicities</span></code> - bool (default: False); if True,
return corresponding multiplicities.  This keyword is
incompatible with <code class="docutils literal notranslate"><span class="pre">to_poly_solve=True</span></code> and does not make
any sense when solving inequalities.</li>
<li><code class="docutils literal notranslate"><span class="pre">explicit_solutions</span></code> - bool (default: False); require that
all roots be explicit rather than implicit. Not used
when solving inequalities.</li>
<li><code class="docutils literal notranslate"><span class="pre">to_poly_solve</span></code> - bool (default: False) or string; use
Maxima’s <code class="docutils literal notranslate"><span class="pre">to_poly_solver</span></code> package to search for more possible
solutions, but possibly encounter approximate solutions.
This keyword is incompatible with <code class="docutils literal notranslate"><span class="pre">multiplicities=True</span></code>
and is not used when solving inequalities. Setting <code class="docutils literal notranslate"><span class="pre">to_poly_solve</span></code>
to ‘force’ (string) omits Maxima’s solve command (useful when
some solutions of trigonometric equations are lost).</li>
<li><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> - string (default: ‘maxima’); to use SymPy’s
solvers set this to ‘sympy’. Note that SymPy is always used
for diophantine equations.</li>
<li><code class="docutils literal notranslate"><span class="pre">domain</span></code> - string (default: ‘complex’); setting this to ‘real’
changes the way SymPy solves single equations; inequalities
are always solved in the real domain.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">==</span><span class="mi">6</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">==</span><span class="mi">4</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">[[x == 5, y == 1]]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">[[x == -1/2*I*sqrt(3) - 1/2, y == -sqrt(-1/2*I*sqrt(3) + 3/2)],</span>
<span class="go"> [x == -1/2*I*sqrt(3) - 1/2, y == sqrt(-1/2*I*sqrt(3) + 3/2)],</span>
<span class="go"> [x == 1/2*I*sqrt(3) - 1/2, y == -sqrt(1/2*I*sqrt(3) + 3/2)],</span>
<span class="go"> [x == 1/2*I*sqrt(3) - 1/2, y == sqrt(1/2*I*sqrt(3) + 3/2)],</span>
<span class="go"> [x == 0, y == -1],</span>
<span class="go"> [x == 0, y == 1]]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">10</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">[[x == -5/2*I*sqrt(5) + 5, y == 5/2*I*sqrt(5) + 5], [x == 5/2*I*sqrt(5) + 5, y == -5/2*I*sqrt(5) + 5]]</span>
<span class="gp">sage: </span><span class="n">solutions</span><span class="o">=</span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">solution</span> <span class="ow">in</span> <span class="n">solutions</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} , {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">solution</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="n">solution</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">-0.500 - 0.866*I , -1.27 + 0.341*I</span>
<span class="go">-0.500 - 0.866*I , 1.27 - 0.341*I</span>
<span class="go">-0.500 + 0.866*I , -1.27 - 0.341*I</span>
<span class="go">-0.500 + 0.866*I , 1.27 + 0.341*I</span>
<span class="go">0.000 , -1.00</span>
<span class="go">0.000 , 1.00</span>
</pre></div>
</div>
<p>Whenever possible, answers will be symbolic, but with systems of
equations, at times approximations will be given by Maxima, due to the
underlying algorithm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sols</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">==</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="n">x</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]);</span> <span class="n">sols</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">sols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">([x == 0, y == 0],</span>
<span class="go"> [x == (0.3090169943749475 + 0.9510565162951535*I),</span>
<span class="go">  y == (-0.8090169943749475 - 0.5877852522924731*I)])</span>
<span class="gp">sage: </span><span class="n">sols</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rhs</span><span class="p">()</span><span class="o">.</span><span class="n">pyobject</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Complex Double Field</span>

<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">y</span><span class="o">^</span><span class="mi">6</span><span class="o">==</span><span class="n">y</span><span class="p">],</span><span class="n">y</span><span class="p">)</span>
<span class="go">[y == 1/4*sqrt(5) + 1/4*I*sqrt(2*sqrt(5) + 10) - 1/4,</span>
<span class="go"> y == -1/4*sqrt(5) + 1/4*I*sqrt(-2*sqrt(5) + 10) - 1/4,</span>
<span class="go"> y == -1/4*sqrt(5) - 1/4*I*sqrt(-2*sqrt(5) + 10) - 1/4,</span>
<span class="go"> y == 1/4*sqrt(5) - 1/4*I*sqrt(2*sqrt(5) + 10) - 1/4,</span>
<span class="go"> y == 1,</span>
<span class="go"> y == 0]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span> <span class="p">[</span><span class="n">y</span><span class="o">^</span><span class="mi">6</span> <span class="o">==</span> <span class="n">y</span><span class="p">],</span> <span class="n">y</span><span class="p">)</span><span class="o">==</span><span class="n">solve</span><span class="p">(</span> <span class="n">y</span><span class="o">^</span><span class="mi">6</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here we demonstrate very basic use of the optional keywords:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == -1, x == 1]</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">multiplicities</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">([x == -1, x == 1], [2, 2])</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == sin(x)]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[abs(abs(x - 1) - 1) == 10]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x == -10, x == 12]</span>

<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.expression</span> <span class="kn">import</span> <span class="n">Expression</span>
<span class="gp">sage: </span><span class="n">Expression</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == -1, x == 1]</span>
</pre></div>
</div>
<p>We must solve with respect to actual variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="mi">8</span><span class="o">*</span><span class="n">z</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="n">z</span> <span class="o">+</span><span class="mi">7</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">5 is not a valid variable.</span>
</pre></div>
</div>
<p>If we ask for dictionaries containing the solutions, we get them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">x</span><span class="p">,</span><span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[{x: -1}, {x: 1}]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span><span class="n">x</span><span class="p">,</span><span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[{x: 2}]</span>
<span class="gp">sage: </span><span class="n">res</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">4</span><span class="p">],</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">soln</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;x: </span><span class="si">%s</span><span class="s2">, y: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">soln</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">soln</span><span class="p">[</span><span class="n">y</span><span class="p">]))</span>
<span class="go">x: 2, y: 4</span>
<span class="go">x: -2, y: 4</span>
</pre></div>
</div>
<p>If there is a parameter in the answer, that will show up as
a new variable.  In the following example, <code class="docutils literal notranslate"><span class="pre">r1</span></code> is an arbitrary
constant (because of the <code class="docutils literal notranslate"><span class="pre">r</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">6</span><span class="p">],</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">[[x == -r1 + 3, y == r1]]</span>

<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;b, c&#39;</span><span class="p">)</span>
<span class="go">(b, c)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">((</span><span class="n">b</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">])</span>
<span class="go">[[b == 1, c == r...], [b == r..., c == 1]]</span>
</pre></div>
</div>
<p>Especially with trigonometric functions, the dummy variable may
be implicitly an integer (hence the <code class="docutils literal notranslate"><span class="pre">z</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x == 1/4*pi + pi*z...]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">[[x == 1/4*pi + pi*z..., y == -1/4*pi - pi*z...]]</span>
</pre></div>
</div>
<p>Expressions which are not equations are assumed to be set equal
to zero, as with <span class="math notranslate nohighlight">\(x\)</span> in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span><span class="p">],</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">[[x == 0, y == 2]]</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> appears in the list of equations it is
ignored, and if <code class="docutils literal notranslate"><span class="pre">False</span></code> appears in the list then no
solutions are returned. E.g., note that the first
<code class="docutils literal notranslate"><span class="pre">3==3</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code>, not to a
symbolic equation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="mi">3</span><span class="o">==</span><span class="mi">3</span><span class="p">,</span> <span class="mf">1.00000000000000</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == 0]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="mf">1.00000000000000</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == 0]</span>
</pre></div>
</div>
<p>Here, the first equation evaluates to <code class="docutils literal notranslate"><span class="pre">False</span></code>, so
there are no solutions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="mi">1</span><span class="o">==</span><span class="mi">3</span><span class="p">,</span> <span class="mf">1.00000000000000</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Completely symbolic solutions are supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;s,j,b,m,g&#39;</span><span class="p">)</span>
<span class="go">(s, j, b, m, g)</span>
<span class="gp">sage: </span><span class="n">sys</span> <span class="o">=</span> <span class="p">[</span> <span class="n">m</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">j</span><span class="p">,</span> <span class="n">b</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">j</span><span class="o">-</span><span class="n">g</span><span class="o">*</span><span class="n">j</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
<span class="go">[[s == 1, j == 0], [s == g/b, j == (b - g)*m/(b*g)]]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sys</span><span class="p">,(</span><span class="n">s</span><span class="p">,</span><span class="n">j</span><span class="p">))</span>
<span class="go">[[s == 1, j == 0], [s == g/b, j == (b - g)*m/(b*g)]]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sys</span><span class="p">,[</span><span class="n">s</span><span class="p">,</span><span class="n">j</span><span class="p">])</span>
<span class="go">[[s == 1, j == 0], [s == g/b, j == (b - g)*m/(b*g)]]</span>

<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">z</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == z - sqrt(2), x == z + sqrt(2)]</span>
</pre></div>
</div>
<p>Inequalities can be also solved:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">&gt;</span><span class="mi">8</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[[x &lt; -2*sqrt(2)], [x &gt; 2*sqrt(2)]]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">);</span> <span class="p">(</span><span class="n">ln</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="n">ln</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[[log(x) - log(y) &gt; 0]]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">);</span> <span class="p">(</span><span class="n">ln</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span><span class="n">ln</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># random</span>
<span class="go">[[0 &lt; y, y &lt; x, 0 &lt; x]]</span>
<span class="go">[[y &lt; x, 0 &lt; y]]</span>
</pre></div>
</div>
<p>A simple example to show the use of the keyword
<code class="docutils literal notranslate"><span class="pre">multiplicities</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == -1, x == 1]</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">multiplicities</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">([x == -1, x == 1], [2, 2])</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">multiplicities</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">to_poly_solve does not return multiplicities</span>
</pre></div>
</div>
<p>Here is how the <code class="docutils literal notranslate"><span class="pre">explicit_solutions</span></code> keyword functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == sin(x)]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x == 0, x == sin(x)]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x == 0]</span>
</pre></div>
</div>
<p>The following examples show the use of the keyword <code class="docutils literal notranslate"><span class="pre">to_poly_solve</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[abs(abs(x - 1) - 1) == 10]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x == -10, x == 12]</span>

<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>
<span class="go">Q</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">Q</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">Q</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>
<span class="go">[Q == 1/sqrt(Q^2 + 2)]</span>
</pre></div>
</div>
<p>The following example is a regression in Maxima 5.39.0.
It used to be possible to get one more solution here,
namely <code class="docutils literal notranslate"><span class="pre">1/sqrt(sqrt(2)</span> <span class="pre">+</span> <span class="pre">1)</span></code>, see
<a class="reference external" href="https://sourceforge.net/p/maxima/bugs/3276/">https://sourceforge.net/p/maxima/bugs/3276/</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">Q</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">Q</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[Q == -sqrt(-sqrt(2) - 1)]</span>
</pre></div>
</div>
<p>An effort is made to only return solutions that satisfy
the current assumptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">4</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == -2, x == 2]</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">4</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == -2]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">([x == -2], [2])</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == -sqrt(2)]</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">2</span><span class="o">-</span><span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == -sqrt(-z + 2)]</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;rational&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>In some cases it may be worthwhile to directly use <code class="docutils literal notranslate"><span class="pre">to_poly_solve</span></code>
if one suspects some answers are being missed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == 1/2*pi]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x == 1/2*pi]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="s1">&#39;force&#39;</span><span class="p">)</span>
<span class="go">[x == 1/2*pi + pi*z...]</span>
</pre></div>
</div>
<p>The same may also apply if a returned unsolved expression has a
denominator, but the original one did not:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[sin(x) == 1/2/cos(x)]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x == 1/4*pi + pi*z...]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="s1">&#39;force&#39;</span><span class="p">)</span>
<span class="go">[x == 1/4*pi + pi*z...]</span>
</pre></div>
</div>
<p>We use <code class="docutils literal notranslate"><span class="pre">use_grobner</span></code> in Maxima if no solution is obtained from
Maxima’s <code class="docutils literal notranslate"><span class="pre">to_poly_solve</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">);</span> <span class="n">c1</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">16</span><span class="p">;</span> <span class="n">c2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">9</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">([</span><span class="n">c1</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="n">c2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)],[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span>
<span class="go">[[x == -9/68*sqrt(55) + 135/68, y == -15/68*sqrt(55) + 123/68],</span>
<span class="go"> [x == 9/68*sqrt(55) + 135/68, y == 15/68*sqrt(55) + 123/68]]</span>
</pre></div>
</div>
<p>We use SymPy for Diophantine equations, see
<code class="docutils literal notranslate"><span class="pre">Expression.solve_diophantine</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">z</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[]</span>

<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
<p>The following shows some more of SymPy’s capabilities that cannot be
handled by Maxima:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
<span class="go">(2*lambert_w(1/2), 1)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">6</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">[x &lt; 1/3*(1/2)^(1/3)*(9*sqrt(77) + 79)^(1/3) + 2/3*(1/2)^(2/3)/(9*sqrt(77) + 79)^(1/3) + 2/3]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">7</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mi">3</span> <span class="o">-</span> <span class="n">x</span><span class="p">),</span><span class="n">x</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">[x == -8, x == 2]</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">9</span><span class="p">)</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">),</span><span class="n">x</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">[x == 0]</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">+</span> <span class="n">t</span><span class="p">,</span> <span class="o">-</span><span class="n">z</span> <span class="o">-</span> <span class="n">t</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">z</span><span class="p">])</span>
<span class="go">(-y, -t)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
<span class="go">(z, -(z + 1)*z)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">x</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
<span class="go">(-z + 1, -z^2 + z - 1)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">3</span><span class="p">),</span><span class="n">x</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">,</span><span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="go">[x == 1, x == 9]</span>
</pre></div>
</div>
<p>We cannot translate all results from SymPy but we can at least
print them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">sinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">x</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">ConditionSet(x, Eq((-exp(2*x) - 3)*exp(-x)/2, 0), Reals)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">[ImageSet(Lambda(_n, 2*_n*pi), Integers),</span>
<span class="go"> ImageSet(Lambda(_n, 2*_n*pi + pi), Integers),</span>
<span class="go"> ImageSet(Lambda(_n, 2*_n*pi + 5*pi/3), Integers),</span>
<span class="go"> ImageSet(Lambda(_n, 2*_n*pi + pi/3), Integers)]</span>

<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">7</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># known bug</span>
<span class="go">complex_root_of(x^5 + 3*x^3 + 7, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.relation.solve_ineq">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">solve_ineq</code><span class="sig-paren">(</span><em>ineq</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.solve_ineq" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves inequalities and systems of inequalities using Maxima.
Switches between rational inequalities
(sage.symbolic.relation.solve_ineq_rational)
and Fourier elimination (sage.symbolic.relation.solve_ineq_fouried).
See the documentation of these functions for more details.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ineq</span></code> - one inequality or a list of inequalities</p>
<p>Case1: If <code class="docutils literal notranslate"><span class="pre">ineq</span></code> is one equality, then it should be rational
expression in one varible. This input is passed to
sage.symbolic.relation.solve_ineq_univar function.</p>
<p>Case2: If <code class="docutils literal notranslate"><span class="pre">ineq</span></code> is a list involving one or more
inequalities, than the input is passed to
sage.symbolic.relation.solve_ineq_fourier function. This
function can be used for system of linear inequalities and
for some types of nonlinear inequalities. See
<a class="reference external" href="http://maxima.cvs.sourceforge.net/viewvc/maxima/maxima/share/contrib/fourier_elim/rtest_fourier_elim.mac">http://maxima.cvs.sourceforge.net/viewvc/maxima/maxima/share/contrib/fourier_elim/rtest_fourier_elim.mac</a>
for a big gallery of problems covered by this algorithm.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">vars</span></code> - optional parameter with list of variables. This list
is used only if Fourier elimination is used. If omitted or if
rational inequality is solved, then variables are determined
automatically.</p>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">list</span></code> – output is list of solutions as a list of simple inequalities
output [A,B,C] means (A or B or C) each A, B, C is again a list and
if A=[a,b], then A means (a and b).</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.relation</span> <span class="kn">import</span> <span class="n">solve_ineq</span>
</pre></div>
</div>
<p>Inequalities in one variable. The variable is detected automatically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve_ineq</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[[x &lt; -2], [x &gt; 2]]</span>

<span class="gp">sage: </span><span class="n">solve_ineq</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">8</span><span class="p">)</span>
<span class="go">[[x &lt; 1], [x &gt;= (9/8)]]</span>
</pre></div>
</div>
<p>System of inequalities with automatically detected inequalities:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve_ineq</span><span class="p">([</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">],[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">])</span>
<span class="go">[[x &lt; y, y &lt; -x + 3, x &lt; (3/2)]]</span>
<span class="gp">sage: </span><span class="n">solve_ineq</span><span class="p">([</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">],[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span>
<span class="go">[[x &lt; min(-y + 3, y)]]</span>
</pre></div>
</div>
<p>Note that although Sage will detect the variables automatically,
the order it puts them in may depend on the system, so the following
command is only guaranteed to give you one of the above answers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve_ineq</span><span class="p">([</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="mi">3</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># random</span>
<span class="go">[[x &lt; y, y &lt; -x + 3, x &lt; (3/2)]]</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Calls solve_ineq_fourier if inequalities are list and
solve_ineq_univar of the inequality is symbolic expression. See
the description of these commands for more details related to the
set of inequalities which can be solved. The list is empty if
there is no solution.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (01-2010)</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.relation.solve_ineq_fourier">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">solve_ineq_fourier</code><span class="sig-paren">(</span><em>ineq</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.solve_ineq_fourier" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves system of inequalities using Maxima and Fourier elimination</p>
<p>Can be used for system of linear inequalities and for some types
of nonlinear inequalities. For examples, see the example section
below and <a class="reference external" href="http://maxima.cvs.sourceforge.net/viewvc/maxima/maxima/share/contrib/fourier_elim/rtest_fourier_elim.mac">http://maxima.cvs.sourceforge.net/viewvc/maxima/maxima/share/contrib/fourier_elim/rtest_fourier_elim.mac</a></p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ineq</span></code> - list with system of inequalities</li>
<li><code class="docutils literal notranslate"><span class="pre">vars</span></code> - optionally list with variables for Fourier elimination.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">list</span></code> - output is list of solutions as a list of simple inequalities
output [A,B,C] means (A or B or C) each A, B, C is again a list and
if A=[a,b], then A means (a and b). The list is empty if there is no
solution.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.relation</span> <span class="kn">import</span> <span class="n">solve_ineq_fourier</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve_ineq_fourier</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">,</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">],[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span>
<span class="go">[[y + 4 &lt; x, x &lt; -y + 9, y &lt; (5/2)]]</span>
<span class="gp">sage: </span><span class="n">solve_ineq_fourier</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">,</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">],[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">])</span>
<span class="go">[[y &lt; min(x - 4, -x + 9)]]</span>

<span class="gp">sage: </span><span class="n">solve_ineq_fourier</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">])</span>
<span class="go">[[x &lt; +Infinity]]</span>

<span class="gp">sage: </span><span class="n">solve_ineq_fourier</span><span class="p">([</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)],[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span>
<span class="go">[[y &lt; x, 0 &lt; y]]</span>
<span class="gp">sage: </span><span class="n">solve_ineq_fourier</span><span class="p">([</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)],[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">])</span>
<span class="go">[[0 &lt; y, y &lt; x, 0 &lt; x]]</span>
</pre></div>
</div>
<p>Note that different systems will find default variables in different
orders, so the following is not tested:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve_ineq_fourier</span><span class="p">([</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)])</span>  <span class="c1"># random (one of the following appears)</span>
<span class="go">[[0 &lt; y, y &lt; x, 0 &lt; x]]</span>
<span class="go">[[y &lt; x, 0 &lt; y]]</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Calls Maxima command fourier_elim</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (01-2010)</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.relation.solve_ineq_univar">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">solve_ineq_univar</code><span class="sig-paren">(</span><em>ineq</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.solve_ineq_univar" title="Permalink to this definition">¶</a></dt>
<dd><p>Function solves rational inequality in one variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ineq</span></code> - inequality in one variable</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">list</span></code> – output is list of solutions as a list of simple inequalities
output [A,B,C] means (A or B or C) each A, B, C is again a list and
if A=[a,b], then A means (a and b). The list is empty if there is no
solution.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.relation</span> <span class="kn">import</span> <span class="n">solve_ineq_univar</span>
<span class="gp">sage: </span><span class="n">solve_ineq_univar</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[[x &gt; -1, x &lt; 0], [x &gt; 1]]</span>

<span class="gp">sage: </span><span class="n">solve_ineq_univar</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[[x &lt; 0], [x &gt; 1]]</span>

<span class="gp">sage: </span><span class="n">solve_ineq_univar</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[[x &gt;= 0, x &lt;= 1]]</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Calls Maxima command solve_rat_ineq</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (01-2010)</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.relation.solve_mod">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">solve_mod</code><span class="sig-paren">(</span><em>eqns</em>, <em>modulus</em>, <em>solution_dict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.solve_mod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all solutions to an equation or list of equations modulo the
given integer modulus. Each equation must involve only polynomials
in 1 or many variables.</p>
<p>By default the solutions are returned as <span class="math notranslate nohighlight">\(n\)</span>-tuples, where <span class="math notranslate nohighlight">\(n\)</span>
is the number of variables appearing anywhere in the given
equations. The variables are in alphabetical order.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">eqns</span></code> - equation or list of equations</li>
<li><code class="docutils literal notranslate"><span class="pre">modulus</span></code> - an integer</li>
<li><code class="docutils literal notranslate"><span class="pre">solution_dict</span></code> - bool (default: False); if True or non-zero,
return a list of dictionaries containing the solutions. If there
are no solutions, return an empty list (rather than a list containing
an empty dictionary). Likewise, if there’s only a single solution,
return a list containing one dictionary with that solution.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">solve_mod</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">],</span> <span class="mi">14</span><span class="p">)</span>
<span class="go">[(4, 2), (4, 6), (4, 9), (4, 13)]</span>
<span class="gp">sage: </span><span class="n">solve_mod</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span>  <span class="o">==</span> <span class="mi">11</span><span class="p">],</span> <span class="mi">15</span><span class="p">)</span>
<span class="go">[(14,)]</span>
</pre></div>
</div>
<p>Fermat’s equation modulo 3 with exponent 5:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">solve_mod</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">5</span> <span class="o">==</span> <span class="n">z</span><span class="o">^</span><span class="mi">5</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[(0, 0, 0), (0, 1, 1), (0, 2, 2), (1, 0, 1), (1, 1, 2), (1, 2, 0), (2, 0, 2), (2, 1, 0), (2, 2, 1)]</span>
</pre></div>
</div>
<p>We can solve with respect to a bigger modulus if it consists only of small prime factors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">d</span><span class="p">]</span> <span class="o">=</span> <span class="n">solve_mod</span><span class="p">([</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">3</span><span class="o">*</span><span class="mi">5</span><span class="o">*</span><span class="mi">7</span><span class="o">*</span><span class="mi">11</span><span class="o">*</span><span class="mi">19</span><span class="o">*</span><span class="mi">23</span><span class="o">*</span><span class="mi">29</span><span class="p">,</span> <span class="n">solution_dict</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
<span class="go">12915279</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
<span class="go">8610183</span>
</pre></div>
</div>
<p>For cases where there are relatively few solutions and the prime
factors are small, this can be efficient even if the modulus itself
is large:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">solve_mod</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">41</span><span class="p">],</span> <span class="mi">10</span><span class="o">^</span><span class="mi">20</span><span class="p">))</span>
<span class="go">[(4538602480526452429,), (11445932736758703821,), (38554067263241296179,),</span>
<span class="go">(45461397519473547571,), (54538602480526452429,), (61445932736758703821,),</span>
<span class="go">(88554067263241296179,), (95461397519473547571,)]</span>
</pre></div>
</div>
<p>We solve a simple equation modulo 2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve_mod</span><span class="p">([</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[(0, 0), (1, 1)]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The current implementation splits the modulus into prime
powers, then naively enumerates all possible solutions
(starting modulo primes and then working up through prime
powers), and finally combines the solution using the Chinese
Remainder Theorem.  The interface is good, but the algorithm is
very inefficient if the modulus has some larger prime factors! Sage
<em>does</em> have the ability to do something much faster in certain
cases at least by using Groebner basis, linear algebra
techniques, etc. But for a lot of toy problems this function as
is might be useful. At least it establishes an interface.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.relation.string_to_list_of_solutions">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">string_to_list_of_solutions</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.string_to_list_of_solutions" title="Permalink to this definition">¶</a></dt>
<dd><p>Used internally by the symbolic solve command to convert the output
of Maxima’s solve command to a list of solutions in Sage’s symbolic
package.</p>
<p>EXAMPLES:</p>
<p>We derive the (monic) quadratic formula:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,a,b&#39;</span><span class="p">)</span>
<span class="go">(x, a, b)</span>
<span class="gp">sage: </span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[x == -1/2*a - 1/2*sqrt(a^2 - 4*b), x == -1/2*a + 1/2*sqrt(a^2 - 4*b)]</span>
</pre></div>
</div>
<p>Behind the scenes when the above is evaluated the function
<a class="reference internal" href="#sage.symbolic.relation.string_to_list_of_solutions" title="sage.symbolic.relation.string_to_list_of_solutions"><code class="xref py py-func docutils literal notranslate"><span class="pre">string_to_list_of_solutions()</span></code></a> is called with input the
string <span class="math notranslate nohighlight">\(s\)</span> below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;[x=-(sqrt(a^2-4*b)+a)/2,x=(sqrt(a^2-4*b)-a)/2]&#39;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">symbolic</span><span class="o">.</span><span class="n">relation</span><span class="o">.</span><span class="n">string_to_list_of_solutions</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go"> [x == -1/2*a - 1/2*sqrt(a^2 - 4*b), x == -1/2*a + 1/2*sqrt(a^2 - 4*b)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.relation.test_relation_maxima">
<code class="descclassname">sage.symbolic.relation.</code><code class="descname">test_relation_maxima</code><span class="sig-paren">(</span><em>relation</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.relation.test_relation_maxima" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this (in)equality is definitely true. Return False
if it is false or the algorithm for testing (in)equality is
inconclusive.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.relation</span> <span class="kn">import</span> <span class="n">test_relation_maxima</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pol</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">k</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="o">/</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">pol</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span> <span class="n">x</span> <span class="o">==</span> <span class="n">x</span> <span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">x</span> <span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Here are some examples involving assumptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;=</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;=</span><span class="n">z</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;=</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="n">z</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">z</span><span class="o">&lt;</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">z</span><span class="o">&gt;</span><span class="n">y</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">y</span><span class="o">==</span><span class="n">z</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="o">&lt;=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">!=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test_relation_maxima</span><span class="p">(</span><span class="n">x</span><span class="o">!=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Symbolic Equations and Inequalities</a><ul>
<li><a class="reference internal" href="#the-operator-left-hand-side-and-right-hand-side">The operator, left hand side, and right hand side</a></li>
<li><a class="reference internal" href="#arithmetic">Arithmetic</a></li>
<li><a class="reference internal" href="#substitution">Substitution</a></li>
<li><a class="reference internal" href="#solving">Solving</a></li>
<li><a class="reference internal" href="#assumptions">Assumptions</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
<li><a class="reference internal" href="#more-examples">More Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="assumptions.html"
                        title="previous chapter">Assumptions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../calculus/calculus.html"
                        title="next chapter">Symbolic Computation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/symbolic/relation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../calculus/calculus.html" title="Symbolic Computation"
             >next</a> |</li>
        <li class="right" >
          <a href="assumptions.html" title="Assumptions"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Symbolic Calculus</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>