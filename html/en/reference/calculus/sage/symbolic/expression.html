
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Symbolic Expressions &#8212; Sage Reference Manual v8.2: Symbolic Calculus</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Callable Symbolic Expressions" href="callable.html" />
    <link rel="prev" title="Symbolic Calculus" href="../../index.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="callable.html" title="Callable Symbolic Expressions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../index.html" title="Symbolic Calculus"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Symbolic Calculus</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="symbolic-expressions">
<span id="sage-symbolic-expression"></span><h1>Symbolic Expressions<a class="headerlink" href="#symbolic-expressions" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.symbolic.expression"></span><p>RELATIONAL EXPRESSIONS:</p>
<p>We create a relational expression:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">16 &lt;= 18</span>
</pre></div>
</div>
<p>Notice that squaring the relation squares both sides.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn</span><span class="o">^</span><span class="mi">2</span>
<span class="go">(x - 1)^4 &lt;= (x^2 - 2*x + 3)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 1 &lt;= x^2 - 2*x + 3</span>
</pre></div>
</div>
<p>This can transform a true relation into a false one:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span> <span class="n">eqn</span>
<span class="go">-5 &lt; -3</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">eqn</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">^</span><span class="mi">2</span>
<span class="go">25 &lt; 9</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">eqn</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>We can do arithmetic with relations:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="o">-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">+</span> <span class="mi">2</span>
<span class="go">x + 3 &lt;= x</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">-</span> <span class="mi">1</span>
<span class="go">x &lt;= x - 3</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-x - 1 &lt;= -x + 2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">e</span>
<span class="go">-2*x - 2 &lt;= -2*x + 4</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">*</span><span class="mi">5</span>
<span class="go">5*x + 5 &lt;= 5*x - 10</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">/</span><span class="mi">5</span>
<span class="go">1/5*x + 1/5 &lt;= 1/5*x - 2/5</span>
<span class="gp">sage: </span><span class="mi">5</span><span class="o">/</span><span class="n">e</span>
<span class="go">5/(x + 1) &lt;= 5/(x - 2)</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">/</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-1/2*x - 1/2 &lt;= -1/2*x + 1</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="n">e</span>
<span class="go">-2/(x + 1) &lt;= -2/(x - 2)</span>
</pre></div>
</div>
<p>We can even add together two relations, as long as the operators are
the same:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">17</span><span class="p">)</span>  <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">x^3 &lt;= 2*x - 27</span>
</pre></div>
</div>
<p>Here they are not:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">17</span><span class="p">)</span>  <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">10</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">incompatible relations</span>
</pre></div>
</div>
<p>ARBITRARY SAGE ELEMENTS:</p>
<p>You can work symbolically with any Sage data type.  This can lead to
nonsense if the data type is strange, e.g., an element of a finite
field (at present).</p>
<p>We mix Singular variables with symbolic variables:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c&#39;</span><span class="p">)</span>
<span class="go">(a, b, c)</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">u</span> <span class="o">+</span> <span class="n">v</span> <span class="o">+</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">a^2 + 2*a*b + b^2 + 2*a*c + 2*b*c + c^2 + 2*a*u + 2*b*u + 2*c*u + u^2 + 2*a*v + 2*b*v + 2*c*v + 2*u*v + v^2</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.symbolic.expression.Expression">
<em class="property">class </em><code class="descclassname">sage.symbolic.expression.</code><code class="descname">Expression</code><a class="headerlink" href="#sage.symbolic.expression.Expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.CommutativeRingElement" title="(in Sage Reference Manual: Parents and Elements v8.2)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.element.CommutativeRingElement</span></code></a></p>
<p>Nearly all expressions are created by calling new_Expression_from_*,
but we need to make sure this at least does not leave self._gobj
uninitialized and segfault.</p>
<dl class="method">
<dt id="sage.symbolic.expression.Expression.Order">
<code class="descname">Order</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.Order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the order of the expression, as in big oh notation.</p>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="n">n</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">Order</span><span class="p">();</span> <span class="n">t</span>
<span class="go">Order(n^3)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">Order(n^2)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="n">n</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Order(17*n^3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.WZ_certificate">
<code class="descname">WZ_certificate</code><span class="sig-paren">(</span><em>n</em>, <em>k</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.WZ_certificate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Wilf-Zeilberger certificate for this hypergeometric
summand in <code class="docutils literal"><span class="pre">n</span></code>, <code class="docutils literal"><span class="pre">k</span></code>.</p>
<p>To prove the identity <span class="math">\(\sum_k F(n,k)=\textrm{const}\)</span> it suffices
to show that <span class="math">\(F(n+1,k)-F(n,k)=G(n,k+1)-G(n,k),\)</span> with <span class="math">\(G=RF\)</span> and
<span class="math">\(R\)</span> the WZ certificate.</p>
<p>EXAMPLES:</p>
<p>To show that <span class="math">\(\sum_k \binom{n}{k} = 2^n\)</span> do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">=</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">F</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">WZ_certificate</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">);</span> <span class="n">c</span>
<span class="go">1/2*k/(k - n - 1)</span>
<span class="gp">sage: </span><span class="n">G</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="n">F</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">);</span> <span class="n">G</span>
<span class="go">(n, k) |--&gt; 1/2*k*binomial(n, k)/(2^n*(k - n - 1))</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">-</span> <span class="n">F</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">-</span> <span class="n">G</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">G</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.abs">
<code class="descname">abs</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute value of this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">abs(x + y)</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">abs(-5)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>hold=False</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sum of the current expression and the given arguments.</p>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2*x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">x + x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x + 2) + x + x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x + 2) + x + x + x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x + 2) + 2*x + x + x + x</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2*x</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.add_to_both_sides">
<code class="descname">add_to_both_sides</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.add_to_both_sides" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a relation obtained by adding <em>x</em> to both sides of
this relation.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">add_to_both_sides</span><span class="p">(</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x^2 + y^2 &lt;= -z^2 + 1</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">add_to_both_sides</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">x^2 + y^2 + z^2 + I &lt;= (I + 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arccos">
<code class="descname">arccos</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arccos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arc cosine of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arccos</span><span class="p">()</span>
<span class="go">arccos(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arccos</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arccos</span><span class="p">()</span>
<span class="go">1/3*pi</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span><span class="o">.</span><span class="n">arccos</span><span class="p">()</span>
<span class="go">1.15927948072741</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">arccos</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arccos(1)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arccos(1)</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arccosh">
<code class="descname">arccosh</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arccosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse hyperbolic cosine of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arccosh</span><span class="p">()</span>
<span class="go">arccosh(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">arccosh</span><span class="p">()</span>
<span class="go">1/2*I*pi</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arccosh</span><span class="p">()</span>
<span class="go">arccosh(1/2)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">arccosh</span><span class="p">()</span>  <span class="c1"># rel tol 1e-15</span>
<span class="go">1.0471975511965976*I</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;acosh(0.5)&#39;</span><span class="p">)</span>
<span class="go">1.04719755119659...*%i</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arccosh</span><span class="p">()</span>
<span class="go">I*pi</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arccosh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arccosh(-1)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arccosh</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arccosh(-1)</span>
<span class="gp">sage: </span><span class="n">arccosh</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">I*pi</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arccosh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">I*pi</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arcsin">
<code class="descname">arcsin</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arcsin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arcsin of x, i.e., the number y between -pi and pi
such that sin(y) == x.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arcsin</span><span class="p">()</span>
<span class="go">arcsin(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">()</span>
<span class="go">1/6*pi</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.999</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">()</span>
<span class="go">1.52607123962616</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">()</span>
<span class="go">arcsin(1/3)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">()</span>
<span class="go">-arcsin(1/3)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arcsin(0)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arcsin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arcsin(0)</span>
<span class="gp">sage: </span><span class="n">arcsin</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arcsinh">
<code class="descname">arcsinh</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arcsinh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse hyperbolic sine of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">()</span>
<span class="go">arcsinh(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">()</span>
<span class="go">arcsinh(1)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">()</span>
<span class="go">0.881373587019543</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;asinh(2.0)&#39;</span><span class="p">)</span>
<span class="go">1.4436354751788...</span>
</pre></div>
</div>
<p>Sage automatically applies certain identities:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">()</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">1/2*sqrt(13)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">()</span>
<span class="go">-arcsinh(2)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arcsinh(-2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arcsinh(-2)</span>
<span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-arcsinh(2)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-arcsinh(2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arctan">
<code class="descname">arctan</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arctan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arc tangent of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arctan</span><span class="p">()</span>
<span class="go">arctan(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arctan</span><span class="p">()</span>
<span class="go">1/4*pi</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctan</span><span class="p">()</span>
<span class="go">arctan(1/2)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">arctan</span><span class="p">()</span>
<span class="go">0.463647609000806</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">arctan</span><span class="p">(),</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arctan</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arctan(1)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arctan</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arctan(1)</span>
<span class="gp">sage: </span><span class="n">arctan</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1/4*pi</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">arctan</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1/4*pi</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arctan2">
<code class="descname">arctan2</code><span class="sig-paren">(</span><em>x</em>, <em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arctan2" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse of the 2-variable tan function on self and x.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">arctan2(x, y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/4*pi</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;atan2(1/2,1/2)&#39;</span><span class="p">)</span>
<span class="go">&#39;%pi/4&#39;</span>

<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mf">0.7</span><span class="p">)</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mf">0.6</span><span class="p">))</span>
<span class="go">-2.27942259892257</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arctan2(1/2, 1/2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arctan2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arctan2(1, 2)</span>
<span class="gp">sage: </span><span class="n">arctan2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">arctan(1/2)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1/4*pi</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arctanh">
<code class="descname">arctanh</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arctanh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse hyperbolic tangent of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">arctanh</span><span class="p">()</span>
<span class="go">arctanh(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">()</span>
<span class="go">1/2*log(3)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">()</span>
<span class="go">0.549306144334055</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">()</span><span class="o">.</span><span class="n">tanh</span><span class="p">()</span>
<span class="go">0.500000000000000</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;atanh(0.5)&#39;</span><span class="p">)</span>  <span class="c1"># abs tol 2e-16</span>
<span class="go">0.5493061443340548</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">()</span>
<span class="go">-1/2*log(3)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arctanh(-1/2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arctanh</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">arctanh(-1/2)</span>
<span class="gp">sage: </span><span class="n">arctanh</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-1/2*log(3)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">arctanh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-1/2*log(3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.args">
<code class="descname">args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.args" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">arguments</span><span class="p">()</span>
<span class="go">(x, y)</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">arguments</span><span class="p">()</span>
<span class="go">(x,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.arguments">
<code class="descname">arguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">arguments</span><span class="p">()</span>
<span class="go">(x, y)</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">arguments</span><span class="p">()</span>
<span class="go">(x,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.assume">
<code class="descname">assume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.assume" title="Permalink to this definition">¶</a></dt>
<dd><p>Assume that this equation holds. This is relevant for symbolic
integration, among other things.</p>
<p>EXAMPLES: We call the assume method to assume that <span class="math">\(x&gt;2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">assume</span><span class="p">()</span>
</pre></div>
</div>
<p>Bool returns True below if the inequality is <em>definitely</em> known to
be True.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This may or may not be True, so bool returns False:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>If you make inconsistent or meaningless assumptions,
Sage will let you know:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Assumption is inconsistent</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[x &lt; 0]</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.binomial">
<code class="descname">binomial</code><span class="sig-paren">(</span><em>k</em>, <em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.binomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return binomial coefficient “self choose k”.</p>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">1/6*(x - 1)*(x - 2)*x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">binomial(x, y)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">binomial(x, 3)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">binomial(5, 3)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">10</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">hold</span></code> parameter is also supported in functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">binomial(5, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.canonicalize_radical">
<code class="descname">canonicalize_radical</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.canonicalize_radical" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose a canonical branch of the given expression. The square
root, cube root, natural log, etc. functions are multi-valued. The
<code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> method will choose <em>one</em> of these values
based on a heuristic.</p>
<p>For example, <code class="docutils literal"><span class="pre">sqrt(x^2)</span></code> has two values: <code class="docutils literal"><span class="pre">x</span></code>, and
<code class="docutils literal"><span class="pre">-x</span></code>. The <code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> function will choose
<em>one</em> of them, consistently, based on the behavior of the
expression as <code class="docutils literal"><span class="pre">x</span></code> tends to positive infinity. The solution
chosen is the one which exhibits this same behavior. Since
<code class="docutils literal"><span class="pre">sqrt(x^2)</span></code> approaches positive infinity as <code class="docutils literal"><span class="pre">x</span></code> does, the
solution chosen is <code class="docutils literal"><span class="pre">x</span></code> (which also tends to positive
infinity).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>As shown in the examples below, a canonical form is not always
returned, i.e., two mathematically identical expressions might
be converted to different expressions.</p>
<p class="last">Assumptions are not taken into account during the
transformation. This may result in a branch choice
inconsistent with your assumptions.</p>
</div>
<p>ALGORITHM:</p>
<p>This uses the Maxima <code class="docutils literal"><span class="pre">radcan()</span></code> command. From the Maxima
documentation:</p>
<blockquote class="pull-quote">
<div><p>Simplifies an expression, which can contain logs,
exponentials, and radicals, by converting it into a form
which is canonical over a large class of expressions and a
given ordering of variables; that is, all functionally
equivalent forms are mapped into a unique form. For a
somewhat larger class of expressions, radcan produces a
regular form. Two equivalent expressions in this class do
not necessarily have the same appearance, but their
difference can be simplified by radcan to zero.</p>
<p>For some expressions radcan is quite time consuming. This
is the cost of exploring certain relationships among the
components of the expression for simplifications based on
factoring and partial fraction expansions of exponents.</p>
</div></blockquote>
<p>EXAMPLES:</p>
<p><code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> can perform some of the same
manipulations as <a class="reference internal" href="#sage.symbolic.expression.Expression.log_expand" title="sage.symbolic.expression.Expression.log_expand"><code class="xref py py-meth docutils literal"><span class="pre">log_expand()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">log(x) + log(y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">log(x) + log(y)</span>
</pre></div>
</div>
<p>And also handles some exponential functions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">e^(1/2*x) - 1</span>
</pre></div>
</div>
<p>It can also be used to change the base of a logarithm when the
arguments to <code class="docutils literal"><span class="pre">log()</span></code> are positive real numbers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">/</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="n">a</span><span class="o">/</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">log(x + 1)^(1/2*a)</span>
</pre></div>
</div>
<p>The simplest example of counter-intuitive behavior is what
happens when we take the square root of a square:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">x</span>
</pre></div>
</div>
<p>If you don’t want this kind of “simplification,” don’t use
<code class="docutils literal"><span class="pre">canonicalize_radical()</span></code>.</p>
<p>This behavior can also be triggered when the expression under
the radical is not given explicitly as a square:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">x - 1</span>
</pre></div>
</div>
<p>Another place where this can become confusing is with
logarithms of complex numbers. Suppose <code class="docutils literal"><span class="pre">x</span></code> is complex with
<code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">r*e^(I*t)</span></code> (<code class="docutils literal"><span class="pre">r</span></code> real). Then <code class="docutils literal"><span class="pre">log(x)</span></code> is
<code class="docutils literal"><span class="pre">log(r)</span> <span class="pre">+</span> <span class="pre">I*(t</span> <span class="pre">+</span> <span class="pre">2*k*pi)</span></code> for some integer <code class="docutils literal"><span class="pre">k</span></code>.</p>
<p>Calling <code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> will choose a branch,
eliminating the solutions for all choices of <code class="docutils literal"><span class="pre">k</span></code> but
one. Simplified by hand, the expression below is
<code class="docutils literal"><span class="pre">(1/2)*log(2)</span> <span class="pre">+</span> <span class="pre">I*pi*k</span></code> for integer <code class="docutils literal"><span class="pre">k</span></code>. However,
<code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> will take each log expression, and
choose one particular solution, dropping the other. When the
results are subtracted, we’re left with no imaginary part:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">1/2*log(2)</span>
</pre></div>
</div>
<p>Naturally the result is wrong for some choices of <code class="docutils literal"><span class="pre">x</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">I*pi + 1/2*log(2)</span>
</pre></div>
</div>
<p>The example below shows two expressions e1 and e2 which are
“simplified” to different expressions, while their difference
is “simplified” to zero; thus <code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> does
not return a canonical form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">e1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">e2</span> <span class="o">=</span> <span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">e1</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">1/(sqrt(5) + sqrt(2))</span>
<span class="gp">sage: </span><span class="n">e2</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">1/3*sqrt(5) - 1/3*sqrt(2)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">e1</span><span class="o">-</span><span class="n">e2</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
<p>The issue reported in <a class="reference external" href="https://trac.sagemath.org/3520">trac ticket #3520</a> is a case where
<code class="docutils literal"><span class="pre">canonicalize_radical()</span></code> causes a numerical integral to be
calculated incorrectly:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f1</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">25</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">sqrt</span><span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="p">(</span><span class="mi">25</span><span class="o">-</span><span class="n">x</span><span class="p">))</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">f2</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">numerical_integral</span><span class="p">(</span><span class="n">f1</span><span class="o">.</span><span class="n">real</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># abs tol 1e-10</span>
<span class="go">4.974852579915647</span>
<span class="gp">sage: </span><span class="n">numerical_integral</span><span class="p">(</span><span class="n">f2</span><span class="o">.</span><span class="n">real</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># abs tol 1e-10</span>
<span class="go">-4.974852579915647</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.coeff">
<code class="descname">coeff</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.coeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.coefficient" title="sage.symbolic.expression.Expression.coefficient"><code class="xref py py-meth docutils literal"><span class="pre">coefficient()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/17438">trac ticket #17438</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.coefficient">
<code class="descname">coefficient</code><span class="sig-paren">(</span><em>s</em>, <em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of <span class="math">\(s^n\)</span> in this symbolic expression.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> - expression</li>
<li><code class="docutils literal"><span class="pre">n</span></code> - expression, default 1</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression. The coefficient of <span class="math">\(s^n\)</span>.</p>
<p>Sometimes it may be necessary to expand or factor first, since this
is not done automatically.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + x/y + 2*sin(x*y)/x + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^3*sin(x*y) + (a + y + 1/y)*x + 2*sin(x*y)/x + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2*sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">a + y + 1/y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">x^3 + 2/x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">a*x + x*y + (x^3 + 2/x)*sin(x*y) + x/y + 100</span>

<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, x, y, z&#39;</span><span class="p">)</span>
<span class="go">(a, x, y, z)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="n">z</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="go">sqrt(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sqrt(2)*a</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="go">sin(y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">z^z</span>
</pre></div>
</div>
<p>Any coefficient can be queried:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pi</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.coefficients">
<code class="descname">coefficients</code><span class="sig-paren">(</span><em>x=None</em>, <em>sparse=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficients of this symbolic expression as a polynomial in x.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">x</span></code> – optional variable.</li>
</ul>
<p>OUTPUT:</p>
<p>Depending on the value of <code class="docutils literal"><span class="pre">sparse</span></code>,</p>
<ul class="simple">
<li>A list of pairs <code class="docutils literal"><span class="pre">(expr,</span> <span class="pre">n)</span></code>, where <code class="docutils literal"><span class="pre">expr</span></code> is a symbolic
expression and <code class="docutils literal"><span class="pre">n</span></code> is a power (<code class="docutils literal"><span class="pre">sparse=True</span></code>, default)</li>
<li>A list of expressions where the <code class="docutils literal"><span class="pre">n</span></code>-th element is the coefficient of
<code class="docutils literal"><span class="pre">x^n</span></code> when self is seen as polynomial in <code class="docutils literal"><span class="pre">x</span></code> (<code class="docutils literal"><span class="pre">sparse=False</span></code>).</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">[[1, 0], [3, 1], [2, 2]]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[1, 3, 2]</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">[[1, 1], [-1, 3], [5/7, 5]]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[0, 1, 0, -1, 0, 5/7]</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">p</span>
<span class="go">-2*sqrt(2)*a*x + 2*a^2 + x^2 + x + 1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[[x^2 + x + 1, 0], [-2*sqrt(2)*x, 1], [2, 2]]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[x^2 + x + 1, -2*sqrt(2)*x, 2]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[[2*a^2 + 1, 0], [-2*sqrt(2)*a + 1, 1], [1, 2]]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[2*a^2 + 1, -2*sqrt(2)*a + 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.coeffs">
<code class="descname">coeffs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.coeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.coefficients" title="sage.symbolic.expression.Expression.coefficients"><code class="xref py py-meth docutils literal"><span class="pre">coefficients()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/17438">trac ticket #17438</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect the coefficients of <code class="docutils literal"><span class="pre">s</span></code> into a group.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> – the symbol whose coefficients will be collected.</li>
</ul>
<p>OUTPUT:</p>
<p>A new expression, equivalent to the original one, with the
coefficients of <code class="docutils literal"><span class="pre">s</span></code> grouped.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The expression is not expanded or factored before the
grouping takes place. For best results, call <a class="reference internal" href="#sage.symbolic.expression.Expression.expand" title="sage.symbolic.expression.Expression.expand"><code class="xref py py-meth docutils literal"><span class="pre">expand()</span></code></a>
on the expression before <a class="reference internal" href="#sage.symbolic.expression.Expression.collect" title="sage.symbolic.expression.Expression.collect"><code class="xref py py-meth docutils literal"><span class="pre">collect()</span></code></a>.</p>
</div>
<p>EXAMPLES:</p>
<p>In the first term of <span class="math">\(f\)</span>, <span class="math">\(x\)</span> has a coefficient of <span class="math">\(4y\)</span>. In
the second term, <span class="math">\(x\)</span> has a coefficient of <span class="math">\(z\)</span>. Therefore, if
we collect those coefficients, <span class="math">\(x\)</span> will have a coefficient of
<span class="math">\(4y+z\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">z</span> <span class="o">+</span> <span class="mi">20</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">21</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^2*y^2*z^2 + x*(4*y + z) + 20*y^2 + 21*y*z + 4*z^2</span>
</pre></div>
</div>
<p>Here we do the same thing for <span class="math">\(y\)</span> and <span class="math">\(z\)</span>; however, note that
we do not factor the <span class="math">\(y^{2}\)</span> and <span class="math">\(z^{2}\)</span> terms before
collecting coefficients:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">(x^2*z^2 + 20)*y^2 + (4*x + 21*z)*y + x*z + 4*z^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">(x^2*y^2 + 4)*z^2 + 4*x*y + 20*y^2 + (x + 21*y)*z</span>
</pre></div>
</div>
<p>The terms are collected, whether the expression
is expanded or not:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^2 + x*(y - z) - y*z</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^2 + x*(y - z) - y*z</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.collect_common_factors">
<code class="descname">collect_common_factors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.collect_common_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does not perform a full factorization but only
looks for factors which are already explicitly present.</p>
<p>Polynomials can often be brought into a more compact form by
collecting common factors from the terms of sums. This is
accomplished by this function.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">collect_common_factors</span><span class="p">()</span>
<span class="go">1/(x + 1)</span>

<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c,x,y&#39;</span><span class="p">)</span>
<span class="go">(a, b, c, x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">a</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">collect_common_factors</span><span class="p">()</span>
<span class="go">a*(x + y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">a</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">collect_common_factors</span><span class="p">()</span>
<span class="go">(x^2 + 2*x*y + y^2)*a</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">b</span><span class="o">*</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">collect_common_factors</span><span class="p">()</span>
<span class="go">((x + y)*y + x)*(a + c)*a*b</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.combine">
<code class="descname">combine</code><span class="sig-paren">(</span><em>deep=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a simplified version of this symbolic expression
by combining all toplevel terms with the same denominator into
a single term.</p>
<p>Please use the keyword <code class="docutils literal"><span class="pre">deep=True</span></code> to apply the process
recursively.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, a, b, c&#39;</span><span class="p">)</span>
<span class="go">(x, y, a, b, c)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">b</span><span class="o">/</span><span class="n">a</span> <span class="o">+</span> <span class="n">c</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="n">f</span>
<span class="go">(x - 1)*x/(x^2 - 7) + y^2/(x^2 - 7) + b/a + c/a + 1/(x + 1)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">combine</span><span class="p">()</span>
<span class="go">((x - 1)*x + y^2)/(x^2 - 7) + (b + c)/a + 1/(x + 1)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">combine</span><span class="p">()</span>
<span class="go">(x + 2)/x + 1/x^2</span>
<span class="gp">sage: </span><span class="n">ex</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span> <span class="o">+</span> <span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">ex</span>
<span class="go">(x + 1)/x + 1/x + ((x + 1)/x - 1/x)/x^2</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">combine</span><span class="p">()</span>
<span class="go">(x + 2)/x + ((x + 1)/x - 1/x)/x^2</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x + 2)/x + 1/x^2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sin(1) + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complex conjugate of this symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">-2*I + 1</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">I</span><span class="p">;</span> <span class="n">a</span>
<span class="go">sqrt(2) + I*3^(1/3)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">sqrt(2) - I*3^(1/3)</span>

<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">-1.0*I</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">conjugate(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">RDF</span><span class="p">(</span><span class="mf">1.5</span><span class="p">))</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">1.5</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mf">1.5</span><span class="p">))</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">1.5</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">-I</span>
<span class="gp">sage: </span><span class="p">(</span> <span class="mi">1</span><span class="o">+</span><span class="n">I</span>  <span class="o">+</span> <span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">(3*I + 2)*conjugate(x) - I + 1</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">conjugate(I)</span>
</pre></div>
</div>
<p>This also works in functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">conjugate</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">-I</span>
<span class="gp">sage: </span><span class="n">conjugate</span><span class="p">(</span><span class="n">I</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">conjugate(I)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.content">
<code class="descname">content</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.content" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the content of this expression when considered as a
polynomial in <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>See also <a class="reference internal" href="#sage.symbolic.expression.Expression.unit" title="sage.symbolic.expression.Expression.unit"><code class="xref py py-meth docutils literal"><span class="pre">unit()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.primitive_part" title="sage.symbolic.expression.Expression.primitive_part"><code class="xref py py-meth docutils literal"><span class="pre">primitive_part()</span></code></a>, and
<a class="reference internal" href="#sage.symbolic.expression.Expression.unit_content_primitive" title="sage.symbolic.expression.Expression.unit_content_primitive"><code class="xref py py-meth docutils literal"><span class="pre">unit_content_primitive()</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> – a symbolic expression.</li>
</ul>
<p>OUTPUT:</p>
<p>The content part of a polynomial as a symbolic expression. It
is defined as the gcd of the coefficients.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The expression is considered to be a univariate polynomial
in <code class="docutils literal"><span class="pre">s</span></code>. The output is different from the <code class="docutils literal"><span class="pre">content()</span></code>
method provided by multivariate polynomial rings in Sage.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1/2</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">content</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.contradicts">
<code class="descname">contradicts</code><span class="sig-paren">(</span><em>soln</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.contradicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if this relation is violated by the given variable assignment(s).</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">contradicts</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">contradicts</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&lt;=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">contradicts</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">contradicts</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">30</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">contradicts</span><span class="p">({</span><span class="n">x</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.convert">
<code class="descname">convert</code><span class="sig-paren">(</span><em>target=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the convert function in the units package. For symbolic
variables that are not units, this function just returns the
variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> – the symbolic expression converting from</li>
<li><code class="docutils literal"><span class="pre">target</span></code> – (default None) the symbolic expression
converting to</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">foot</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
<span class="go">381/1250*meter</span>
<span class="gp">sage: </span><span class="n">units</span><span class="o">.</span><span class="n">mass</span><span class="o">.</span><span class="n">kilogram</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">mass</span><span class="o">.</span><span class="n">pound</span><span class="p">)</span>
<span class="go">100000000/45359237*pound</span>
</pre></div>
</div>
<p>We do not get anything new by converting an ordinary symbolic variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Raises ValueError if self and target are not convertible:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">units</span><span class="o">.</span><span class="n">mass</span><span class="o">.</span><span class="n">kilogram</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">foot</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Incompatible units</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">meter</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">foot</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Incompatible units</span>
</pre></div>
</div>
<p>Recognizes derived unit relationships to base units and other
derived units:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">foot</span><span class="o">/</span><span class="n">units</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">second</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">acceleration</span><span class="o">.</span><span class="n">galileo</span><span class="p">)</span>
<span class="go">762/25*galileo</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">mass</span><span class="o">.</span><span class="n">kilogram</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">meter</span><span class="o">/</span><span class="n">units</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">second</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">force</span><span class="o">.</span><span class="n">newton</span><span class="p">)</span>
<span class="go">newton</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">foot</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">acre</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">inch</span><span class="p">)</span>
<span class="go">1/3630*(acre*inch)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">charge</span><span class="o">.</span><span class="n">coulomb</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">ampere</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
<span class="go">(ampere*second)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">pressure</span><span class="o">.</span><span class="n">pascal</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">si_prefixes</span><span class="o">.</span><span class="n">kilo</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">pressure</span><span class="o">.</span><span class="n">pounds_per_square_inch</span><span class="p">)</span>
<span class="go">1290320000000/8896443230521*pounds_per_square_inch</span>
</pre></div>
</div>
<p>For decimal answers multiply by 1.0:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">pressure</span><span class="o">.</span><span class="n">pascal</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">si_prefixes</span><span class="o">.</span><span class="n">kilo</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">pressure</span><span class="o">.</span><span class="n">pounds_per_square_inch</span><span class="p">)</span><span class="o">*</span><span class="mf">1.0</span>
<span class="go">0.145037737730209*pounds_per_square_inch</span>
</pre></div>
</div>
<p>Converting temperatures works as well:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">68</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">temperature</span><span class="o">.</span><span class="n">fahrenheit</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">temperature</span><span class="o">.</span><span class="n">celsius</span><span class="p">)</span>
<span class="go">20*celsius</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
<span class="go">293.150000000000*kelvin</span>
</pre></div>
</div>
<p>Trying to multiply temperatures by another unit then converting
raises a ValueError:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">wrong</span> <span class="o">=</span> <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">temperature</span><span class="o">.</span><span class="n">celsius</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">foot</span>
<span class="gp">sage: </span><span class="n">wrong</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Cannot convert</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.cos">
<code class="descname">cos</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.cos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cosine of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">cos(x^2 + y^2)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">sage</span><span class="o">.</span><span class="n">symbolic</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">cos(1)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">150</span><span class="p">)(</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">0.54030230586813971740093660744297660373231042</span>
</pre></div>
</div>
<p>In order to get a numeric approximation use .n():</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">RR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">cos</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.540302305868140</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">cos</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.540302305868140</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">cos</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">cos(pi)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">cos(pi)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">pi</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.cosh">
<code class="descname">cosh</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.cosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return cosh of self.</p>
<p>We have <span class="math">\(\cosh(x) = (e^{x} + e^{-x})/2\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">cosh(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">cosh(1)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">1.54308063481524</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;cosh(1.0)&#39;</span><span class="p">)</span>
<span class="go">1.54308063481524...</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.00000000000000000000000000</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">1.5430806348152437784779056</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">1.543080634815244?</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">()</span>
<span class="go">sqrt(x^2 + 1)</span>
<span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">cosh(arcsinh(x))</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">cosh(arcsinh(x))</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">sqrt(x^2 + 1)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">cosh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">sqrt(x^2 + 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.csgn">
<code class="descname">csgn</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.csgn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sign of self, which is -1 if self &lt; 0, 0 if self ==
0, and 1 if self &gt; 0, or unevaluated when self is a nonconstant
symbolic expression.</p>
<p>If self is not real, return the complex half-plane (left or right)
in which the number lies.  If self is pure imaginary, return the sign
of the imaginary part of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">csgn(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">csgn</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">csgn(I)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.decl_assume">
<code class="descname">decl_assume</code><span class="sig-paren">(</span><em>decl</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.decl_assume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.decl_forget">
<code class="descname">decl_forget</code><span class="sig-paren">(</span><em>decl</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.decl_forget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.default_variable">
<code class="descname">default_variable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.default_variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default variable, which is by definition the first
variable in self, or <span class="math">\(x\)</span> is there are no variables in self.
The result is cached.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">default_variable</span><span class="p">()</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, theta, a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">theta</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">a</span><span class="o">^</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">default_variable</span><span class="p">()</span>
<span class="go">a</span>
</pre></div>
</div>
<p>Note that this is the first <em>variable</em>, not the first <em>argument</em>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">theta</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">default_variable</span><span class="p">()</span>
<span class="go">a</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">(a, theta)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">arguments</span><span class="p">()</span>
<span class="go">(theta, a, x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.degree">
<code class="descname">degree</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the exponent of the highest nonnegative power of s in self.</p>
<p>OUTPUT:</p>
<p>An integer <code class="docutils literal"><span class="pre">&gt;=</span> <span class="pre">0</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="o">^</span><span class="mi">10</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + 2*sin(x*y)/x + x/y^10 + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^-</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.denominator">
<code class="descname">denominator</code><span class="sig-paren">(</span><em>normalize=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.denominator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the denominator of this symbolic expression</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">normalize</span></code> – (default: <code class="docutils literal"><span class="pre">True</span></code>) a boolean.</li>
</ul>
<p>If <code class="docutils literal"><span class="pre">normalize</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, the expression is first normalized to
have it as a fraction before getting the denominator.</p>
<p>If <code class="docutils literal"><span class="pre">normalize</span></code> is <code class="docutils literal"><span class="pre">False</span></code>, the expression is kept and if it is not
a quotient, then this will just return 1.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.symbolic.expression.Expression.normalize" title="sage.symbolic.expression.Expression.normalize"><code class="xref py py-meth docutils literal"><span class="pre">normalize()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.numerator" title="sage.symbolic.expression.Expression.numerator"><code class="xref py py-meth docutils literal"><span class="pre">numerator()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.numerator_denominator" title="sage.symbolic.expression.Expression.numerator_denominator"><code class="xref py py-meth docutils literal"><span class="pre">numerator_denominator()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.combine" title="sage.symbolic.expression.Expression.combine"><code class="xref py py-meth docutils literal"><span class="pre">combine()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, z, theta&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span>
<span class="go">sqrt(x) + sqrt(y) + sqrt(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span>
<span class="go">x^10 - y^10 - sqrt(theta)</span>

<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">numerator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">(sqrt(x) + sqrt(y) + sqrt(z))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">denominator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">x^10 - y^10 - sqrt(theta)</span>

<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span> <span class="n">g</span>
<span class="go">x + y/(x + 2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">x + y/(x + 2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">denominator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.derivative">
<code class="descname">derivative</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the derivative of this expressions with respect to the
variables supplied in args.</p>
<p>Multiple variables and iteration counts may be supplied; see
documentation for the global
<a class="reference internal" href="../calculus/functional.html#sage.calculus.functional.derivative" title="sage.calculus.functional.derivative"><code class="xref py py-meth docutils literal"><span class="pre">derivative()</span></code></a> function for more
details.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This is implemented in the <code class="docutils literal"><span class="pre">_derivative</span></code> method (see the
source code).</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x y&quot;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">4*(x^2 + y)*x</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">12*x^2 + 4*y</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">2*x^2 + 2*y</span>
</pre></div>
</div>
<p>If the function depends on only one variable, you may omit the
variable. Giving just a number (for the order of the derivative)
also works:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">x |--&gt; 3*x^2 + cos(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x |--&gt; 6*x - sin(x)</span>
</pre></div>
</div>
<p>Some expressions can’t be cleanly differentiated by the
chain rule:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;w z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">conjugate(x^(z - 1))*conjugate(z)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">w</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">w^(z - 1)*z*D[0](conjugate)(w^z)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-1/(x^2 - 1)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-D[0](real_part)(arctanh(w))/(w^2 - 1)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-D[0](imag_part)(arctanh(w))/(w^2 - 1)</span>
<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1/2*(conjugate(log(x))/x + log(x)/x)/abs(log(x))</span>
<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1/2*(conjugate(log(z))/z + log(z)/conjugate(z))/abs(log(z))</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(tan(x*y)^2 + 1)*y*sin(y^2 + x) + cos(y^2 + x)*tan(x*y)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">(tan(x*y)^2 + 1)*x*sin(y^2 + x) + 2*y*cos(y^2 + x)*tan(x*y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">8*sin(x)^2/cos(x)^2 + 6*sin(x)^4/cos(x)^4 + 2</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">8*sin(x)^2/cos(x)^2 + 6*sin(x)^4/cos(x)^4 + 2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">-cos(x)*cos(y) + sin(x)*sin(y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span> <span class="n">g</span> <span class="c1"># this is a complex expression</span>
<span class="go">-1/2*((x^2 + 1)*x/(x^2 - 1)^2 - x/(x^2 - 1))/((x^2 + 1)/(x^2 - 1))^(3/4)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">-x/((x + 1)^2*(x - 1)^2*((x^2 + 1)/(x^2 - 1))^(3/4))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">y^sin(x)*cos(x)*log(y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g_3</span> <span class="o">=</span> <span class="n">derivative</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">g_3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">x*e^(-x) - 100*e^(-x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">-((x + 5)^6*x + 3*(x^2 - 1)*(x + 5)^5)/((x^2 - 1)*(x + 5)^6)^(3/2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the derivative of this expressions with respect to the
variables supplied in args.</p>
<p>Multiple variables and iteration counts may be supplied; see
documentation for the global
<a class="reference internal" href="../calculus/functional.html#sage.calculus.functional.derivative" title="sage.calculus.functional.derivative"><code class="xref py py-meth docutils literal"><span class="pre">derivative()</span></code></a> function for more
details.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This is implemented in the <code class="docutils literal"><span class="pre">_derivative</span></code> method (see the
source code).</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x y&quot;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">4*(x^2 + y)*x</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">12*x^2 + 4*y</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">2*x^2 + 2*y</span>
</pre></div>
</div>
<p>If the function depends on only one variable, you may omit the
variable. Giving just a number (for the order of the derivative)
also works:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">x |--&gt; 3*x^2 + cos(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x |--&gt; 6*x - sin(x)</span>
</pre></div>
</div>
<p>Some expressions can’t be cleanly differentiated by the
chain rule:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;w z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">conjugate(x^(z - 1))*conjugate(z)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">w</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">w^(z - 1)*z*D[0](conjugate)(w^z)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-1/(x^2 - 1)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-D[0](real_part)(arctanh(w))/(w^2 - 1)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-D[0](imag_part)(arctanh(w))/(w^2 - 1)</span>
<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1/2*(conjugate(log(x))/x + log(x)/x)/abs(log(x))</span>
<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1/2*(conjugate(log(z))/z + log(z)/conjugate(z))/abs(log(z))</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(tan(x*y)^2 + 1)*y*sin(y^2 + x) + cos(y^2 + x)*tan(x*y)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">(tan(x*y)^2 + 1)*x*sin(y^2 + x) + 2*y*cos(y^2 + x)*tan(x*y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">8*sin(x)^2/cos(x)^2 + 6*sin(x)^4/cos(x)^4 + 2</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">8*sin(x)^2/cos(x)^2 + 6*sin(x)^4/cos(x)^4 + 2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">-cos(x)*cos(y) + sin(x)*sin(y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span> <span class="n">g</span> <span class="c1"># this is a complex expression</span>
<span class="go">-1/2*((x^2 + 1)*x/(x^2 - 1)^2 - x/(x^2 - 1))/((x^2 + 1)/(x^2 - 1))^(3/4)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">-x/((x + 1)^2*(x - 1)^2*((x^2 + 1)/(x^2 - 1))^(3/4))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">y^sin(x)*cos(x)*log(y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g_3</span> <span class="o">=</span> <span class="n">derivative</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">g_3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">x*e^(-x) - 100*e^(-x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">-((x + 5)^6*x + 3*(x^2 - 1)*(x + 5)^5)/((x^2 - 1)*(x + 5)^6)^(3/2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.differentiate">
<code class="descname">differentiate</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.differentiate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the derivative of this expressions with respect to the
variables supplied in args.</p>
<p>Multiple variables and iteration counts may be supplied; see
documentation for the global
<a class="reference internal" href="../calculus/functional.html#sage.calculus.functional.derivative" title="sage.calculus.functional.derivative"><code class="xref py py-meth docutils literal"><span class="pre">derivative()</span></code></a> function for more
details.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This is implemented in the <code class="docutils literal"><span class="pre">_derivative</span></code> method (see the
source code).</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x y&quot;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">4*(x^2 + y)*x</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">12*x^2 + 4*y</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">2*x^2 + 2*y</span>
</pre></div>
</div>
<p>If the function depends on only one variable, you may omit the
variable. Giving just a number (for the order of the derivative)
also works:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">x |--&gt; 3*x^2 + cos(x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x |--&gt; 6*x - sin(x)</span>
</pre></div>
</div>
<p>Some expressions can’t be cleanly differentiated by the
chain rule:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;w z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">conjugate(x^(z - 1))*conjugate(z)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">w</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">w^(z - 1)*z*D[0](conjugate)(w^z)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-1/(x^2 - 1)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-D[0](real_part)(arctanh(w))/(w^2 - 1)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-D[0](imag_part)(arctanh(w))/(w^2 - 1)</span>
<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1/2*(conjugate(log(x))/x + log(x)/x)/abs(log(x))</span>
<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1/2*(conjugate(log(z))/z + log(z)/conjugate(z))/abs(log(z))</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(tan(x*y)^2 + 1)*y*sin(y^2 + x) + cos(y^2 + x)*tan(x*y)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">(tan(x*y)^2 + 1)*x*sin(y^2 + x) + 2*y*cos(y^2 + x)*tan(x*y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">8*sin(x)^2/cos(x)^2 + 6*sin(x)^4/cos(x)^4 + 2</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">8*sin(x)^2/cos(x)^2 + 6*sin(x)^4/cos(x)^4 + 2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">-cos(x)*cos(y) + sin(x)*sin(y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span> <span class="n">g</span> <span class="c1"># this is a complex expression</span>
<span class="go">-1/2*((x^2 + 1)*x/(x^2 - 1)^2 - x/(x^2 - 1))/((x^2 + 1)/(x^2 - 1))^(3/4)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">-x/((x + 1)^2*(x - 1)^2*((x^2 + 1)/(x^2 - 1))^(3/4))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">y^sin(x)*cos(x)*log(y)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g_3</span> <span class="o">=</span> <span class="n">derivative</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">g_3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">x*e^(-x) - 100*e^(-x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">derivative</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">-((x + 5)^6*x + 3*(x^2 - 1)*(x + 5)^5)/((x^2 - 1)*(x + 5)^6)^(3/2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.distribute">
<code class="descname">distribute</code><span class="sig-paren">(</span><em>recursive=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.distribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute some indexed operators over similar operators in
order to allow further groupings or simplifications.</p>
<p>Implemented cases (so far) :</p>
<ul class="simple">
<li>Symbolic sum of a sum ==&gt; sum of symbolic sums</li>
<li>Integral (definite or not) of a sum ==&gt; sum of integrals.</li>
<li>Symbolic product of a product ==&gt; product of symbolic products.</li>
</ul>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">recursive</span></code> – (default : True) the distribution proceeds
along the subtrees of the expression.</li>
</ul>
<p>AUTHORS:</p>
<ul class="simple">
<li>Emmanuel Charpentier, Ralf Stephan (05-2017)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.divide_both_sides">
<code class="descname">divide_both_sides</code><span class="sig-paren">(</span><em>x</em>, <em>checksign=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.divide_both_sides" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a relation obtained by dividing both sides of this
relation by <em>x</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <em>checksign</em> keyword argument is currently ignored and
is included for backward compatibility reasons only.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">theta</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;theta&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span>   <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">theta</span> <span class="o">&lt;</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">theta</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">divide_both_sides</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">checksign</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">(x^3 + theta)/theta &lt; sin(theta*x)/theta</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">divide_both_sides</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="go">(x^3 + theta)/theta &lt; sin(theta*x)/theta</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">/</span><span class="n">theta</span>
<span class="go">(x^3 + theta)/theta &lt; sin(theta*x)/theta</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.exp">
<code class="descname">exp</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return exponential function of self, i.e., e to the
power of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">e^x</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">e^(1/2)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">1.64872127070013</span>
<span class="gp">sage: </span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">1.6487212707001282</span>

<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">0.500000000000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">e^(I*pi)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">e^(I*pi)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.exp_simplify">
<code class="descname">exp_simplify</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.exp_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.canonicalize_radical" title="sage.symbolic.expression.Expression.canonicalize_radical"><code class="xref py py-meth docutils literal"><span class="pre">canonicalize_radical()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/11912">trac ticket #11912</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.expand">
<code class="descname">expand</code><span class="sig-paren">(</span><em>side=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand this symbolic expression. Products of sums and exponentiated
sums are multiplied out, numerators of rational expressions which
are sums are split into their respective terms, and multiplications
are distributed over addition at all levels.</p>
<p>EXAMPLES:</p>
<p>We expand the expression <span class="math">\((x-y)^5\)</span> using both
method and functional notation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">x^5 - 5*x^4*y + 10*x^3*y^2 - 10*x^2*y^3 + 5*x*y^4 - y^5</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^5 - 5*x^4*y + 10*x^3*y^2 - 10*x^2*y^3 + 5*x*y^4 - y^5</span>
</pre></div>
</div>
<p>We expand some other expressions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">x^3/(y - 1) - 3*x^2/(y - 1) + 3*x/(y - 1) - 1/(y - 1)</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x^2 + 2*x*sin(x^2 + 2*x*y + y^2) + sin(x^2 + 2*x*y + y^2)^2</span>
</pre></div>
</div>
<p>Observe that <a class="reference internal" href="#sage.symbolic.expression.Expression.expand" title="sage.symbolic.expression.Expression.expand"><code class="xref py py-meth docutils literal"><span class="pre">expand()</span></code></a> also expands function arguments:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fx</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span> <span class="n">fx</span>
<span class="go">f((x + 1)*x)</span>
<span class="gp">sage: </span><span class="n">fx</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">f(x^2 + x)</span>
</pre></div>
</div>
<p>We can expand individual sides of a relation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">13</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">256*x^2 - 416*x + 169 == 9/2*x^2 + 15*x + 25/2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="go">256*x^2 - 416*x + 169 == 1/2*(3*x + 5)^2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="go">(16*x - 13)^2 == 9/2*x^2 + 15*x + 25/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.expand_log">
<code class="descname">expand_log</code><span class="sig-paren">(</span><em>algorithm='products'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.expand_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify symbolic expression, which can contain logs.</p>
<p>Expands logarithms of powers, logarithms of products and
logarithms of quotients.  The option <code class="docutils literal"><span class="pre">algorithm</span></code> specifies
which expression types should be expanded.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">self</span></code> - expression to be simplified</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: ‘products’) optional, governs which
expression is expanded. Possible values are</p>
<ul class="simple">
<li>‘nothing’ (no expansion),</li>
<li>‘powers’ (log(a^r) is expanded),</li>
<li>‘products’ (like ‘powers’ and also log(a*b) are expanded),</li>
<li>‘all’ (all possible expansion).</li>
</ul>
<p>See also examples below.</p>
</li>
</ul>
<p>DETAILS: This uses the Maxima simplifier and sets
<code class="docutils literal"><span class="pre">logexpand</span></code> option for this simplifier. From the Maxima
documentation: “Logexpand:true causes log(a^b) to become
b*log(a). If it is set to all, log(a*b) will also simplify to
log(a)+log(b). If it is set to super, then log(a/b) will also
simplify to log(a)-log(b) for rational numbers a/b,
a#1. (log(1/b), for integer b, always simplifies.) If it is
set to false, all of these simplifications will be turned
off. “</p>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.log_expand" title="sage.symbolic.expression.Expression.log_expand"><code class="xref py py-meth docutils literal"><span class="pre">log_expand()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_log" title="sage.symbolic.expression.Expression.expand_log"><code class="xref py py-meth docutils literal"><span class="pre">expand_log()</span></code></a> are the same</p>
<p>EXAMPLES:</p>
<p>By default powers and products (and quotients) are expanded,
but not quotients of integers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">pi*log(x) + log(3/4)</span>
</pre></div>
</div>
<p>To expand also log(3/4) use <code class="docutils literal"><span class="pre">algorithm='all'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">pi*log(x) + log(3) - 2*log(2)</span>
</pre></div>
</div>
<p>To expand only the power use <code class="docutils literal"><span class="pre">algorithm='powers'</span></code>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;powers&#39;</span><span class="p">)</span>
<span class="go">6*log(x)</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal"><span class="pre">log((3*x)^6)</span></code> is not expanded with
<code class="docutils literal"><span class="pre">algorithm='powers'</span></code>, since it is converted into product
first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">((</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;powers&#39;</span><span class="p">)</span>
<span class="go">log(729*x^6)</span>
</pre></div>
</div>
<p>This shows that the option <code class="docutils literal"><span class="pre">algorithm</span></code> from the previous call
has no influence to future calls (we changed some default
Maxima flag, and have to ensure that this flag has been
restored):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">pi*log(x) + log(3/4)</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">pi*log(x) + log(3) - 2*log(2)</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">pi*log(x) + log(3/4)</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (11-2009)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.expand_rational">
<code class="descname">expand_rational</code><span class="sig-paren">(</span><em>side=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.expand_rational" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand this symbolic expression. Products of sums and exponentiated
sums are multiplied out, numerators of rational expressions which
are sums are split into their respective terms, and multiplications
are distributed over addition at all levels.</p>
<p>EXAMPLES:</p>
<p>We expand the expression <span class="math">\((x-y)^5\)</span> using both
method and functional notation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">x^5 - 5*x^4*y + 10*x^3*y^2 - 10*x^2*y^3 + 5*x*y^4 - y^5</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^5 - 5*x^4*y + 10*x^3*y^2 - 10*x^2*y^3 + 5*x*y^4 - y^5</span>
</pre></div>
</div>
<p>We expand some other expressions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">x^3/(y - 1) - 3*x^2/(y - 1) + 3*x/(y - 1) - 1/(y - 1)</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x^2 + 2*x*sin(x^2 + 2*x*y + y^2) + sin(x^2 + 2*x*y + y^2)^2</span>
</pre></div>
</div>
<p>Observe that <a class="reference internal" href="#sage.symbolic.expression.Expression.expand" title="sage.symbolic.expression.Expression.expand"><code class="xref py py-meth docutils literal"><span class="pre">expand()</span></code></a> also expands function arguments:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fx</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span> <span class="n">fx</span>
<span class="go">f((x + 1)*x)</span>
<span class="gp">sage: </span><span class="n">fx</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">f(x^2 + x)</span>
</pre></div>
</div>
<p>We can expand individual sides of a relation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">13</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">256*x^2 - 416*x + 169 == 9/2*x^2 + 15*x + 25/2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="go">256*x^2 - 416*x + 169 == 1/2*(3*x + 5)^2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="go">(16*x - 13)^2 == 9/2*x^2 + 15*x + 25/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.expand_sum">
<code class="descname">expand_sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.expand_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>For every symbolic sum in the given expression, try to expand it,
symbolically or numerically.</p>
<p>While symbolic sum expressions with constant limits are evaluated
immediately on the command line, unevaluated sums of this kind can
result from, e.g., substitution of limit variables.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - symbolic expression</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k,n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ex</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="n">n</span><span class="p">),</span><span class="n">k</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)(</span><span class="n">n</span><span class="o">=</span><span class="mi">8</span><span class="p">);</span> <span class="n">ex</span>
<span class="go">sum(abs(-k^2 + 8), k, 1, 8)</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">expand_sum</span><span class="p">()</span>
<span class="go">162</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="mi">2</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span> <span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-2*sum((-1)^n*sin(n*x)/n, n, 1, 2)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">expand_sum</span><span class="p">()</span>
<span class="go">-sin(2*x) + 2*sin(x)</span>
</pre></div>
</div>
<p>We can use this to do floating-point approximation as well:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k,n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="n">n</span><span class="p">)),</span><span class="n">k</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="go">sum(sqrt(abs(-k^2 + 8)), k, 1, 8)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">expand_sum</span><span class="p">()</span>
<span class="go">sqrt(41) + sqrt(17) + 2*sqrt(14) + 3*sqrt(7) + 2*sqrt(2) + 3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">expand_sum</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">31.7752256945384</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://trac.sagemath.org/9424">trac ticket #9424</a> for making the following no longer raise
an error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">31.7752256945384</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.expand_trig">
<code class="descname">expand_trig</code><span class="sig-paren">(</span><em>full=False</em>, <em>half_angles=False</em>, <em>plus=True</em>, <em>times=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.expand_trig" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand trigonometric and hyperbolic functions of sums of angles
and of multiple angles occurring in self. For best results, self
should already be expanded.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">full</span></code> - (default: False) To enhance user control
of simplification, this function expands only one level at a time
by default, expanding sums of angles or multiple angles. To obtain
full expansion into sines and cosines immediately, set the optional
parameter full to True.</li>
<li><code class="docutils literal"><span class="pre">half_angles</span></code> - (default: False) If True, causes
half-angles to be simplified away.</li>
<li><code class="docutils literal"><span class="pre">plus</span></code> - (default: True) Controls the sum rule;
expansion of sums (e.g. ‘sin(x + y)’) will take place only if plus
is True.</li>
<li><code class="docutils literal"><span class="pre">times</span></code> - (default: True) Controls the product
rule, expansion of products (e.g. sin(2*x)) will take place only
if times is True.</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">5*cos(x)^4*sin(x) - 10*cos(x)^2*sin(x)^3 + sin(x)^5</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">cos(2*x)*cos(y) - sin(2*x)*sin(y)</span>
</pre></div>
</div>
<p>We illustrate various options to this function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">))</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">sin((3*cos(cos(2*x))^2*sin(cos(2*x)) - sin(cos(2*x))^3)*x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sin((3*(cos(cos(x)^2)*cos(sin(x)^2) + sin(cos(x)^2)*sin(sin(x)^2))^2*(cos(sin(x)^2)*sin(cos(x)^2) - cos(cos(x)^2)*sin(sin(x)^2)) - (cos(sin(x)^2)*sin(cos(x)^2) - cos(cos(x)^2)*sin(sin(x)^2))^3)*x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(2*x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">2*cos(x)*sin(x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">plus</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(x + 2)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">plus</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">cos(x)*sin(2) + cos(2)*sin(x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">half_angles</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(1/2*x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">half_angles</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(-1)^floor(1/2*x/pi)*sqrt(-1/2*cos(x) + 1/2)</span>
</pre></div>
</div>
<p>If the expression contains terms which are factored, we expand first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, k1, k2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">((</span><span class="n">k1</span><span class="o">-</span><span class="n">k2</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">cos(k1*x)*cos(k2*x) + sin(k1*x)*sin(k2*x)</span>
</pre></div>
</div>
<p>ALIASES:</p>
<p><a class="reference internal" href="#sage.symbolic.expression.Expression.trig_expand" title="sage.symbolic.expression.Expression.trig_expand"><code class="xref py py-meth docutils literal"><span class="pre">trig_expand()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_trig" title="sage.symbolic.expression.Expression.expand_trig"><code class="xref py py-meth docutils literal"><span class="pre">expand_trig()</span></code></a> are the same</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.factor">
<code class="descname">factor</code><span class="sig-paren">(</span><em>dontfactor=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor the expression, containing any number of variables or functions, into
factors irreducible over the integers.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - a symbolic expression</li>
<li><code class="docutils literal"><span class="pre">dontfactor</span></code> - list (default: []), a list of
variables with respect to which factoring is not to occur.
Factoring also will not take place with respect to any variables
which are less important (using the variable ordering assumed for
CRE form) than those on the ‘dontfactor’ list.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">(x^2 + x*y + y^2)*(x - y)</span>
<span class="gp">sage: </span><span class="n">factor</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span>
<span class="go">(x + 2*y)*(z + 2)*(z - 2)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">factor</span><span class="p">(</span><span class="n">f</span><span class="o">/</span><span class="p">(</span><span class="mi">36</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)),</span> <span class="n">dontfactor</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">]);</span> <span class="n">F</span>
<span class="go">1/36*(x^2 + 2*x + 1)*(y - 1)/(y + 1)</span>
</pre></div>
</div>
<p>If you are factoring a polynomial with rational coefficients (and
dontfactor is empty) the factorization is done using Singular
instead of Maxima, so the following is very fast instead of
dreadfully slow:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">99</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">99</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">(x^60 + x^57*y^3 - x^51*y^9 - x^48*y^12 + x^42*y^18 + x^39*y^21 -</span>
<span class="go">x^33*y^27 - x^30*y^30 - x^27*y^33 + x^21*y^39 + x^18*y^42 -</span>
<span class="go">x^12*y^48 - x^9*y^51 + x^3*y^57 + y^60)*(x^20 + x^19*y -</span>
<span class="go">x^17*y^3 - x^16*y^4 + x^14*y^6 + x^13*y^7 - x^11*y^9 -</span>
<span class="go">x^10*y^10 - x^9*y^11 + x^7*y^13 + x^6*y^14 - x^4*y^16 -</span>
<span class="go">x^3*y^17 + x*y^19 + y^20)*(x^10 - x^9*y + x^8*y^2 - x^7*y^3 +</span>
<span class="go">x^6*y^4 - x^5*y^5 + x^4*y^6 - x^3*y^7 + x^2*y^8 - x*y^9 +</span>
<span class="go">y^10)*(x^6 - x^3*y^3 + y^6)*(x^2 - x*y + y^2)*(x + y)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.factor_list">
<code class="descname">factor_list</code><span class="sig-paren">(</span><em>dontfactor=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.factor_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the factors of self, as computed by the
factor command.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - a symbolic expression</li>
<li><code class="docutils literal"><span class="pre">dontfactor</span></code> - see docs for <a class="reference internal" href="#sage.symbolic.expression.Expression.factor" title="sage.symbolic.expression.Expression.factor"><code class="xref py py-meth docutils literal"><span class="pre">factor()</span></code></a></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you already have a factored expression and just want to
get at the individual factors, use the <code class="docutils literal"><span class="pre">_factor_list</span></code> method
instead.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">(x^2 + x*y + y^2)*(x - y)</span>
</pre></div>
</div>
<p>Notice that the -1 factor is separated out:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">factor_list</span><span class="p">()</span>
<span class="go">[(x^2 + x*y + y^2, 1), (x - y, 1)]</span>
</pre></div>
</div>
<p>We factor a fairly straightforward expression:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">factor</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">factor_list</span><span class="p">()</span>
<span class="go">[(x + 2*y, 1), (z + 2, 1), (z - 2, 1)]</span>
</pre></div>
</div>
<p>A more complicated example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, u, v&#39;</span><span class="p">)</span>
<span class="go">(x, u, v)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">expand</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">*</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">u</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="n">u</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">-(4*u^3 - 2*u*v^2 + v^2)^2*u^3*(x - sin(x))^3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">factor_list</span><span class="p">();</span> <span class="n">g</span>
<span class="go">[(4*u^3 - 2*u*v^2 + v^2, 2), (u, 3), (x - sin(x), 3), (-1, 1)]</span>
</pre></div>
</div>
<p>This function also works for quotients:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">/</span><span class="p">(</span><span class="mi">36</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">));</span> <span class="n">g</span>
<span class="go">1/36*(x^2*y^2 + 2*x*y^2 - x^2 + y^2 - 2*x - 1)/(y^2 + 2*y + 1)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">factor</span><span class="p">(</span><span class="n">dontfactor</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="go">1/36*(x^2 + 2*x + 1)*(y - 1)/(y + 1)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">factor_list</span><span class="p">(</span><span class="n">dontfactor</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="go">[(x^2 + 2*x + 1, 1), (y + 1, -1), (y - 1, 1), (1/36, 1)]</span>
</pre></div>
</div>
<p>This example also illustrates that the exponents do not have to be
integers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">);</span> <span class="n">f</span>
<span class="go">(x - 1)^(sqrt(2)*x)*x^(2*sin(x))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">factor_list</span><span class="p">()</span>
<span class="go">[(x - 1, sqrt(2)*x), (x, 2*sin(x))]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.factorial">
<code class="descname">factorial</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.factorial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the factorial of self.</p>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">factorial</span><span class="p">()</span>
<span class="go">120</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">factorial</span><span class="p">()</span>
<span class="go">factorial(x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">factorial</span><span class="p">()</span>
<span class="go">factorial(y^3 + x^2)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">factorial</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">factorial(5)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">factorial(5)</span>
<span class="gp">sage: </span><span class="n">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">120</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">factorial</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">120</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.factorial_simplify">
<code class="descname">factorial_simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.factorial_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify by combining expressions with factorials, and by
expanding binomials into factorials.</p>
<p>ALIAS: factorial_simplify and simplify_factorial are the same</p>
<p>EXAMPLES:</p>
<p>Some examples are relatively clear:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n,k&#39;</span><span class="p">)</span>
<span class="go">(n, k)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="n">f</span>
<span class="go">factorial(n + 1)/factorial(n)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">()</span>
<span class="go">n + 1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span> <span class="n">f</span>
<span class="go">(n + 1)*factorial(n)</span>
<span class="gp">sage: </span><span class="n">simplify</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">(n + 1)*factorial(n)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">()</span>
<span class="go">factorial(n + 1)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">);</span> <span class="n">f</span>
<span class="go">binomial(n, k)*factorial(k)*factorial(-k + n)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">()</span>
<span class="go">factorial(n)</span>
</pre></div>
</div>
<p>A more complicated example, which needs further processing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">1/2*factorial(x + 1)/factorial(x) + 1/2*factorial(x)/factorial(x - 2)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">();</span> <span class="n">g</span>
<span class="go">1/2*(x - 1)*x + 1/2*x + 1/2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">1/2*x^2 + 1/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all occurrences of the given pattern in this expression.</p>
<p>Note that once a subexpression matches the pattern, the search does
not extend to subexpressions of it.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z,a,b&#39;</span><span class="p">)</span>
<span class="go">(x, y, z, a, b)</span>
<span class="gp">sage: </span><span class="n">w0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">w0</span><span class="p">))</span>
<span class="go">[sin(y), sin(x)]</span>

<span class="gp">sage: </span><span class="p">((</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">w0</span><span class="p">))</span>
<span class="go">[sin(y), sin(x)]</span>

<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">w0</span><span class="p">)</span>
<span class="go">[x^2, x^3]</span>

<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">[]</span>

<span class="go"># subexpressions of a match are not listed</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="n">w1</span><span class="p">)</span>
<span class="go">[(x^y)^z]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.find_local_maximum">
<code class="descname">find_local_maximum</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>var=None</em>, <em>tol=1.48e-08</em>, <em>maxfun=500</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.find_local_maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>Numerically find a local maximum of the expression <code class="docutils literal"><span class="pre">self</span></code>
on the interval [a,b] (or [b,a]) along with the point at which the
maximum is attained.</p>
<p>See the documentation for
<a class="reference internal" href="#sage.symbolic.expression.Expression.find_local_minimum" title="sage.symbolic.expression.Expression.find_local_minimum"><code class="xref py py-func docutils literal"><span class="pre">find_local_minimum()</span></code></a> for more details.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_local_maximum</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(0.5610963381910451, 0.8603335890...)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_local_maximum</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">maxfun</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">(0.561090323458081..., 0.857926501456...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.find_local_minimum">
<code class="descname">find_local_minimum</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>var=None</em>, <em>tol=1.48e-08</em>, <em>maxfun=500</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.find_local_minimum" title="Permalink to this definition">¶</a></dt>
<dd><p>Numerically find a local minimum of the expression <code class="docutils literal"><span class="pre">self</span></code>
on the interval [a,b] (or [b,a]) and the point at which it attains
that minimum. Note that <code class="docutils literal"><span class="pre">self</span></code> must be a function of
(at most) one variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">var</span></code> - variable (default: first variable in
self)</li>
<li><code class="docutils literal"><span class="pre">a,b</span></code> - endpoints of interval on which to minimize
self.</li>
<li><code class="docutils literal"><span class="pre">tol</span></code> - the convergence tolerance</li>
<li><code class="docutils literal"><span class="pre">maxfun</span></code> - maximum function evaluations</li>
</ul>
<p>OUTPUT:</p>
<p>A tuple <code class="docutils literal"><span class="pre">(minval,</span> <span class="pre">x)</span></code>, where</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">minval</span></code> – float. The minimum value that self takes on in
the interval <code class="docutils literal"><span class="pre">[a,b]</span></code>.</li>
<li><code class="docutils literal"><span class="pre">x</span></code> – float. The point at which self takes on the minimum
value.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_local_minimum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">(-3.288371395590..., 3.4256184695...)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_local_minimum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="go">(-3.288371361890..., 3.4257507903...)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_local_minimum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-2</span><span class="p">,</span> <span class="n">maxfun</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">(-3.288370845983..., 3.4250840220...)</span>
<span class="gp">sage: </span><span class="n">show</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_local_minimum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="go">(-9.477294259479..., 9.5293344109...)</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Uses <a class="reference external" href="../../../numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum" title="(in Sage Reference Manual: Numerical Optimization v8.2)"><code class="xref py py-func docutils literal"><span class="pre">sage.numerical.optimize.find_local_minimum()</span></code></a>.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>William Stein (2007-12-07)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.find_root">
<code class="descname">find_root</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>var=None</em>, <em>xtol=1e-12</em>, <em>rtol=8.881784197001252e-16</em>, <em>maxiter=100</em>, <em>full_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.find_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Numerically find a root of self on the closed interval [a,b] (or
[b,a]) if possible, where self is a function in the one variable.
Note: this function only works in fixed (machine) precision, it is not
possible to get arbitrary precision approximations with it.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">a,</span> <span class="pre">b</span></code> - endpoints of the interval</li>
<li><code class="docutils literal"><span class="pre">var</span></code> - optional variable</li>
<li><code class="docutils literal"><span class="pre">xtol,</span> <span class="pre">rtol</span></code> - the routine converges when a root
is known to lie within xtol of the value return. Should be &gt;= 0. The
routine modifies this to take into account the relative precision
of doubles.</li>
<li><code class="docutils literal"><span class="pre">maxiter</span></code> - integer; if convergence is not
achieved in maxiter iterations, an error is raised. Must be &gt;= 0.</li>
<li><code class="docutils literal"><span class="pre">full_output</span></code> - bool (default: False), if True,
also return object that contains information about convergence.</li>
</ul>
<p>EXAMPLES:</p>
<p>Note that in this example both f(-2) and f(3) are positive,
yet we still find a root in that interval:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">sage: </span><span class="n">z</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">full_output</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">result</span><span class="o">.</span><span class="n">converged</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">result</span><span class="o">.</span><span class="n">flag</span>
<span class="go">&#39;converged&#39;</span>
<span class="gp">sage: </span><span class="n">result</span><span class="o">.</span><span class="n">function_calls</span>
<span class="go">11</span>
<span class="gp">sage: </span><span class="n">result</span><span class="o">.</span><span class="n">iterations</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">result</span><span class="o">.</span><span class="n">root</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>More examples:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">-0.588532743981862...</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">3.1415926535...</span>
</pre></div>
</div>
<p>An example with a square root:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span> <span class="n">f</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">-1.618033988749895</span>
</pre></div>
</div>
<p>Some examples that Ted Kosan came up with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="mf">0.004</span><span class="o">*</span><span class="p">(</span><span class="mi">9600</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">1200</span><span class="o">*</span><span class="n">t</span><span class="p">))</span> <span class="o">-</span> <span class="mi">2400</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">300</span><span class="o">*</span><span class="n">t</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">)</span>
<span class="go">0.001540327067911417...</span>
</pre></div>
</div>
<p>With this expression, we can see there is a
zero very close to the origin:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="o">.</span><span class="mo">004</span><span class="o">*</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">300</span><span class="o">*</span><span class="n">t</span><span class="p">))</span> <span class="o">-</span> <span class="mi">8</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">1200</span><span class="o">*</span><span class="n">t</span><span class="p">)))</span><span class="o">*</span><span class="p">(</span><span class="mi">720000</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">300</span><span class="o">*</span><span class="n">t</span><span class="p">))</span> <span class="o">-</span> <span class="mi">11520000</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">1200</span><span class="o">*</span><span class="n">t</span><span class="p">)))</span> <span class="o">+.</span><span class="mo">004</span><span class="o">*</span><span class="p">(</span><span class="mi">9600</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">1200</span><span class="o">*</span><span class="n">t</span><span class="p">))</span> <span class="o">-</span> <span class="mi">2400</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="mi">300</span><span class="o">*</span><span class="n">t</span><span class="p">)))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mo">002</span><span class="p">),</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=.</span><span class="mo">002</span><span class="p">)</span>
</pre></div>
</div>
<p>It is easy to approximate with <code class="docutils literal"><span class="pre">find_root</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.002</span><span class="p">)</span>
<span class="go">0.0004110514049349...</span>
</pre></div>
</div>
<p>Using solve takes more effort, and even then gives
only a solution with free (integer) variables:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">();</span> <span class="n">b</span>
<span class="go">-23040.0*(-2.0*e^(1800*t) + 25.0*e^(900*t) - 32.0)*e^(-2400*t)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">to_poly_solve</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[t == 1/450*I*pi*z... + 1/900*log(-3/4*sqrt(41) + 25/4),</span>
<span class="go"> t == 1/450*I*pi*z... + 1/900*log(3/4*sqrt(41) + 25/4)]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">900</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span> <span class="o">+</span> <span class="mi">25</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
<span class="go">0.000411051404934985</span>
</pre></div>
</div>
<p>We illustrate that root finding is only implemented in one
dimension:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">find_root</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">root finding currently only implemented in 1 dimension.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.forget">
<code class="descname">forget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.forget" title="Permalink to this definition">¶</a></dt>
<dd><p>Forget the given constraint.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[x &gt; 0, y &lt; 2]</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>
<span class="go">[x &gt; 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.fraction">
<code class="descname">fraction</code><span class="sig-paren">(</span><em>base_ring</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this expression as element of the algebraic fraction
field over the base ring given.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fr</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">fraction</span><span class="p">(</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">fr</span>
<span class="go">1/x</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">fr</span><span class="p">)</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(((</span><span class="n">pi</span><span class="o">+</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">fraction</span><span class="p">(</span><span class="n">SR</span><span class="p">)))</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Symbolic Ring</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(((</span><span class="n">pi</span><span class="o">+</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">fraction</span><span class="p">(</span><span class="n">SR</span><span class="p">))</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Symbolic Ring</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fr</span><span class="o">=</span><span class="p">((</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">7</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">fraction</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">));</span> <span class="n">fr</span>
<span class="go">(3*x^35 + 2*y^35)/(x*y)</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">fr</span><span class="p">)</span>
<span class="go">Fraction Field of Multivariate Polynomial Ring in x, y over Finite Field of size 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.free_variables">
<code class="descname">free_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.free_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sorted tuple of unbound variables that occur in this
expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">free_variables</span><span class="p">()</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">free_variables</span><span class="p">()</span>
<span class="go">(x,)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">free_variables</span><span class="p">()</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">free_variables</span><span class="p">()</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">limit</span><span class="p">(</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span> <span class="p">);</span> <span class="n">e</span>
<span class="go">limit(f(x, y), x, 0)</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">free_variables</span><span class="p">()</span>
<span class="go">(y,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.full_simplify">
<code class="descname">full_simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.full_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_factorial" title="sage.symbolic.expression.Expression.simplify_factorial"><code class="xref py py-meth docutils literal"><span class="pre">simplify_factorial()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rectform" title="sage.symbolic.expression.Expression.simplify_rectform"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rectform()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_trig" title="sage.symbolic.expression.Expression.simplify_trig"><code class="xref py py-meth docutils literal"><span class="pre">simplify_trig()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rational" title="sage.symbolic.expression.Expression.simplify_rational"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rational()</span></code></a>, and
then <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_sum" title="sage.symbolic.expression.Expression.expand_sum"><code class="xref py py-meth docutils literal"><span class="pre">expand_sum()</span></code></a> to self (in that order).</p>
<p>ALIAS: <code class="docutils literal"><span class="pre">simplify_full</span></code> and <code class="docutils literal"><span class="pre">full_simplify</span></code> are the same.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">sin(1/(x + 1))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n,k&#39;</span><span class="p">)</span>
<span class="go">(n, k)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">factorial(n)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.function">
<code class="descname">function</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a callable symbolic expression with the given variables.</p>
<p>EXAMPLES:</p>
<p>We will use several symbolic variables in the examples below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, z, t, a, w, n&#39;</span><span class="p">)</span>
<span class="go">(x, y, z, t, a, w, n)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">x*cos(y) + sin(x)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
<span class="go">t*cos(z) + sin(t)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="p">)</span>
<span class="go">x^2*cos(x^y) + sin(x^2)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">w</span><span class="p">))</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">w</span><span class="p">);</span> <span class="n">f</span>
<span class="go">(a, x, w) |--&gt; x^2 + sin(a*w)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">sin(3) + 4</span>
</pre></div>
</div>
<p>Using the <a class="reference internal" href="#sage.symbolic.expression.Expression.function" title="sage.symbolic.expression.Expression.function"><code class="xref py py-meth docutils literal"><span class="pre">function()</span></code></a> method we can obtain the above function
<span class="math">\(f\)</span>, but viewed as a function of different variables:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">a</span><span class="p">);</span> <span class="n">h</span>
<span class="go">(w, a) |--&gt; x^2 + sin(a*w)</span>
</pre></div>
</div>
<p>This notation also works:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">a</span><span class="p">)</span> <span class="o">=</span> <span class="n">f</span>
<span class="gp">sage: </span><span class="n">h</span>
<span class="go">(w, a) |--&gt; x^2 + sin(a*w)</span>
</pre></div>
</div>
<p>You can even make a symbolic expression <span class="math">\(f\)</span> into a function
by writing <code class="docutils literal"><span class="pre">f(x,y)</span> <span class="pre">=</span> <span class="pre">f</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="n">n</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="n">n</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^n + y^n</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">f</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">(x, y) |--&gt; x^n + y^n</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3^n + 2^n</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.gamma">
<code class="descname">gamma</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Gamma function evaluated at self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
<span class="go">gamma(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
<span class="go">362880</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">10.0</span><span class="n">r</span><span class="p">)</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>  <span class="c1"># For ARM: rel tol 2e-15</span>
<span class="go">362880.0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
<span class="go">0.49801566811835607 - 0.15494982830181067*I</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">gp</span><span class="p">(</span><span class="s1">&#39;gamma(1+I)&#39;</span><span class="p">)</span>
<span class="go">0.4980156681183560427136911175 - 0.1549498283018106851249551305*I # 32-bit</span>
<span class="go">0.49801566811835604271369111746219809195 - 0.15494982830181068512495513048388660520*I # 64-bit</span>
</pre></div>
</div>
<p>We plot the familiar plot of this log-convex function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ymin</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span><span class="n">ymax</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
<span class="go">sqrt(pi)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">gamma(1/2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">gamma(1/2)</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sqrt(pi)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">sqrt(pi)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.gamma_normalize">
<code class="descname">gamma_normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.gamma_normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the expression with any gamma functions that have
a common base converted to that base.</p>
<p>Additionally the expression is normalized so any fractions
can be simplified through cancellation.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;m n&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gamma_normalize</span><span class="p">()</span>
<span class="go">(n + 1)*n</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gamma_normalize</span><span class="p">()</span>
<span class="go">(n + 1)*n*gamma(n)^2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">gamma</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="n">gamma</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">gamma_normalize</span><span class="p">()</span>
<span class="go">(n + 1)*n/((m - 1)*m)</span>
</pre></div>
</div>
<p>Check that <a class="reference external" href="https://trac.sagemath.org/22826">trac ticket #22826</a> is fixed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">ex</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">gamma</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">gamma</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="n">gamma</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">gamma_normalize</span><span class="p">()</span>
<span class="go">(4*n^3 - 2*n^2 - 7*n + 7)*gamma(2*n + 3)/((n + 1)*gamma(n + 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.gcd">
<code class="descname">gcd</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.gcd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the symbolic gcd of self and b.</p>
<p>Note that the polynomial GCD is unique up to the multiplication
by an invertible constant. The following examples make sure all
results are caught.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">pi</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">pi</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">pi</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">100</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">100</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">10</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">10</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">gcd</span><span class="p">(</span><span class="n">expand</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">17</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="p">),</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">13</span><span class="o">+</span><span class="mi">17</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">QQ</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Embedded Sage objects of all kinds get basic support. Note that
full algebraic GCD is not implemented yet:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">I</span> <span class="o">-</span> <span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">x - 1</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">I</span> <span class="o">+</span> <span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">x + 1</span>
<span class="gp">sage: </span><span class="n">alg</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">I</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">alg</span> <span class="o">+</span> <span class="n">alg</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">x + 1</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">alg</span> <span class="o">-</span> <span class="n">alg</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">x - 1</span>
<span class="gp">sage: </span><span class="n">sqrt2</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">sqrt2</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>    <span class="c1"># known bug</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.gosper_sum">
<code class="descname">gosper_sum</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.gosper_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the summation of this hypergeometric expression using
Gosper’s algorithm.</p>
<p>INPUT:</p>
<ul class="simple">
<li>a symbolic expression that may contain rational functions,
powers, factorials, gamma function terms, binomial
coefficients, and Pochhammer symbols that are rational-linear
in their arguments</li>
<li>the main variable and, optionally, summation limits</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a b k m n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">1/2*(n - 1)*n</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go">15</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
<span class="go">1/2*(m + 1)*m</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="go">-1/2*(a + b)*(a - b - 1)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">n*factorial(m + n)/((m + 1)*factorial(n))</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">n*binomial(m + n, n)/(m + 1)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="go">(a + m + 1)*binomial(a + m, a)/(m + 1)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">1/120*(m + 6)*(m + 5)*(m + 4)*(m + 3)*(m + 2)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">rising_factorial</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="n">rising_factorial</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gosper_sum</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">(b + n - 1)*gamma(a + n)*gamma(b)/((a - b + 1)*gamma(a)*gamma(b + n))</span>
<span class="gp">sage: </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">gosper_term</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">expression not Gosper-summable</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.gosper_term">
<code class="descname">gosper_term</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.gosper_term" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Gosper’s hypergeometric term for <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>Suppose <code class="docutils literal"><span class="pre">f``=``self</span></code> is a hypergeometric term such that:</p>
<div class="math">
\[s_n = \sum_{k=0}^{n-1} f_k\]</div>
<p>and <span class="math">\(f_k\)</span> doesn’t depend on <span class="math">\(n\)</span>. Return a hypergeometric
term <span class="math">\(g_n\)</span> such that <span class="math">\(g_{n+1} - g_n = f_n\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">gosper_term</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">n</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">gosper_term</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">1/2*(n^2 - n)/n</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">.</span><span class="n">gosper_term</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">1/n</span>
<span class="gp">sage: </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">gosper_term</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">expression not Gosper-summable</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.gradient">
<code class="descname">gradient</code><span class="sig-paren">(</span><em>variables=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the gradient of a symbolic function.</p>
<p>This function returns a vector whose components are the derivatives
of the original function with respect to the arguments of the
original function. Alternatively, you can specify the variables as
a list.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gradient</span><span class="p">()</span>
<span class="go">(2*x, 2*y)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">gradient</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; (2*x, 2*y)</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="n">n</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="n">n</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gradient</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; (n*x^(n - 1), n*y^(n - 1))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gradient</span><span class="p">([</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">])</span>
<span class="go">(x, y) |--&gt; (n*y^(n - 1), n*x^(n - 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.has">
<code class="descname">has</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.has" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">);</span> <span class="n">w0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">();</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">()</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">))</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here “x+y” is not a subexpression of “x+y+2*a” (which has the
subexpressions “x”, “y” and “2*a”):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">))</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">))</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">w0</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The following fails because “2*(x+y)” automatically gets converted to
“2*x+2*y” of which “x+y” is not a subexpression:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">))</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Although x^1==x and x^0==1, neither “x” nor “1” are actually of the
form “x^something”:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">w0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Here is another possible pitfall, where the first expression
matches because the term “-x” has the form “(-1)*x” in GiNaC. To check
whether a polynomial contains a linear term you should use the
coeff() function instead.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">w0</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">w0</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.has_wild">
<code class="descname">has_wild</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.has_wild" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if this expression contains a wildcard.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">has_wild</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">has_wild</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">has_wild</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.hessian">
<code class="descname">hessian</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the hessian of a function. This returns a matrix components
are the 2nd partial derivatives of the original function.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">hessian</span><span class="p">()</span>
<span class="go">[2 0]</span>
<span class="go">[0 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">hessian</span><span class="p">()</span>
<span class="go">[(x, y) |--&gt; 2 (x, y) |--&gt; 0]</span>
<span class="go">[(x, y) |--&gt; 0 (x, y) |--&gt; 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.horner">
<code class="descname">horner</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.horner" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrite this expression as a polynomial in Horner form in <code class="docutils literal"><span class="pre">x</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">add</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">horner</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(((5*x + 4)*x + 3)*x + 2)*x + 1</span>

<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">horner</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">z^3 + ((x^3 + 1)*x + 2*y)*x + y^2 + y*cos(x) + y^x</span>

<span class="gp">sage: </span><span class="n">expr</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">();</span> <span class="n">expr</span>
<span class="go">5*cos(x)^4*sin(x) - 10*cos(x)^2*sin(x)^3 + sin(x)^5</span>
<span class="gp">sage: </span><span class="n">expr</span><span class="o">.</span><span class="n">horner</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">(5*cos(x)^4 - (10*cos(x)^2 - sin(x)^2)*sin(x)^2)*sin(x)</span>
<span class="gp">sage: </span><span class="n">expr</span><span class="o">.</span><span class="n">horner</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">sin(x)^5 + 5*(cos(x)^2*sin(x) - 2*sin(x)^3)*cos(x)^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.hypergeometric_simplify">
<code class="descname">hypergeometric_simplify</code><span class="sig-paren">(</span><em>algorithm='maxima'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.hypergeometric_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify an expression containing hypergeometric or confluent
hypergeometric functions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">algorithm</span></code> – (default: <code class="docutils literal"><span class="pre">'maxima'</span></code>) the algorithm to use for
for simplification. Implemented are <code class="docutils literal"><span class="pre">'maxima'</span></code>, which uses Maxima’s
<code class="docutils literal"><span class="pre">hgfred</span></code> function, and <code class="docutils literal"><span class="pre">'sage'</span></code>, which uses an algorithm
implemented in the hypergeometric module</li>
</ul>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.hypergeometric_simplify" title="sage.symbolic.expression.Expression.hypergeometric_simplify"><code class="xref py py-meth docutils literal"><span class="pre">hypergeometric_simplify()</span></code></a> and
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_hypergeometric" title="sage.symbolic.expression.Expression.simplify_hypergeometric"><code class="xref py py-meth docutils literal"><span class="pre">simplify_hypergeometric()</span></code></a> are the same</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">hypergeometric</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="go">....:                x).simplify_hypergeometric()</span>
<span class="go">1/144*x^2*hypergeometric((), (3, 4), x) +...</span>
<span class="go">1/3*x*hypergeometric((), (2, 3), x) + hypergeometric((), (1, 2), x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">hypergeometric</span><span class="p">((),</span> <span class="p">(),</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_hypergeometric</span><span class="p">()</span>
<span class="go">2*e^x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">nest</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">hypergeometric</span><span class="p">([</span><span class="n">y</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">....:  .simplify_hypergeometric())</span>
<span class="go">laguerre(-laguerre(-e^x, x), x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">nest</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">hypergeometric</span><span class="p">([</span><span class="n">y</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">....:  .simplify_hypergeometric(algorithm=&#39;sage&#39;))</span>
<span class="go">hypergeometric((hypergeometric((e^x,), (1,), x),), (1,), x)</span>
<span class="gp">sage: </span><span class="n">hypergeometric_M</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">simplify_hypergeometric</span><span class="p">()</span>
<span class="go">-2*(x - e^x + 1)/x^2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">hypergeometric_U</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_hypergeometric</span><span class="p">()</span>
<span class="go">2*(x + 1)/x^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.imag">
<code class="descname">imag</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imaginary part of this symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span>
<span class="go">sqrt(2)</span>
</pre></div>
</div>
<p>We simplify <span class="math">\(\ln(\exp(z))\)</span> to <span class="math">\(z\)</span>.  This should only
be for <span class="math">\(-\pi&lt;{\rm Im}(z)&lt;=\pi\)</span>, but Maxima does not
have a symbolic imaginary part function, so we cannot
use <code class="docutils literal"><span class="pre">assume</span></code> to assume that first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">log(e^z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">z</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
<p>A more symbolic example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, b&#39;</span><span class="p">)</span>
<span class="go">(a, b)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">I</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span>
<span class="go">arctan2(imag_part(a) + real_part(b), -imag_part(b) + real_part(a))</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">imag_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">imag_part(I)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">imag_part</span><span class="p">(</span><span class="n">I</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">imag_part(I)</span>
<span class="gp">sage: </span><span class="n">imag_part</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">imag_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.imag_part">
<code class="descname">imag_part</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.imag_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imaginary part of this symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span>
<span class="go">sqrt(2)</span>
</pre></div>
</div>
<p>We simplify <span class="math">\(\ln(\exp(z))\)</span> to <span class="math">\(z\)</span>.  This should only
be for <span class="math">\(-\pi&lt;{\rm Im}(z)&lt;=\pi\)</span>, but Maxima does not
have a symbolic imaginary part function, so we cannot
use <code class="docutils literal"><span class="pre">assume</span></code> to assume that first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">log(e^z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">z</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
<p>A more symbolic example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, b&#39;</span><span class="p">)</span>
<span class="go">(a, b)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">I</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span>
<span class="go">arctan2(imag_part(a) + real_part(b), -imag_part(b) + real_part(a))</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">imag_part</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">imag_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">imag_part(I)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">imag_part</span><span class="p">(</span><span class="n">I</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">imag_part(I)</span>
<span class="gp">sage: </span><span class="n">imag_part</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">imag_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.implicit_derivative">
<code class="descname">implicit_derivative</code><span class="sig-paren">(</span><em>Y</em>, <em>X</em>, <em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.implicit_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the n’th derivative of Y with respect to X given implicitly by this expression.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Y</span></code> - The dependent variable of the implicit expression.</li>
<li><code class="docutils literal"><span class="pre">X</span></code> - The independent variable with respect to which the derivative is taken.</li>
<li><code class="docutils literal"><span class="pre">n</span></code> - (default : 1) the order of the derivative.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">implicit_derivative</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">sin(x)*sin(y)/(cos(x)*cos(y))</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">implicit_derivative</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">-1/4*(y + 2*y/x)/x^2 + 1/4*(2*y^2/x - y^2/x^2)/(x*y) - 3/4*y/x^3</span>
</pre></div>
</div>
<p>It is an error to not include an independent variable term
in the expression:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">implicit_derivative</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Expression cos(x)*sin(x) contains no y terms</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.integral">
<code class="descname">integral</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the integral of self.  Please see
<a class="reference internal" href="integration/integral.html#sage.symbolic.integration.integral.integrate" title="sage.symbolic.integration.integral.integrate"><code class="xref py py-func docutils literal"><span class="pre">sage.symbolic.integration.integral.integrate()</span></code></a> for more details.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-cos(3) + 1</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-cos(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the integral of self.  Please see
<a class="reference internal" href="integration/integral.html#sage.symbolic.integration.integral.integrate" title="sage.symbolic.integration.integral.integrate"><code class="xref py py-func docutils literal"><span class="pre">sage.symbolic.integration.integral.integrate()</span></code></a> for more details.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-cos(3) + 1</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-cos(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.inverse_laplace">
<code class="descname">inverse_laplace</code><span class="sig-paren">(</span><em>t</em>, <em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.inverse_laplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return inverse Laplace transform of self.  See
<a class="reference internal" href="../calculus/calculus.html#sage.calculus.calculus.inverse_laplace" title="sage.calculus.calculus.inverse_laplace"><code class="xref py py-obj docutils literal"><span class="pre">sage.calculus.calculus.inverse_laplace</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;w, m&#39;</span><span class="p">)</span>
<span class="go">(w, m)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">w</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">inverse_laplace</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">m</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1/10*sqrt(10)*sin(sqrt(10)*m)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_algebraic">
<code class="descname">is_algebraic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_algebraic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression is known to be algebraic.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">golden_ratio</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">QQ</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span><span class="o">.</span><span class="n">is_algebraic</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_constant">
<code class="descname">is_constant</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether this symbolic expression is a constant.</p>
<p>A symbolic expression is constant if it does not contain
any variables.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">is_constant</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_constant</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_constant</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_constant</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">is_constant</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_constant</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_exact">
<code class="descname">is_exact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression only contains exact numerical coefficients.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_exact</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="mf">1.9</span><span class="p">)</span><span class="o">.</span><span class="n">is_exact</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_exact</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">is_exact</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_exact</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mf">0.5</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_exact</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_infinity">
<code class="descname">is_infinity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_infinity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self is an infinite expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">is_infinity</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_infinity</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_integer">
<code class="descname">is_integer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_integer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression is known to be an integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_negative">
<code class="descname">is_negative</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_negative" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression is known to be negative.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_negative</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Check if we can correctly deduce negativity of mul objects:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;t0&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t0</span><span class="o">.</span><span class="n">is_negative</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">t0</span><span class="p">)</span><span class="o">.</span><span class="n">is_negative</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">is_negative</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Assumptions on symbols are handled correctly:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">is_negative</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_negative_infinity">
<code class="descname">is_negative_infinity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_negative_infinity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self is a negative infinite expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">is_negative_infinity</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">is_negative_infinity</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_negative_infinity</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_numeric">
<code class="descname">is_numeric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>A Pynac numeric is an object you can do arithmetic with
that is not a symbolic variable, function, or constant.
Return True if this expression only consists of a numeric object.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_numeric</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_numeric</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">is_numeric</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_numeric</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_polynomial">
<code class="descname">is_polynomial</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self is a polynomial in the given variable.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="n">t</span>
<span class="go">x^2 + y</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_polynomial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_polynomial</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_polynomial</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="n">t</span>
<span class="go">y + sin(x)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_polynomial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_polynomial</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_polynomial</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_positive">
<code class="descname">is_positive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_positive" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression is known to be positive.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;t0&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t0</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t0</span><span class="o">.</span><span class="n">is_negative</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">t0</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;t1&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">*</span><span class="n">t1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span> <span class="o">+</span> <span class="n">t1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">f</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">cosh</span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="n">cosh</span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">I</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">-</span> <span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_positive_infinity">
<code class="descname">is_positive_infinity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_positive_infinity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self is a positive infinite expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive_infinity</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">is_positive_infinity</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_infinity</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_real">
<code class="descname">is_real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression is known to be a real number.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;t0&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t0</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t0</span><span class="o">.</span><span class="n">is_positive</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">t1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;t1&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">+</span><span class="n">t1</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">+</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">*</span><span class="n">t1</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">t2</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s2">&quot;t2&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t1</span><span class="o">**</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t0</span><span class="o">^</span><span class="n">t1</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">t1</span><span class="o">^</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gamma</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span> <span class="o">+</span> <span class="n">log</span><span class="p">(</span><span class="n">t1</span><span class="p">))</span><span class="o">^</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">I</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">-</span> <span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="n">t0</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The following is real, but we cannot deduce that.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">.</span><span class="n">conjugate</span><span class="p">())</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Assumption of real has the same effect as setting the domain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
<p>The real domain is also set with the integer domain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;integer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_relational">
<code class="descname">is_relational</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_relational" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if self is a relational expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">is_relational</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_relational</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_series">
<code class="descname">is_series</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_series" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_symbol">
<code class="descname">is_symbol</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this symbolic expression consists of only a symbol, i.e.,
a symbolic variable.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_symbol</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">is_symbol</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">is_symbol</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">is_symbol</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">is_symbol</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">is_symbol</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_terminating_series">
<code class="descname">is_terminating_series</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_terminating_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if <code class="docutils literal"><span class="pre">self</span></code> is a series without order term.</p>
<p>A series is terminating if it can be represented exactly,
without requiring an order term. You can explicitly
request terminating series by setting the order to
positive infinity.</p>
<p>OUTPUT:</p>
<p>Boolean. Whether <code class="docutils literal"><span class="pre">self</span></code> was constructed by <a class="reference internal" href="#sage.symbolic.expression.Expression.series" title="sage.symbolic.expression.Expression.series"><code class="xref py py-meth docutils literal"><span class="pre">series()</span></code></a>
and has no order term.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">+</span><span class="n">oo</span><span class="p">)</span>
<span class="go">1 + 1*x^2 + 1*x^5</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">+</span><span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">is_terminating_series</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_terminating_series</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_terminating_series</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">is_terminating_series</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_trivial_zero">
<code class="descname">is_trivial_zero</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_trivial_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if this expression is trivially equal to zero without any
simplification.</p>
<p>This method is intended to be used in library code where trying to
obtain a mathematically correct result by applying potentially
expensive rewrite rules is not desirable.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">))</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">^</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="mi">2</span><span class="o">^</span><span class="mi">10000</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>The <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.Element.is_zero" title="(in Sage Reference Manual: Parents and Elements v8.2)"><code class="xref py py-meth docutils literal"><span class="pre">is_zero()</span></code></a> method
is more capable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">+</span> <span class="p">(</span><span class="n">pi</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">pi</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">is_trivial_zero</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_trivially_equal">
<code class="descname">is_trivially_equal</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_trivially_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if this expression is trivially equal to the argument
expression, without any simplification.</p>
<p>Note that the expressions may still be subject to immediate
evaluation.</p>
<p>This method is intended to be used in library code where trying to
obtain a mathematically correct result by applying potentially
expensive rewrite rules is not desirable.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">is_trivially_equal</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.is_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this expression is a unit of the symbolic ring.</p>
<p>Note that a proof may be attempted to get the result. To avoid
this use <code class="docutils literal"><span class="pre">(ex-1).is_trivial_zero()</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.iterator">
<code class="descname">iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the operands of this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">iterator</span><span class="p">())</span>
<span class="go">[x, y, z]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">((</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">iterator</span><span class="p">())</span>
<span class="go">[x, y, z]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">iterator</span><span class="p">())</span>
<span class="go">[x + y, x^y, z]</span>
</pre></div>
</div>
<p>Note that symbols, constants and numeric objects do not have operands,
so the iterator function raises an error in these cases:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">iterator</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">expressions containing only a numeric coefficient, constant or symbol have no operands</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">iterator</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">expressions containing only a numeric coefficient, constant or symbol have no operands</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">iterator</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">expressions containing only a numeric coefficient, constant or symbol have no operands</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.laplace">
<code class="descname">laplace</code><span class="sig-paren">(</span><em>t</em>, <em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.laplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Laplace transform of self.  See
<a class="reference internal" href="../calculus/calculus.html#sage.calculus.calculus.laplace" title="sage.calculus.calculus.laplace"><code class="xref py py-obj docutils literal"><span class="pre">sage.calculus.calculus.laplace</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,s,z&#39;</span><span class="p">)</span>
<span class="go">(x, s, z)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">laplace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">z/s + 1/(s - 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.laurent_polynomial">
<code class="descname">laurent_polynomial</code><span class="sig-paren">(</span><em>base_ring=None</em>, <em>ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.laurent_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this symbolic expression as a Laurent polynomial
over the given base ring, if possible.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">base_ring</span></code> - (optional) the base ring for the polynomial</li>
<li><code class="docutils literal"><span class="pre">ring</span></code> - (optional) the parent for the polynomial</li>
</ul>
<p>You can specify either the base ring (<code class="docutils literal"><span class="pre">base_ring</span></code>) you want
the output Laurent polynomial to be over, or you can specify the full
laurent polynomial ring (<code class="docutils literal"><span class="pre">ring</span></code>) you want the output laurent
polynomial to be an element of.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">laurent_polynomial</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">-2/3*x^-1 + 1 + x^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">laurent_polynomial</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">12*x^-1 + 1 + x^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.lcm">
<code class="descname">lcm</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.lcm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lcm of self and b.</p>
<p>The lcm is computed from the gcd of self and b implicitly from the
relation self * b = gcd(self, b) * lcm(self, b).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In agreement with the convention in use for integers, if
self * b == 0, then gcd(self, b) == max(self, b) and
lcm(self, b) == 0.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since the polynomial lcm is computed from the gcd, and the
polynomial gcd is unique up to a constant factor (which can
be negative), the polynomial lcm is unique up to a factor of -1.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">lcm</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="go">30</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">lcm</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">x^3 - 1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">lcm</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="go">x^3 - 1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">sage</span><span class="o">.</span><span class="n">symbolic</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">lcm</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sage</span><span class="o">.</span><span class="n">symbolic</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="go">(pi - x^3)*(pi - x)</span>
<span class="gp">sage: </span><span class="n">lcm</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">lcm</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">100</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">100</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">10</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">100</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">100</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">expand</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">17</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">13</span><span class="o">+</span><span class="mi">17</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="n">lcm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The result is not automatically simplified:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ex</span> <span class="o">=</span> <span class="n">lcm</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">));</span> <span class="n">ex</span>
<span class="go">(sin(x)^2 + sin(x))*(sin(x)^2 - 1)/(sin(x) + 1)</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">-cos(x)^2*sin(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.leading_coeff">
<code class="descname">leading_coeff</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.leading_coeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the leading coefficient of s in self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + x/y + 2*sin(x*y)/x + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">leading_coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">leading_coefficient</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">leading_coefficient</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">x^3 + 2/x</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.leading_coefficient">
<code class="descname">leading_coefficient</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.leading_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the leading coefficient of s in self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + x/y + 2*sin(x*y)/x + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">leading_coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">leading_coefficient</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">leading_coefficient</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">x^3 + 2/x</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.left">
<code class="descname">left</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.left" title="Permalink to this definition">¶</a></dt>
<dd><p>If self is a relational expression, return the left hand side
of the relation.  Otherwise, raise a ValueError.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left_hand_side</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">lhs</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.left_hand_side">
<code class="descname">left_hand_side</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.left_hand_side" title="Permalink to this definition">¶</a></dt>
<dd><p>If self is a relational expression, return the left hand side
of the relation.  Otherwise, raise a ValueError.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left_hand_side</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">lhs</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.lhs">
<code class="descname">lhs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.lhs" title="Permalink to this definition">¶</a></dt>
<dd><p>If self is a relational expression, return the left hand side
of the relation.  Otherwise, raise a ValueError.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left_hand_side</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">lhs</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">left</span><span class="p">()</span>
<span class="go">(x - 1)^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.limit">
<code class="descname">limit</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a symbolic limit.  See
<a class="reference internal" href="../calculus/calculus.html#sage.calculus.calculus.limit" title="sage.calculus.calculus.limit"><code class="xref py py-obj docutils literal"><span class="pre">sage.calculus.calculus.limit</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.list">
<code class="descname">list</code><span class="sig-paren">(</span><em>x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficients of this symbolic expression as a polynomial in x.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">x</span></code> – optional variable.</li>
</ul>
<p>OUTPUT:</p>
<p>A list of expressions where the <code class="docutils literal"><span class="pre">n</span></code>-th element is the coefficient of
<code class="docutils literal"><span class="pre">x^n</span></code> when self is seen as polynomial in <code class="docutils literal"><span class="pre">x</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[0, 0, 0, 0, 0, 1]</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[0, 1, 0, -1, 0, 5/7]</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">p</span>
<span class="go">-2*sqrt(2)*a*x + 2*a^2 + x^2 + x + 1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[x^2 + x + 1, -2*sqrt(2)*x, 2]</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">6</span><span class="p">);</span> <span class="n">s</span>
<span class="go">1 + 1*x + 1*x^2 + 1*x^3 + 1*x^4 + 1*x^5 + Order(x^6)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[1, 1, 1, 1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.log">
<code class="descname">log</code><span class="sig-paren">(</span><em>b=None</em>, <em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the logarithm of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">log(x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">log(x^y + y^x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">-Infinity</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">I*pi</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">log(1/2)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">-0.693147180559945</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">()</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">0.500000000000000</span>
<span class="gp">sage: </span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">-0.6931471805599453</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">log</span><span class="p">(),</span> <span class="mf">0.1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">1/2*I*pi</span>
<span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">log(I)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1/2*I*pi</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">hold</span></code> parameter also works in functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">log(-1)</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">I*pi</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.log_expand">
<code class="descname">log_expand</code><span class="sig-paren">(</span><em>algorithm='products'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.log_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify symbolic expression, which can contain logs.</p>
<p>Expands logarithms of powers, logarithms of products and
logarithms of quotients.  The option <code class="docutils literal"><span class="pre">algorithm</span></code> specifies
which expression types should be expanded.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">self</span></code> - expression to be simplified</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: ‘products’) optional, governs which
expression is expanded. Possible values are</p>
<ul class="simple">
<li>‘nothing’ (no expansion),</li>
<li>‘powers’ (log(a^r) is expanded),</li>
<li>‘products’ (like ‘powers’ and also log(a*b) are expanded),</li>
<li>‘all’ (all possible expansion).</li>
</ul>
<p>See also examples below.</p>
</li>
</ul>
<p>DETAILS: This uses the Maxima simplifier and sets
<code class="docutils literal"><span class="pre">logexpand</span></code> option for this simplifier. From the Maxima
documentation: “Logexpand:true causes log(a^b) to become
b*log(a). If it is set to all, log(a*b) will also simplify to
log(a)+log(b). If it is set to super, then log(a/b) will also
simplify to log(a)-log(b) for rational numbers a/b,
a#1. (log(1/b), for integer b, always simplifies.) If it is
set to false, all of these simplifications will be turned
off. “</p>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.log_expand" title="sage.symbolic.expression.Expression.log_expand"><code class="xref py py-meth docutils literal"><span class="pre">log_expand()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_log" title="sage.symbolic.expression.Expression.expand_log"><code class="xref py py-meth docutils literal"><span class="pre">expand_log()</span></code></a> are the same</p>
<p>EXAMPLES:</p>
<p>By default powers and products (and quotients) are expanded,
but not quotients of integers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">pi*log(x) + log(3/4)</span>
</pre></div>
</div>
<p>To expand also log(3/4) use <code class="docutils literal"><span class="pre">algorithm='all'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">pi*log(x) + log(3) - 2*log(2)</span>
</pre></div>
</div>
<p>To expand only the power use <code class="docutils literal"><span class="pre">algorithm='powers'</span></code>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;powers&#39;</span><span class="p">)</span>
<span class="go">6*log(x)</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal"><span class="pre">log((3*x)^6)</span></code> is not expanded with
<code class="docutils literal"><span class="pre">algorithm='powers'</span></code>, since it is converted into product
first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">((</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;powers&#39;</span><span class="p">)</span>
<span class="go">log(729*x^6)</span>
</pre></div>
</div>
<p>This shows that the option <code class="docutils literal"><span class="pre">algorithm</span></code> from the previous call
has no influence to future calls (we changed some default
Maxima flag, and have to ensure that this flag has been
restored):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">pi*log(x) + log(3/4)</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">pi*log(x) + log(3) - 2*log(2)</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">log_expand</span><span class="p">()</span>
<span class="go">pi*log(x) + log(3/4)</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (11-2009)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.log_gamma">
<code class="descname">log_gamma</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.log_gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the log gamma function evaluated at self.
This is the logarithm of gamma of self, where
gamma is a complex function such that <span class="math">\(gamma(n)\)</span>
equals <span class="math">\(factorial(n-1)\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">()</span>
<span class="go">log_gamma(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">()</span>
<span class="go">log(24)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">();</span> <span class="n">a</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">3.17805383034795</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">factorial</span><span class="p">()</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="go">log(24)</span>
<span class="gp">sage: </span><span class="n">set_verbose</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">(),</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">1.6487212707001282</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span> <span class="o">-</span> <span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">exp</span><span class="p">())</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">log_gamma(5)</span>
</pre></div>
</div>
<p>To evaluate again, currently we must use numerical evaluation
via <code class="xref py py-meth docutils literal"><span class="pre">n()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">log_gamma</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">3.17805383034795</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.log_simplify">
<code class="descname">log_simplify</code><span class="sig-paren">(</span><em>algorithm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.log_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify a (real) symbolic expression that contains logarithms.</p>
<p>The given expression is scanned recursively, transforming
subexpressions of the form <span class="math">\(a \log(b) + c \log(d)\)</span> into
<span class="math">\(\log(b^{a} d^{c})\)</span> before simplifying within the <code class="docutils literal"><span class="pre">log()</span></code>.</p>
<p>The user can specify conditions that <span class="math">\(a\)</span> and <span class="math">\(c\)</span> must satisfy
before this transformation will be performed using the optional
parameter <code class="docutils literal"><span class="pre">algorithm</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This is only safe to call if every variable in the given
expression is assumed to be real. The simplification it performs
is in general not valid over the complex numbers. For example:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
<span class="go">-2*I*pi</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - expression to be simplified</li>
<li><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: None) optional, governs the condition
on <span class="math">\(a\)</span> and <span class="math">\(c\)</span> which must be satisfied to contract expression
<span class="math">\(a \log(b) + c \log(d)\)</span>. Values are<ul>
<li><code class="docutils literal"><span class="pre">None</span></code> (use Maxima default, integers),</li>
<li><code class="docutils literal"><span class="pre">'one'</span></code> (1 and -1),</li>
<li><code class="docutils literal"><span class="pre">'ratios'</span></code> (rational numbers),</li>
<li><code class="docutils literal"><span class="pre">'constants'</span></code> (constants),</li>
<li><code class="docutils literal"><span class="pre">'all'</span></code> (all expressions).</li>
</ul>
</li>
</ul>
<p>ALGORITHM:</p>
<p>This uses the Maxima <code class="docutils literal"><span class="pre">logcontract()</span></code> command.</p>
<p>ALIAS:</p>
<p><a class="reference internal" href="#sage.symbolic.expression.Expression.log_simplify" title="sage.symbolic.expression.Expression.log_simplify"><code class="xref py py-meth docutils literal"><span class="pre">log_simplify()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_log" title="sage.symbolic.expression.Expression.simplify_log"><code class="xref py py-meth docutils literal"><span class="pre">simplify_log()</span></code></a> are the same.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y t&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Only two first terms are contracted in the following example;
the logarithm with coefficient <span class="math">\(\frac{1}{2}\)</span> is not contracted:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">log(x*y^2) + 1/2*log(t)</span>
</pre></div>
</div>
<p>To contract all terms in the previous example, we use the
<code class="docutils literal"><span class="pre">'ratios'</span></code> <code class="docutils literal"><span class="pre">algorithm</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;ratios&#39;</span><span class="p">)</span>
<span class="go">log(sqrt(t)*x*y^2)</span>
</pre></div>
</div>
<p>To contract terms with no coefficient (more precisely, with
coefficients <span class="math">\(1\)</span> and <span class="math">\(-1\)</span>), we use the <code class="docutils literal"><span class="pre">'one'</span></code>
<code class="docutils literal"><span class="pre">algorithm</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">-</span><span class="n">log</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">)</span>
<span class="go">2*log(y) + log(x/t)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">log(x*y) - 1/3*log(x + 1)</span>

<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;ratios&#39;</span><span class="p">)</span>
<span class="go">log(x*y/(x + 1)^(1/3))</span>
</pre></div>
</div>
<p><span class="math">\(\pi\)</span> is an irrational number; to contract logarithms in the
following example we have to set <code class="docutils literal"><span class="pre">algorithm</span></code> to <code class="docutils literal"><span class="pre">'constants'</span></code>
or <code class="docutils literal"><span class="pre">'all'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">-</span><span class="n">pi</span><span class="o">*</span><span class="n">log</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;constants&#39;</span><span class="p">)</span>
<span class="go">log(x*y/(x + 1)^pi)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">x*log(9)</span></code> is contracted only if <code class="docutils literal"><span class="pre">algorithm</span></code> is <code class="docutils literal"><span class="pre">'all'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">2*x*log(3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">log(3^(2*x))</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (11-2009)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.low_degree">
<code class="descname">low_degree</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.low_degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the exponent of the lowest nonpositive power of s in self.</p>
<p>OUTPUT:</p>
<p>An integer <code class="docutils literal"><span class="pre">&lt;=</span> <span class="pre">0</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="o">^</span><span class="mi">10</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + 2*sin(x*y)/x + x/y^10 + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">low_degree</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">low_degree</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">-10</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">low_degree</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">low_degree</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if self matches the given pattern.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pattern</span></code> – a symbolic expression, possibly containing wildcards
to match for</li>
</ul>
<p>OUTPUT:</p>
<p>One of</p>
<p><code class="docutils literal"><span class="pre">None</span></code> if there is no match, or a dictionary mapping the
wildcards to the matching values if a match was found. Note
that the dictionary is empty if there were no wildcards in the
given pattern.</p>
<p>See also <a class="reference external" href="http://www.ginac.de/tutorial/Pattern-matching-and-advanced-substitutions.html">http://www.ginac.de/tutorial/Pattern-matching-and-advanced-substitutions.html</a></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z,a,b,c,d,f,g&#39;</span><span class="p">)</span>
<span class="go">(x, y, z, a, b, c, d, f, g)</span>
<span class="gp">sage: </span><span class="n">w0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="n">w2</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># no wildcards, so empty dict</span>
<span class="go">{}</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">b</span><span class="p">))</span>
<span class="go">None</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="n">w1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="n">w0</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="n">w1</span><span class="p">]</span>
<span class="go">(x + y, a)</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="n">w0</span><span class="p">))</span>
<span class="go">None</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="n">w0</span><span class="p">)</span>
<span class="go">{$0: x + y}</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">))</span><span class="o">.</span><span class="n">match</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">w0</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">w1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="n">w0</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="n">w1</span><span class="p">]</span>
<span class="go">(c, b)</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">))</span><span class="o">.</span><span class="n">match</span><span class="p">((</span><span class="n">w0</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">w0</span><span class="o">+</span><span class="n">c</span><span class="p">))</span>
<span class="go">{$0: a}</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">))</span><span class="o">.</span><span class="n">match</span><span class="p">((</span><span class="n">w0</span><span class="o">+</span><span class="n">w1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">w0</span><span class="o">+</span><span class="n">w2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="n">w0</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="n">w1</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="n">w2</span><span class="p">]</span>
<span class="go">(a, c, b)</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">))</span><span class="o">.</span><span class="n">match</span><span class="p">((</span><span class="n">w0</span><span class="o">+</span><span class="n">w1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">w1</span><span class="o">+</span><span class="n">w2</span><span class="p">)))</span>
<span class="go">None</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="n">a</span><span class="o">*</span><span class="n">z</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">w0</span><span class="o">+</span><span class="n">w1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="n">w0</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="n">w1</span><span class="p">]</span>
<span class="go">(x + y, a*z + b)</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="n">f</span><span class="o">+</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
<span class="go">None</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="n">f</span><span class="o">+</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="n">f</span><span class="o">+</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">w0</span><span class="p">)</span>
<span class="go">{$0: a + b + d + f + g}</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="n">f</span><span class="o">+</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">g</span><span class="o">+</span><span class="n">w0</span><span class="p">)</span>
<span class="go">{$0: a + b + d + f}</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">w0</span><span class="p">)</span>
<span class="go">{$0: 0}</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">((</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="n">w0</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="n">w1</span><span class="p">))</span>
<span class="go">None</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="n">w1</span><span class="p">)</span>
<span class="go">{$1: 2}</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">w0</span><span class="o">*</span><span class="n">w0</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span>
<span class="go">{$0: x}</span>
</pre></div>
</div>
<p>Beware that behind-the-scenes simplification can lead to
surprising results in matching:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">print</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">w0</span><span class="o">+</span><span class="n">w1</span><span class="p">))</span>
<span class="go">None</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">;</span> <span class="n">t</span>
<span class="go">2*x</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;function mul_vararg ...&gt;</span>
</pre></div>
</div>
<p>Since asking to match w0+w1 looks for an addition operator,
there is no match.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.maxima_methods">
<code class="descname">maxima_methods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.maxima_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide easy access to maxima methods, converting the result to a
Sage expression automatically.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">log</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">t</span>
<span class="go">log(sqrt(2) + 1) + log(sqrt(2) - 1)</span>
<span class="gp">sage: </span><span class="n">res</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">maxima_methods</span><span class="p">()</span><span class="o">.</span><span class="n">logcontract</span><span class="p">();</span> <span class="n">res</span>
<span class="go">log((sqrt(2) + 1)*(sqrt(2) - 1))</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.symbolic.expression.Expression&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.minpoly">
<code class="descname">minpoly</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.minpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimal polynomial of this symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">golden_ratio</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^2 - x - 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.mul">
<code class="descname">mul</code><span class="sig-paren">(</span><em>hold=False</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.mul" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the product of the current expression and the given arguments.</p>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">x*x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x + 2)*x*x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x + 2)*x*x*x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(2*x)*(x + 2)*x*x*x</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">x^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.multiply_both_sides">
<code class="descname">multiply_both_sides</code><span class="sig-paren">(</span><em>x</em>, <em>checksign=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.multiply_both_sides" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a relation obtained by multiplying both sides of this
relation by <em>x</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <em>checksign</em> keyword argument is currently ignored and
is included for backward compatibility reasons only.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">);</span> <span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">2</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">multiply_both_sides</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">7*x + 21 &lt; 7*y - 14</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">multiply_both_sides</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-1/2*x - 3/2 &lt; -1/2*y + 1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-2/3*x - 2 &lt; -2/3*y + 4/3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="n">pi</span><span class="p">)</span>
<span class="go">-pi*(x + 3) &lt; -pi*(y - 2)</span>
</pre></div>
</div>
<p>Since the direction of the inequality never changes when doing
arithmetic with equations, you can multiply or divide the
equation by a quantity with unknown sign:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span>
<span class="go">(I + 1)*x + 3*I + 3 &lt; (I + 1)*y - 2*I - 2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">multiply_both_sides</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">I*x + I*sqrt(2) == I*y^3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">multiply_both_sides</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-x - sqrt(2) == -y^3</span>
</pre></div>
</div>
<p>Note that the direction of the following inequalities is
not reversed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-x^3 - 1 &gt; -2*sqrt(3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-x^3 - 1 &gt;= -2*sqrt(3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">-x^3 - 1 &lt;= -2*sqrt(3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.negation">
<code class="descname">negation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.negation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the negated version of self, that is the relation that is
False iff self is True.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">negation</span><span class="p">()</span>
<span class="go">x &gt;= 5</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">sin</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">negation</span><span class="p">()</span>
<span class="go">x != sin(3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">negation</span><span class="p">()</span>
<span class="go">2*x &lt; sqrt(2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.nintegral">
<code class="descname">nintegral</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.nintegral" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the numerical integral of self.  Please see
<a class="reference internal" href="../calculus/calculus.html#sage.calculus.calculus.nintegral" title="sage.calculus.calculus.nintegral"><code class="xref py py-obj docutils literal"><span class="pre">sage.calculus.calculus.nintegral</span></code></a> for more details.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">nintegral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(1.989992496600..., 2.209335488557...e-14, 21, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.nintegrate">
<code class="descname">nintegrate</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.nintegrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the numerical integral of self.  Please see
<a class="reference internal" href="../calculus/calculus.html#sage.calculus.calculus.nintegral" title="sage.calculus.calculus.nintegral"><code class="xref py py-obj docutils literal"><span class="pre">sage.calculus.calculus.nintegral</span></code></a> for more details.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">nintegral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(1.989992496600..., 2.209335488557...e-14, 21, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.nops">
<code class="descname">nops</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.nops" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of arguments of this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c,x,y&#39;</span><span class="p">)</span>
<span class="go">(a, b, c, x, y)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complex norm of this symbolic expression, i.e.,
the expression times its complex conjugate. If <span class="math">\(c = a + bi\)</span> is a
complex number, then the norm of <span class="math">\(c\)</span> is defined as the product of
<span class="math">\(c\)</span> and its complex conjugate</p>
<div class="math">
\[\text{norm}(c)
=
\text{norm}(a + bi)
=
c \cdot \overline{c}
=
a^2 + b^2.\]</div>
<p>The norm of a complex number is different from its absolute value.
The absolute value of a complex number is defined to be the square
root of its norm. A typical use of the complex norm is in the
integral domain <span class="math">\(\ZZ[i]\)</span> of Gaussian integers, where the norm of
each Gaussian integer <span class="math">\(c = a + bi\)</span> is defined as its complex norm.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="../../../misc/sage/misc/functional.html#sage.misc.functional.norm" title="(in Sage Reference Manual: Utilities v8.2)"><code class="xref py py-func docutils literal"><span class="pre">sage.misc.functional.norm()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">I</span><span class="p">;</span> <span class="n">a</span>
<span class="go">sqrt(2) + I*3^(1/3)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">3^(2/3) + 2</span>
<span class="gp">sage: </span><span class="n">CDF</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">4.080083823051...</span>
<span class="gp">sage: </span><span class="n">CDF</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">norm</span><span class="p">())</span>
<span class="go">4.080083823051904</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this expression normalized as a fraction</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.symbolic.expression.Expression.numerator" title="sage.symbolic.expression.Expression.numerator"><code class="xref py py-meth docutils literal"><span class="pre">numerator()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.denominator" title="sage.symbolic.expression.Expression.denominator"><code class="xref py py-meth docutils literal"><span class="pre">denominator()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.numerator_denominator" title="sage.symbolic.expression.Expression.numerator_denominator"><code class="xref py py-meth docutils literal"><span class="pre">numerator_denominator()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.combine" title="sage.symbolic.expression.Expression.combine"><code class="xref py py-meth docutils literal"><span class="pre">combine()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, a, b, c&#39;</span><span class="p">)</span>
<span class="go">(x, y, a, b, c)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
<span class="go">(x^2 + 2*x + y)/(x + 2)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">b</span><span class="o">/</span><span class="n">a</span> <span class="o">+</span> <span class="n">c</span><span class="o">/</span><span class="n">a</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
<span class="go">(a*x^3 + b*x^3 + c*x^3 + a*x*y^2 + a*x^2 + b*x^2 + c*x^2 +</span>
<span class="go">        a*y^2 - a*x - 7*b*x - 7*c*x - 7*a - 7*b - 7*c)/((x^2 -</span>
<span class="go">            7)*a*(x + 1))</span>
</pre></div>
</div>
<p>ALGORITHM: Uses GiNaC.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.number_of_arguments">
<code class="descname">number_of_arguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.number_of_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">2</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">8</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span> <span class="p">)(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">the number of arguments must be less than or equal to 0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.number_of_operands">
<code class="descname">number_of_operands</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.number_of_operands" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of arguments of this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c,x,y&#39;</span><span class="p">)</span>
<span class="go">(a, b, c, x, y)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">number_of_operands</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.numerator">
<code class="descname">numerator</code><span class="sig-paren">(</span><em>normalize=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.numerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the numerator of this symbolic expression</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">normalize</span></code> – (default: <code class="docutils literal"><span class="pre">True</span></code>) a boolean.</li>
</ul>
<p>If <code class="docutils literal"><span class="pre">normalize</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, the expression is first normalized to
have it as a fraction before getting the numerator.</p>
<p>If <code class="docutils literal"><span class="pre">normalize</span></code> is <code class="docutils literal"><span class="pre">False</span></code>, the expression is kept and if it is not
a quotient, then this will return the expression itself.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.symbolic.expression.Expression.normalize" title="sage.symbolic.expression.Expression.normalize"><code class="xref py py-meth docutils literal"><span class="pre">normalize()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.denominator" title="sage.symbolic.expression.Expression.denominator"><code class="xref py py-meth docutils literal"><span class="pre">denominator()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.numerator_denominator" title="sage.symbolic.expression.Expression.numerator_denominator"><code class="xref py py-meth docutils literal"><span class="pre">numerator_denominator()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.combine" title="sage.symbolic.expression.Expression.combine"><code class="xref py py-meth docutils literal"><span class="pre">combine()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="p">));</span> <span class="n">f</span>
<span class="go">x/(x^2 - y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span>
<span class="go">x^2 - y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">numerator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">denominator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">x^2 - y</span>

<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span> <span class="n">g</span>
<span class="go">x + y/(x + 2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span>
<span class="go">x^2 + 2*x + y</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span>
<span class="go">x + 2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">x + y/(x + 2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">denominator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.numerator_denominator">
<code class="descname">numerator_denominator</code><span class="sig-paren">(</span><em>normalize=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.numerator_denominator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the numerator and the denominator of this symbolic expression</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">normalize</span></code> – (default: <code class="docutils literal"><span class="pre">True</span></code>) a boolean.</li>
</ul>
<p>If <code class="docutils literal"><span class="pre">normalize</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, the expression is first normalized to
have it as a fraction before getting the numerator and denominator.</p>
<p>If <code class="docutils literal"><span class="pre">normalize</span></code> is <code class="docutils literal"><span class="pre">False</span></code>, the expression is kept and if it is not
a quotient, then this will return the expression itself together with
1.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.symbolic.expression.Expression.normalize" title="sage.symbolic.expression.Expression.normalize"><code class="xref py py-meth docutils literal"><span class="pre">normalize()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.numerator" title="sage.symbolic.expression.Expression.numerator"><code class="xref py py-meth docutils literal"><span class="pre">numerator()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.denominator" title="sage.symbolic.expression.Expression.denominator"><code class="xref py py-meth docutils literal"><span class="pre">denominator()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.combine" title="sage.symbolic.expression.Expression.combine"><code class="xref py py-meth docutils literal"><span class="pre">combine()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s2">&quot;x y a&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">numerator_denominator</span><span class="p">()</span>
<span class="go">((x + y)^2*x^3, (x - y)^3)</span>

<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">numerator_denominator</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="go">((x + y)^2*x^3, (x - y)^3)</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator_denominator</span><span class="p">()</span>
<span class="go">(x^2 + 2*x + y, x + 2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator_denominator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">(x + y/(x + 2), 1)</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator_denominator</span><span class="p">()</span>
<span class="go">((x + 2)*x^2, 1)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">numerator_denominator</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">((x + 2)*x^2, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.numerical_approx">
<code class="descname">numerical_approx</code><span class="sig-paren">(</span><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.numerical_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numerical approximation of <code class="docutils literal"><span class="pre">self</span></code> with <code class="docutils literal"><span class="pre">prec</span></code> bits
(or decimal <code class="docutils literal"><span class="pre">digits</span></code>) of precision.</p>
<p>No guarantee is made about the accuracy of the result.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">prec</span></code> – precision in bits</li>
<li><code class="docutils literal"><span class="pre">digits</span></code> – precision in decimal digits (only used if
<code class="docutils literal"><span class="pre">prec</span></code> is not given)</li>
<li><code class="docutils literal"><span class="pre">algorithm</span></code> – which algorithm to use to compute this
approximation</li>
</ul>
<p>If neither <code class="docutils literal"><span class="pre">prec</span></code> nor <code class="docutils literal"><span class="pre">digits</span></code> is given, the default
precision is 53 bits (roughly 16 digits).</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">-0.958924274663138</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">-0.95892427466313846889315440616</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">-0.95892427466313846889315440615599397335246154396460</span>
<span class="gp">sage: </span><span class="n">zeta</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">1.6449340668482264364724151666460251892189499012068</span>

<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="go">-0.98999249660044545727157279473126130239367909661558832881409</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">200</span><span class="p">)</span>
<span class="go">-0.98999249660044545727157279473126130239367909661558832881409</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">-0.9899924966</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">1.00000000 + 1.00000000*I</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span> <span class="o">+</span> <span class="n">e</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">7.2740880444219335226246195788</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sage.symbolic.expression.Expression.op">
<code class="descname">op</code><a class="headerlink" href="#sage.symbolic.expression.Expression.op" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide access to the operands of an expression through a property.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">op</span>
<span class="go">Operands of x^2 + x + 1</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">op</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">expressions containing only a numeric coefficient, constant or symbol have no operands</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">op</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">x^2</span>
</pre></div>
</div>
<p>Indexing directly with <code class="docutils literal"><span class="pre">t[1]</span></code> causes problems with numpy types.</p>
<blockquote>
<div>sage: t[1]
Traceback (most recent call last):
…
TypeError: ‘sage.symbolic.expression.Expression’ object does not support indexing</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.operands">
<code class="descname">operands</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.operands" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list containing the operands of this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c,x,y&#39;</span><span class="p">)</span>
<span class="go">(a, b, c, x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">operands</span><span class="p">()</span>
<span class="go">[a^2, b^2, (x + y)^2]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">operands</span><span class="p">()</span>
<span class="go">[a, 2]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">operands</span><span class="p">()</span>
<span class="go">[a, b^2, c]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.operator">
<code class="descname">operator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the topmost operator in this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;function add_vararg ...&gt;</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;built-in function pow&gt;</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span> <span class="o">*</span> <span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;function mul_vararg ...&gt;</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">&lt;built-in function lt&gt;</span>

<span class="gp">sage: </span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">abs</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">();</span> <span class="nb">type</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.functions.gamma.Function_gamma&#39;&gt;</span>

<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">psi</span>

<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">psi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">==</span> <span class="n">psi</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">conjugate_func</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">2*x</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="n">a</span>
<span class="go">diff(f(x), x)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">operator</span><span class="p">()</span>
<span class="go">D[0](f)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.partial_fraction">
<code class="descname">partial_fraction</code><span class="sig-paren">(</span><em>var=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.partial_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the partial fraction expansion of <code class="docutils literal"><span class="pre">self</span></code> with
respect to the given variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">var</span></code> - variable name or string (default: first
variable)</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">partial_fraction</span><span class="p">()</span>
<span class="go">1/(x + 1) - 2/(x + 1)^2 + 1/(x + 1)^3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">partial_fraction</span><span class="p">()</span>
<span class="go">1/(x + 1) - 2/(x + 1)^2 + 1/(x + 1)^3</span>
</pre></div>
</div>
<p>Notice that the first variable in the expression is used by
default:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">partial_fraction</span><span class="p">()</span>
<span class="go">1/(y + 1) - 2/(y + 1)^2 + 1/(y + 1)^3</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">partial_fraction</span><span class="p">()</span>
<span class="go">y^2/(y^3 + 3*y^2 + 3*y + 1) + 1/(x - 1)^2 + 1/(x - 1)^3</span>
</pre></div>
</div>
<p>You can explicitly specify which variable is used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">partial_fraction</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">x/(x^3 - 3*x^2 + 3*x - 1) + 1/(y + 1) - 2/(y + 1)^2 + 1/(y + 1)^3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a symbolic expression. All arguments are passed onto the standard plot command.</p>
<p>EXAMPLES:</p>
<p>This displays a straight line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>This draws a red oscillatory curve:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">),</span> <span class="n">rgbcolor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Another plot using the variable theta:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;theta&#39;</span><span class="p">)</span>
<span class="go">theta</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span> <span class="o">-</span> <span class="n">erf</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>A very thick green plot with a frame:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="p">),</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">rgbcolor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You can embed 2d plots in 3d space as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span> <span class="n">pi</span><span class="p">),</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">plot3d</span><span class="p">(</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<p>A more complicated family:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span><span class="o">.</span><span class="n">plot3d</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="o">..</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">frame_aspect_ratio</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># long time (5s on sage.math, 2012)</span>
</pre></div>
</div>
<p>A plot involving the floor function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">x</span> <span class="o">*</span> <span class="n">floor</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mf">0.00001</span><span class="p">,</span><span class="mf">1.0</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Sage used to allow symbolic functions with “no arguments”;
this no longer works:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">unsupported operand parent(s) for *: &#39;Integer Ring&#39; and &#39;&lt;class &#39;sage.functions.trig.Function_sin&#39;&gt;&#39;</span>
</pre></div>
</div>
<p>You should evaluate the function first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.poly">
<code class="descname">poly</code><span class="sig-paren">(</span><em>x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Express this symbolic expression as a polynomial in <em>x</em>. If
this is not a polynomial in <em>x</em>, then some coefficients may be
functions of <em>x</em>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is different from <a class="reference internal" href="#sage.symbolic.expression.Expression.polynomial" title="sage.symbolic.expression.Expression.polynomial"><code class="xref py py-meth docutils literal"><span class="pre">polynomial()</span></code></a> which returns
a Sage polynomial over a given base ring.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, x&#39;</span><span class="p">)</span>
<span class="go">(a, x)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">p</span>
<span class="go">-2*sqrt(2)*a*x + 2*a^2 + x^2 + x + 1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">poly</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">-2*sqrt(2)*a*x + 2*a^2 + x^2 + x + 1</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">poly</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">poly</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2*a^2 - (2*sqrt(2)*a - 1)*x + x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.polynomial">
<code class="descname">polynomial</code><span class="sig-paren">(</span><em>base_ring=None</em>, <em>ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this symbolic expression as an algebraic polynomial
over the given base ring, if possible.</p>
<p>The point of this function is that it converts purely symbolic
polynomials into optimised algebraic polynomials over a given
base ring.</p>
<p>You can specify either the base ring (<code class="docutils literal"><span class="pre">base_ring</span></code>) you want
the output polynomial to be over, or you can specify the full
polynomial ring (<code class="docutils literal"><span class="pre">ring</span></code>) you want the output polynomial to
be an element of.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">base_ring</span></code> - (optional) the base ring for the polynomial</li>
<li><code class="docutils literal"><span class="pre">ring</span></code> - (optional) the parent for the polynomial</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is different from <a class="reference internal" href="#sage.symbolic.expression.Expression.poly" title="sage.symbolic.expression.Expression.poly"><code class="xref py py-meth docutils literal"><span class="pre">poly()</span></code></a> which is used to rewrite
self as a polynomial in terms of one of the variables.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">x^2 - 2/3*x + 1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">x^2 + 12*x + 1</span>
</pre></div>
</div>
<p>Polynomials can be useful for getting the coefficients of an
expression:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">6</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">[[-5, 0], [6, 2]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[-5, 0, 6]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
<span class="go">{0: -5, 2: 6}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="n">pi</span><span class="o">/</span><span class="n">e</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">RDF</span><span class="p">)</span>  <span class="c1"># abs tol 5e-16</span>
<span class="go">2.718281828459045*x^2 + x + 1.1557273497909217</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">RR</span><span class="p">);</span> <span class="n">g</span>
<span class="go">2.71828182845905*x^2 + x + 1.15572734979092</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="go">2.7182818284590452353602874714*x^2 + x + 1.1557273497909217179100931833</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">CDF</span><span class="p">)</span>  <span class="c1"># abs tol 5e-16</span>
<span class="go">2.718281828459045*x^2 + x + 1.1557273497909217</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
<span class="go">2.71828182845905*x^2 + x + 1.15572734979092</span>
</pre></div>
</div>
<p>We coerce a multivariate polynomial with complex symbolic
coefficients:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">pi</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span> <span class="o">-</span> <span class="n">I</span><span class="p">;</span> <span class="n">f</span>
<span class="go">pi^3*x - y^2*e - I</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">CDF</span><span class="p">)</span>
<span class="go">(-2.71828182846)*y^2 + 31.0062766803*x - 1.0*I</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
<span class="go">(-2.71828182845905)*y^2 + 31.0062766802998*x - 1.00000000000000*I</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">ComplexField</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
<span class="go">(-2.7182818284590452354)*y^2 + 31.006276680299820175*x - 1.0000000000000000000*I</span>
</pre></div>
</div>
<p>Another polynomial:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="n">e</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span> <span class="n">f</span>
<span class="go">x^4*e^4 - I*x^3*e^3 - x^2*e^2 + I*x*e + 1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">CDF</span><span class="p">)</span>   <span class="c1"># abs tol 5e-16</span>
<span class="go">54.598150033144236*x^4 - 20.085536923187668*I*x^3 - 7.38905609893065*x^2 + 2.718281828459045*I*x + 1.0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
<span class="go">54.5981500331442*x^4 - 20.0855369231877*I*x^3 - 7.38905609893065*x^2 + 2.71828182845905*I*x + 1.00000000000000</span>
</pre></div>
</div>
<p>A multivariate polynomial over a finite field:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">7</span><span class="p">;</span> <span class="n">f</span>
<span class="go">(3*x^5 - 5*y^5)^7</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">));</span> <span class="n">g</span>
<span class="go">3*x^35 + 2*y^35</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Multivariate Polynomial Ring in x, y over Finite Field of size 7</span>
</pre></div>
</div>
<p>We check to make sure constants are converted appropriately:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="go">pi*x</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">ring</span></code> parameter, you can also create polynomials
rings over the symbolic ring where only certain variables are
considered generators of the polynomial ring and the others
are considered “constants”:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">10</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">SR</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">[a, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.power">
<code class="descname">power</code><span class="sig-paren">(</span><em>exp</em>, <em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current expression to the power <code class="docutils literal"><span class="pre">exp</span></code>.</p>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x^4</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(x^2)^2</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">x^4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.power_series">
<code class="descname">power_series</code><span class="sig-paren">(</span><em>base_ring</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.power_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Return algebraic power series associated to this symbolic
expression, which must be a polynomial in one variable, with
coefficients coercible to the base ring.</p>
<p>The power series is truncated one more than the degree.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">theta</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;theta&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">theta</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">theta</span> <span class="o">-</span> <span class="mi">17</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">power_series</span><span class="p">(</span><span class="n">QQ</span><span class="p">);</span> <span class="n">g</span>
<span class="go">-17/3 + 1/3*theta + theta^3 + O(theta^4)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">3</span>
<span class="go">-4913/27 + 289/9*theta - 17/9*theta^2 + 2602/27*theta^3 + O(theta^4)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Power Series Ring in theta over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.primitive_part">
<code class="descname">primitive_part</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.primitive_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the primitive polynomial of this expression when
considered as a polynomial in <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>See also <a class="reference internal" href="#sage.symbolic.expression.Expression.unit" title="sage.symbolic.expression.Expression.unit"><code class="xref py py-meth docutils literal"><span class="pre">unit()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.content" title="sage.symbolic.expression.Expression.content"><code class="xref py py-meth docutils literal"><span class="pre">content()</span></code></a>, and
<a class="reference internal" href="#sage.symbolic.expression.Expression.unit_content_primitive" title="sage.symbolic.expression.Expression.unit_content_primitive"><code class="xref py py-meth docutils literal"><span class="pre">unit_content_primitive()</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> – a symbolic expression.</li>
</ul>
<p>OUTPUT:</p>
<p>The primitive polynomial as a symbolic expression. It is
defined as the quotient by the <a class="reference internal" href="#sage.symbolic.expression.Expression.unit" title="sage.symbolic.expression.Expression.unit"><code class="xref py py-meth docutils literal"><span class="pre">unit()</span></code></a> and
<a class="reference internal" href="#sage.symbolic.expression.Expression.content" title="sage.symbolic.expression.Expression.content"><code class="xref py py-meth docutils literal"><span class="pre">content()</span></code></a> parts (with respect to the variable <code class="docutils literal"><span class="pre">s</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">primitive_part</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x + 2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">primitive_part</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2*x + 1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">primitive_part</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">4*x + 1</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">primitive_part</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + 2*sin(y)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.prod">
<code class="descname">prod</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the symbolic product <span class="math">\(\prod_{v = a}^b expression\)</span> with
respect to the variable <span class="math">\(v\)</span> with endpoints <span class="math">\(a\)</span> and <span class="math">\(b\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expression</span></code> - a symbolic expression</li>
<li><code class="docutils literal"><span class="pre">v</span></code> - a variable or variable name</li>
<li><code class="docutils literal"><span class="pre">a</span></code> - lower endpoint of the product</li>
<li><code class="docutils literal"><span class="pre">b</span></code> - upper endpoint of the product</li>
<li><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: <code class="docutils literal"><span class="pre">'maxima'</span></code>)  one of<ul>
<li><code class="docutils literal"><span class="pre">'maxima'</span></code> - use Maxima (the default)</li>
<li><code class="docutils literal"><span class="pre">'giac'</span></code> - (optional) use Giac</li>
<li><code class="docutils literal"><span class="pre">'sympy'</span></code> - use SymPy</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">hold</span></code> - (default: <code class="docutils literal"><span class="pre">False</span></code>) if <code class="docutils literal"><span class="pre">True</span></code> don’t evaluate</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.pyobject">
<code class="descname">pyobject</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.pyobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the underlying Python object.</p>
<p>OUTPUT:</p>
<p>The Python object corresponding to this expression, assuming
this expression is a single numerical value or an infinity
representable in Python. Otherwise, a <code class="docutils literal"><span class="pre">TypeError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="mf">17.3</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pyobject</span><span class="p">()</span>
<span class="go">-17.3000000000000</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pyobject</span><span class="p">()</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Integers and Rationals are converted internally though, so you
won’t get back the same object:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="mi">17</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pyobject</span><span class="p">()</span>
<span class="go">-17/3</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pyobject</span><span class="p">()</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.radical_simplify">
<code class="descname">radical_simplify</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.radical_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.canonicalize_radical" title="sage.symbolic.expression.Expression.canonicalize_radical"><code class="xref py py-meth docutils literal"><span class="pre">canonicalize_radical()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/11912">trac ticket #11912</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.rational_expand">
<code class="descname">rational_expand</code><span class="sig-paren">(</span><em>side=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.rational_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand this symbolic expression. Products of sums and exponentiated
sums are multiplied out, numerators of rational expressions which
are sums are split into their respective terms, and multiplications
are distributed over addition at all levels.</p>
<p>EXAMPLES:</p>
<p>We expand the expression <span class="math">\((x-y)^5\)</span> using both
method and functional notation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">x^5 - 5*x^4*y + 10*x^3*y^2 - 10*x^2*y^3 + 5*x*y^4 - y^5</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^5 - 5*x^4*y + 10*x^3*y^2 - 10*x^2*y^3 + 5*x*y^4 - y^5</span>
</pre></div>
</div>
<p>We expand some other expressions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">x^3/(y - 1) - 3*x^2/(y - 1) + 3*x/(y - 1) - 1/(y - 1)</span>
<span class="gp">sage: </span><span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">x^2 + 2*x*sin(x^2 + 2*x*y + y^2) + sin(x^2 + 2*x*y + y^2)^2</span>
</pre></div>
</div>
<p>Observe that <a class="reference internal" href="#sage.symbolic.expression.Expression.expand" title="sage.symbolic.expression.Expression.expand"><code class="xref py py-meth docutils literal"><span class="pre">expand()</span></code></a> also expands function arguments:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fx</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span> <span class="n">fx</span>
<span class="go">f((x + 1)*x)</span>
<span class="gp">sage: </span><span class="n">fx</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">f(x^2 + x)</span>
</pre></div>
</div>
<p>We can expand individual sides of a relation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">13</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">256*x^2 - 416*x + 169 == 9/2*x^2 + 15*x + 25/2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="go">256*x^2 - 416*x + 169 == 1/2*(3*x + 5)^2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="go">(16*x - 13)^2 == 9/2*x^2 + 15*x + 25/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.rational_simplify">
<code class="descname">rational_simplify</code><span class="sig-paren">(</span><em>algorithm='full'</em>, <em>map=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.rational_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify rational expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - symbolic expression</li>
<li><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: ‘full’) string which switches the
algorithm for simplifications. Possible values are<ul>
<li>‘simple’ (simplify rational functions into quotient of two
polynomials),</li>
<li>‘full’ (apply repeatedly, if necessary)</li>
<li>‘noexpand’ (convert to commmon denominator and add)</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">map</span></code> - (default: False) if True, the result is an
expression whose leading operator is the same as that of the
expression <code class="docutils literal"><span class="pre">self</span></code> but whose subparts are the results of
applying simplification rules to the corresponding subparts
of the expressions.</li>
</ul>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.rational_simplify" title="sage.symbolic.expression.Expression.rational_simplify"><code class="xref py py-meth docutils literal"><span class="pre">rational_simplify()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rational" title="sage.symbolic.expression.Expression.simplify_rational"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rational()</span></code></a>
are the same</p>
<p>DETAILS: We call Maxima functions ratsimp, fullratsimp and
xthru. If each part of the expression has to be simplified
separately, we use Maxima function map.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">sin(x/(x^2 + x))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">sin(1/(x + 1))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span> <span class="n">f</span>
<span class="go">-((x + 1)*sqrt(x - 1) - (x - 1)^(3/2))/sqrt((x + 1)*(x - 1))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">-2*sqrt(x - 1)/sqrt(x^2 - 1)</span>
</pre></div>
</div>
<p>With <code class="docutils literal"><span class="pre">map=True</span></code> each term in a sum is simplified separately
and thus the resuls are shorter for functions which are
combination of rational and nonrational functions. In the
following example, we use this option if we want not to
combine logarithm and the rational function into one
fraction:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="n">ln</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">(x^2 + x - log(x) - 2)/(x + 2)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">(</span><span class="nb">map</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">x - log(x)/(x + 2) - 1</span>
</pre></div>
</div>
<p>Here is an example from the Maxima documentation of where
<code class="docutils literal"><span class="pre">algorithm='simple'</span></code> produces an (possibly useful) intermediate
step:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;simple&#39;</span><span class="p">)</span>
<span class="go">(x^(2*y) - 2*x^y + 1)/(x^y - 1)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">x^y - 1</span>
</pre></div>
</div>
<p>With option <code class="docutils literal"><span class="pre">algorithm='noexpand'</span></code> we only convert to common
denominators and add. No expansion of products is performed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">(2*x^2 + 5*x + 4)/(x^3 + 5*x^2 + 8*x + 4)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;noexpand&#39;</span><span class="p">)</span>
<span class="go">((x + 2)^2 + (x + 1)*x)/((x + 2)^2*(x + 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.real">
<code class="descname">real</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real part of this symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">real_part(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2.0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2.00000000000000</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">log(abs(x))</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">real_part(2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">real_part</span><span class="p">(</span><span class="n">I</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">real_part(I)</span>
<span class="gp">sage: </span><span class="n">real_part</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.real_part">
<code class="descname">real_part</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.real_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real part of this symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">real_part(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2.0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2.00000000000000</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">log(abs(x))</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">real_part(2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">real_part</span><span class="p">(</span><span class="n">I</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">real_part(I)</span>
<span class="gp">sage: </span><span class="n">real_part</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_part</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.rectform">
<code class="descname">rectform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.rectform" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this symbolic expression to rectangular form; that
is, the form <span class="math">\(a + bi\)</span> where <span class="math">\(a\)</span> and <span class="math">\(b\)</span> are real numbers and
<span class="math">\(i\)</span> is the imaginary unit.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The name “rectangular” comes from the fact that, in the
complex plane, <span class="math">\(a\)</span> and <span class="math">\(bi\)</span> are perpendicular.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> – the expression to convert.</li>
</ul>
<p>OUTPUT:</p>
<p>A new expression, equivalent to the original, but expressed in
the form <span class="math">\(a + bi\)</span>.</p>
<p>ALGORITHM:</p>
<p>We call Maxima’s <code class="docutils literal"><span class="pre">rectform()</span></code> and return the result unmodified.</p>
<p>EXAMPLES:</p>
<p>The exponential form of <span class="math">\(\sin(x)\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">I</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">rectform</span><span class="p">()</span>
<span class="go">sin(x)</span>
</pre></div>
</div>
<p>And <span class="math">\(\cos(x)\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">rectform</span><span class="p">()</span>
<span class="go">cos(x)</span>
</pre></div>
</div>
<p>In some cases, this will simplify the given expression. For
example, here, <span class="math">\(e^{ik\pi}\)</span>, <span class="math">\(\sin(k\pi)=0\)</span> should cancel
leaving only <span class="math">\(\cos(k\pi)\)</span> which can then be simplified:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">rectform</span><span class="p">()</span>
<span class="go">(-1)^k</span>
</pre></div>
</div>
<p>However, in general, the resulting expression may be more
complicated than the original:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">rectform</span><span class="p">()</span>
<span class="go">cos(x) + I*sin(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.reduce_trig">
<code class="descname">reduce_trig</code><span class="sig-paren">(</span><em>var=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.reduce_trig" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine products and powers of trigonometric and hyperbolic
sin’s and cos’s of x into those of multiples of x. It also
tries to eliminate these functions when they occur in
denominators.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - a symbolic expression</li>
<li><code class="docutils literal"><span class="pre">var</span></code> - (default: None) the variable which is used for
these transformations. If not specified, all variables are
used.</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">reduce_trig</span><span class="p">()</span>
<span class="go">-1/2*cos(2*y) + 1/8*sin(4*x) + 1/4*sin(2*x) + 1/2</span>
</pre></div>
</div>
<p>To reduce only the expressions involving x we use optional parameter:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">reduce_trig</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">sin(y)^2 + 1/8*sin(4*x) + 1/4*sin(2*x)</span>
</pre></div>
</div>
<p>ALIASES: <a class="reference internal" href="#sage.symbolic.expression.Expression.trig_reduce" title="sage.symbolic.expression.Expression.trig_reduce"><code class="xref py py-meth docutils literal"><span class="pre">trig_reduce()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.reduce_trig" title="sage.symbolic.expression.Expression.reduce_trig"><code class="xref py py-meth docutils literal"><span class="pre">reduce_trig()</span></code></a> are the same</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.residue">
<code class="descname">residue</code><span class="sig-paren">(</span><em>symbol</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.residue" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the residue of <code class="docutils literal"><span class="pre">self</span></code> with respect to <code class="docutils literal"><span class="pre">symbol</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">symbol</span></code> - a symbolic variable or symbolic equality such
as <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">5</span></code>. If an equality is given, the expansion is
around the value on the right hand side of the equality,
otherwise at <code class="docutils literal"><span class="pre">0</span></code>.</li>
</ul>
<p>OUTPUT:</p>
<p>The residue of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>Say, <code class="docutils literal"><span class="pre">symbol</span></code> is <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">a</span></code>, then this function calculates
the residue of <code class="docutils literal"><span class="pre">self</span></code> at <span class="math">\(x=a\)</span>, i.e., the coefficient of
<span class="math">\(1/(x-a)\)</span> of the series expansion of <code class="docutils literal"><span class="pre">self</span></code> around <span class="math">\(a\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;q, n, z&#39;</span><span class="p">)</span>
<span class="go">(q, n, z)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="o">/</span><span class="n">q</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">z</span> <span class="o">==</span> <span class="n">q</span><span class="p">)</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">(n + 1)/q^n</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="go">s</span>
<span class="gp">sage: </span><span class="n">zeta</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>We can also compute the residue at more general places,
given that the pole is recognized:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">gamma</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)))</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">2</span><span class="o">*</span><span class="n">I</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">k</span><span class="p">)</span>
<span class="go">gamma(2*I*pi*k + 1)</span>
<span class="gp">sage: </span><span class="n">csc</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">residue</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">k</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.resultant">
<code class="descname">resultant</code><span class="sig-paren">(</span><em>other</em>, <em>var</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.resultant" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the resultant of this polynomial expression and the first
argument with respect to the variable given as the second
argument.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a b n k u x y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">resultant</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">resultant</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">-2*y</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">resultant</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">a</span><span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">u</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">b^4*y^2 - 4*b^3*y^3 + 6*b^2*y^4 - 4*b*y^5 + y^6</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">resultant</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">resultant(): arguments must be polynomials</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.rhs">
<code class="descname">rhs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.rhs" title="Permalink to this definition">¶</a></dt>
<dd><p>If self is a relational expression, return the right hand side
of the relation.  Otherwise, raise a ValueError.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">right_hand_side</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">rhs</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.right">
<code class="descname">right</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.right" title="Permalink to this definition">¶</a></dt>
<dd><p>If self is a relational expression, return the right hand side
of the relation.  Otherwise, raise a ValueError.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">right_hand_side</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">rhs</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.right_hand_side">
<code class="descname">right_hand_side</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.right_hand_side" title="Permalink to this definition">¶</a></dt>
<dd><p>If self is a relational expression, return the right hand side
of the relation.  Otherwise, raise a ValueError.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">right_hand_side</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">rhs</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
<span class="go">x^2 - 2*x + 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.roots">
<code class="descname">roots</code><span class="sig-paren">(</span><em>x=None</em>, <em>explicit_solutions=True</em>, <em>multiplicities=True</em>, <em>ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.roots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return roots of <code class="docutils literal"><span class="pre">self</span></code> that can be found exactly,
possibly with multiplicities.  Not all roots are guaranteed to
be found.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is <em>not</em> a numerical solver - use <code class="docutils literal"><span class="pre">find_root</span></code> to
solve for self == 0 numerically on an interval.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">x</span></code> - variable to view the function in terms of
(use default variable if not given)</li>
<li><code class="docutils literal"><span class="pre">explicit_solutions</span></code> - bool (default True); require that
roots be explicit rather than implicit</li>
<li><code class="docutils literal"><span class="pre">multiplicities</span></code> - bool (default True); when True, return
multiplicities</li>
<li><code class="docutils literal"><span class="pre">ring</span></code> - a ring (default None): if not None, convert
self to a polynomial over ring and find roots over ring</li>
</ul>
<p>OUTPUT:</p>
<p>A list of pairs <code class="docutils literal"><span class="pre">(root,</span> <span class="pre">multiplicity)</span></code> or list of roots.</p>
<p>If there are infinitely many roots, e.g., a function like
<span class="math">\(\sin(x)\)</span>, only one is returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, a&#39;</span><span class="p">)</span>
<span class="go">(x, a)</span>
</pre></div>
</div>
<p>A simple example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span>
<span class="go">[(-1, 2), (1, 2)]</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[-1, 1]</span>
</pre></div>
</div>
<p>A complicated example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">expand</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="p">));</span> <span class="n">f</span>
<span class="go">-a*x^8 + x^9 + 2*a*x^6 - 2*x^7 - 2*a*x^2 + 2*x^3 + a - x</span>
</pre></div>
</div>
<p>The default variable is <span class="math">\(a\)</span>, since it is the first in
alphabetical order:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span>
<span class="go">[(x, 1)]</span>
</pre></div>
</div>
<p>As a polynomial in <span class="math">\(a\)</span>, <span class="math">\(x\)</span> is indeed a root:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">poly</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^9 - 2*x^7 + 2*x^3 - (x^8 - 2*x^6 + 2*x^2 - 1)*a - x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>The roots in terms of <span class="math">\(x\)</span> are what we expect:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[(a, 1), (-I, 1), (I, 1), (1, 3), (-1, 3)]</span>
</pre></div>
</div>
<p>Only one root of <span class="math">\(\sin(x) = 0\)</span> is given:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[(0, 1)]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to solve a greater variety of equations
using <code class="docutils literal"><span class="pre">solve()</span></code> and the keyword <code class="docutils literal"><span class="pre">to_poly_solve</span></code>,
but only at the price of possibly encountering
approximate solutions.  See documentation for f.solve
for more details.</p>
</div>
<p>We derive the roots of a general quadratic polynomial:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b,c,x&#39;</span><span class="p">)</span>
<span class="go">(a, b, c, x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[(-1/2*(b + sqrt(b^2 - 4*a*c))/a, 1), (-1/2*(b - sqrt(b^2 - 4*a*c))/a, 1)]</span>
</pre></div>
</div>
<p>By default, all the roots are required to be explicit rather than
implicit. To get implicit roots, pass <code class="docutils literal"><span class="pre">explicit_solutions=False</span></code>
to <code class="docutils literal"><span class="pre">.roots()</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">8</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">9</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">8</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">no explicit roots found</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[((2^(8/9) + x^(8/9) - 2^(1/9) - x^(1/9))/(2^(8/9) - 2^(1/9)), 1)]</span>
</pre></div>
</div>
<p>Another example, but involving a degree 5 poly whose roots do not
get computed explicitly:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">17</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">no explicit roots found</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[(x^5 + x^3 + 17*x + 1, 1)]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">explicit_solutions</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[x^5 + x^3 + 17*x + 1]</span>
</pre></div>
</div>
<p>Now let us find some roots over different rings:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">CC</span><span class="p">)</span>
<span class="go">[(-0.0588115223184..., 1), (-1.331099917875... - 1.52241655183732*I, 1), (-1.331099917875... + 1.52241655183732*I, 1), (1.36050567903502 - 1.51880872209965*I, 1), (1.36050567903502 + 1.51880872209965*I, 1)]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mf">2.5</span><span class="o">*</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">RR</span><span class="p">)</span>
<span class="go">[(-0.058811522318449..., 1)]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">CC</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[-0.05881152231844..., -1.331099917875... - 1.52241655183732*I, -1.331099917875... + 1.52241655183732*I, 1.36050567903502 - 1.51880872209965*I, 1.36050567903502 + 1.51880872209965*I]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[-0.05881152231844944?, -1.331099917875796? - 1.522416551837318?*I, -1.331099917875796? + 1.522416551837318?*I, 1.360505679035020? - 1.518808722099650?*I, 1.360505679035020? + 1.518808722099650?*I]</span>
</pre></div>
</div>
<p>Root finding over finite fields:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="go">[(3, 1), (4*a + 6, 2), (3*a + 3, 2)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.round">
<code class="descname">round</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.round" title="Permalink to this definition">¶</a></dt>
<dd><p>Round this expression to the nearest integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">43203735824841025516773866131535024</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="go">207855083711803945</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="o">*</span><span class="mi">1000</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">();</span> <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)[</span><span class="o">-</span><span class="mi">10</span><span class="p">:])</span>
<span class="go">3333333333</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">110</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="go">-10</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">115</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="go">-11</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">could not convert sqrt(-3) to a real number</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.series">
<code class="descname">series</code><span class="sig-paren">(</span><em>symbol</em>, <em>order=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.series" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the power series expansion of self in terms of the
given variable to the given order.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">symbol</span></code> - a symbolic variable or symbolic equality
such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">5</span></code>; if an equality is given, the
expansion is around the value on the right hand side
of the equality</li>
<li><code class="docutils literal"><span class="pre">order</span></code> - an integer; if nothing given, it is set
to the global default (<code class="docutils literal"><span class="pre">20</span></code>), which can be changed
using <a class="reference external" href="../../../misc/sage/misc/defaults.html#sage.misc.defaults.set_series_precision" title="(in Sage Reference Manual: Utilities v8.2)"><code class="xref py py-func docutils literal"><span class="pre">set_series_precision()</span></code></a></li>
</ul>
<p>OUTPUT:</p>
<p>A power series.</p>
<p>To truncate the power series and obtain a normal expression, use the
<a class="reference internal" href="#sage.symbolic.expression.Expression.truncate" title="sage.symbolic.expression.Expression.truncate"><code class="xref py py-meth docutils literal"><span class="pre">truncate()</span></code></a> command.</p>
<p>EXAMPLES:</p>
<p>We expand a polynomial in <span class="math">\(x\)</span> about 0, about <span class="math">\(1\)</span>, and also truncate
it back to a polynomial:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">);</span> <span class="n">f</span>
<span class="go">x^3 - x^2*sin(y) - 5*x + 3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="n">g</span>
<span class="go">3 + (-5)*x + (-sin(y))*x^2 + 1*x^3 + Order(x^4)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">truncate</span><span class="p">()</span>
<span class="go">x^3 - x^2*sin(y) - 5*x + 3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="n">g</span>
<span class="go">(-sin(y) - 1) + (-2*sin(y) - 2)*(x - 1) + (-sin(y) + 3)*(x - 1)^2 + 1*(x - 1)^3 + Order((x - 1)^4)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">truncate</span><span class="p">();</span> <span class="n">h</span>
<span class="go">(x - 1)^3 - (x - 1)^2*(sin(y) - 3) - 2*(x - 1)*(sin(y) + 1) - sin(y) - 1</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">x^3 - x^2*sin(y) - 5*x + 3</span>
</pre></div>
</div>
<p>We computer another series expansion of an analytic function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">1*x^(-1) + (-1/6)*x + 1/120*x^3 + (-1/5040)*x^5 + Order(x^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1*x^(-1) + (-1/6)*x + ... + Order(x^20)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(sin(1)) + (cos(1) - 2*sin(1))*(x - 1) + (-2*cos(1) + 5/2*sin(1))*(x - 1)^2 + Order((x - 1)^3)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">truncate</span><span class="p">()</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">-2*x^2*cos(1) + 5/2*x^2*sin(1) + 5*x*cos(1) - 7*x*sin(1) - 3*cos(1) + 11/2*sin(1)</span>
</pre></div>
</div>
<p>Expressions formed by combining series can be expanded
by applying series again:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(1 + 1*x + 1*x^2 + Order(x^3)) + (1 + (-1)*x + 1*x^2 + Order(x^3))</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2 + 2*x^2 + Order(x^3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(1 + 1*x + 1*x^2 + Order(x^3))*(1 + (-1)*x + 1*x^2 + Order(x^3))</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1 + 1*x^2 + Order(x^3)</span>
</pre></div>
</div>
<p>Following the GiNaC tutorial, we use John Machin’s amazing
formula <span class="math">\(\pi = 16 \tan^{-1}(1/5) - 4 \tan^{-1}(1/239)\)</span> to compute
digits of <span class="math">\(\pi\)</span>. We expand the arc tangent around 0 and insert
the fractions 1/5 and 1/239.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">atan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1*x + (-1/3)*x^3 + 1/5*x^5 + (-1/7)*x^7 + 1/9*x^9 + Order(x^10)</span>
<span class="gp">sage: </span><span class="nb">float</span><span class="p">(</span><span class="mi">16</span><span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="o">/</span><span class="mi">239</span><span class="p">))</span>
<span class="go">3.1415926824043994</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.show">
<code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty-Print this symbolic expression</p>
<p>This typeset it nicely and prints it immediately.</p>
<p>OUTPUT:</p>
<p>This method does not return anything. Like <code class="docutils literal"><span class="pre">print</span></code>, output
is sent directly to the screen.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">&lt;html&gt;&lt;script type=&quot;math/tex&quot;&gt;\newcommand{\Bold}[1]{\mathbf{#1}}x^{2} + 1&lt;/script&gt;&lt;/html&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify">
<code class="descname">simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a simplified version of this symbolic expression.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently, this just sends the expression to Maxima
and converts it back to Sage.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_full" title="sage.symbolic.expression.Expression.simplify_full"><code class="xref py py-meth docutils literal"><span class="pre">simplify_full()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_trig" title="sage.symbolic.expression.Expression.simplify_trig"><code class="xref py py-meth docutils literal"><span class="pre">simplify_trig()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rational" title="sage.symbolic.expression.Expression.simplify_rational"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rational()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rectform" title="sage.symbolic.expression.Expression.simplify_rectform"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rectform()</span></code></a>
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_factorial" title="sage.symbolic.expression.Expression.simplify_factorial"><code class="xref py py-meth docutils literal"><span class="pre">simplify_factorial()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_log" title="sage.symbolic.expression.Expression.simplify_log"><code class="xref py py-meth docutils literal"><span class="pre">simplify_log()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_real" title="sage.symbolic.expression.Expression.simplify_real"><code class="xref py py-meth docutils literal"><span class="pre">simplify_real()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_hypergeometric" title="sage.symbolic.expression.Expression.simplify_hypergeometric"><code class="xref py py-meth docutils literal"><span class="pre">simplify_hypergeometric()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.canonicalize_radical" title="sage.symbolic.expression.Expression.canonicalize_radical"><code class="xref py py-meth docutils literal"><span class="pre">canonicalize_radical()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span> <span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">a</span><span class="p">);</span> <span class="n">f</span>
<span class="go">x*sin(2)/x^a</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">x^(-a + 1)*sin(2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_exp">
<code class="descname">simplify_exp</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.canonicalize_radical" title="sage.symbolic.expression.Expression.canonicalize_radical"><code class="xref py py-meth docutils literal"><span class="pre">canonicalize_radical()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/11912">trac ticket #11912</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_factorial">
<code class="descname">simplify_factorial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_factorial" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify by combining expressions with factorials, and by
expanding binomials into factorials.</p>
<p>ALIAS: factorial_simplify and simplify_factorial are the same</p>
<p>EXAMPLES:</p>
<p>Some examples are relatively clear:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n,k&#39;</span><span class="p">)</span>
<span class="go">(n, k)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="n">f</span>
<span class="go">factorial(n + 1)/factorial(n)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">()</span>
<span class="go">n + 1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span> <span class="n">f</span>
<span class="go">(n + 1)*factorial(n)</span>
<span class="gp">sage: </span><span class="n">simplify</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">(n + 1)*factorial(n)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">()</span>
<span class="go">factorial(n + 1)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">);</span> <span class="n">f</span>
<span class="go">binomial(n, k)*factorial(k)*factorial(-k + n)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">()</span>
<span class="go">factorial(n)</span>
</pre></div>
</div>
<p>A more complicated example, which needs further processing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">1/2*factorial(x + 1)/factorial(x) + 1/2*factorial(x)/factorial(x - 2)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">simplify_factorial</span><span class="p">();</span> <span class="n">g</span>
<span class="go">1/2*(x - 1)*x + 1/2*x + 1/2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">1/2*x^2 + 1/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_full">
<code class="descname">simplify_full</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_factorial" title="sage.symbolic.expression.Expression.simplify_factorial"><code class="xref py py-meth docutils literal"><span class="pre">simplify_factorial()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rectform" title="sage.symbolic.expression.Expression.simplify_rectform"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rectform()</span></code></a>,
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_trig" title="sage.symbolic.expression.Expression.simplify_trig"><code class="xref py py-meth docutils literal"><span class="pre">simplify_trig()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rational" title="sage.symbolic.expression.Expression.simplify_rational"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rational()</span></code></a>, and
then <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_sum" title="sage.symbolic.expression.Expression.expand_sum"><code class="xref py py-meth docutils literal"><span class="pre">expand_sum()</span></code></a> to self (in that order).</p>
<p>ALIAS: <code class="docutils literal"><span class="pre">simplify_full</span></code> and <code class="docutils literal"><span class="pre">full_simplify</span></code> are the same.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">sin(1/(x + 1))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;n,k&#39;</span><span class="p">)</span>
<span class="go">(n, k)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">()</span>
<span class="go">factorial(n)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_hypergeometric">
<code class="descname">simplify_hypergeometric</code><span class="sig-paren">(</span><em>algorithm='maxima'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_hypergeometric" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify an expression containing hypergeometric or confluent
hypergeometric functions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">algorithm</span></code> – (default: <code class="docutils literal"><span class="pre">'maxima'</span></code>) the algorithm to use for
for simplification. Implemented are <code class="docutils literal"><span class="pre">'maxima'</span></code>, which uses Maxima’s
<code class="docutils literal"><span class="pre">hgfred</span></code> function, and <code class="docutils literal"><span class="pre">'sage'</span></code>, which uses an algorithm
implemented in the hypergeometric module</li>
</ul>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.hypergeometric_simplify" title="sage.symbolic.expression.Expression.hypergeometric_simplify"><code class="xref py py-meth docutils literal"><span class="pre">hypergeometric_simplify()</span></code></a> and
<a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_hypergeometric" title="sage.symbolic.expression.Expression.simplify_hypergeometric"><code class="xref py py-meth docutils literal"><span class="pre">simplify_hypergeometric()</span></code></a> are the same</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">hypergeometric</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="go">....:                x).simplify_hypergeometric()</span>
<span class="go">1/144*x^2*hypergeometric((), (3, 4), x) +...</span>
<span class="go">1/3*x*hypergeometric((), (2, 3), x) + hypergeometric((), (1, 2), x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">hypergeometric</span><span class="p">((),</span> <span class="p">(),</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_hypergeometric</span><span class="p">()</span>
<span class="go">2*e^x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">nest</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">hypergeometric</span><span class="p">([</span><span class="n">y</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">....:  .simplify_hypergeometric())</span>
<span class="go">laguerre(-laguerre(-e^x, x), x)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">nest</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">hypergeometric</span><span class="p">([</span><span class="n">y</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">....:  .simplify_hypergeometric(algorithm=&#39;sage&#39;))</span>
<span class="go">hypergeometric((hypergeometric((e^x,), (1,), x),), (1,), x)</span>
<span class="gp">sage: </span><span class="n">hypergeometric_M</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">simplify_hypergeometric</span><span class="p">()</span>
<span class="go">-2*(x - e^x + 1)/x^2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">hypergeometric_U</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_hypergeometric</span><span class="p">()</span>
<span class="go">2*(x + 1)/x^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_log">
<code class="descname">simplify_log</code><span class="sig-paren">(</span><em>algorithm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify a (real) symbolic expression that contains logarithms.</p>
<p>The given expression is scanned recursively, transforming
subexpressions of the form <span class="math">\(a \log(b) + c \log(d)\)</span> into
<span class="math">\(\log(b^{a} d^{c})\)</span> before simplifying within the <code class="docutils literal"><span class="pre">log()</span></code>.</p>
<p>The user can specify conditions that <span class="math">\(a\)</span> and <span class="math">\(c\)</span> must satisfy
before this transformation will be performed using the optional
parameter <code class="docutils literal"><span class="pre">algorithm</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This is only safe to call if every variable in the given
expression is assumed to be real. The simplification it performs
is in general not valid over the complex numbers. For example:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
<span class="go">-2*I*pi</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - expression to be simplified</li>
<li><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: None) optional, governs the condition
on <span class="math">\(a\)</span> and <span class="math">\(c\)</span> which must be satisfied to contract expression
<span class="math">\(a \log(b) + c \log(d)\)</span>. Values are<ul>
<li><code class="docutils literal"><span class="pre">None</span></code> (use Maxima default, integers),</li>
<li><code class="docutils literal"><span class="pre">'one'</span></code> (1 and -1),</li>
<li><code class="docutils literal"><span class="pre">'ratios'</span></code> (rational numbers),</li>
<li><code class="docutils literal"><span class="pre">'constants'</span></code> (constants),</li>
<li><code class="docutils literal"><span class="pre">'all'</span></code> (all expressions).</li>
</ul>
</li>
</ul>
<p>ALGORITHM:</p>
<p>This uses the Maxima <code class="docutils literal"><span class="pre">logcontract()</span></code> command.</p>
<p>ALIAS:</p>
<p><a class="reference internal" href="#sage.symbolic.expression.Expression.log_simplify" title="sage.symbolic.expression.Expression.log_simplify"><code class="xref py py-meth docutils literal"><span class="pre">log_simplify()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_log" title="sage.symbolic.expression.Expression.simplify_log"><code class="xref py py-meth docutils literal"><span class="pre">simplify_log()</span></code></a> are the same.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y t&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Only two first terms are contracted in the following example;
the logarithm with coefficient <span class="math">\(\frac{1}{2}\)</span> is not contracted:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">log(x*y^2) + 1/2*log(t)</span>
</pre></div>
</div>
<p>To contract all terms in the previous example, we use the
<code class="docutils literal"><span class="pre">'ratios'</span></code> <code class="docutils literal"><span class="pre">algorithm</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;ratios&#39;</span><span class="p">)</span>
<span class="go">log(sqrt(t)*x*y^2)</span>
</pre></div>
</div>
<p>To contract terms with no coefficient (more precisely, with
coefficients <span class="math">\(1\)</span> and <span class="math">\(-1\)</span>), we use the <code class="docutils literal"><span class="pre">'one'</span></code>
<code class="docutils literal"><span class="pre">algorithm</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">-</span><span class="n">log</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">)</span>
<span class="go">2*log(y) + log(x/t)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">log(x*y) - 1/3*log(x + 1)</span>

<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;ratios&#39;</span><span class="p">)</span>
<span class="go">log(x*y/(x + 1)^(1/3))</span>
</pre></div>
</div>
<p><span class="math">\(\pi\)</span> is an irrational number; to contract logarithms in the
following example we have to set <code class="docutils literal"><span class="pre">algorithm</span></code> to <code class="docutils literal"><span class="pre">'constants'</span></code>
or <code class="docutils literal"><span class="pre">'all'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">-</span><span class="n">pi</span><span class="o">*</span><span class="n">log</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;constants&#39;</span><span class="p">)</span>
<span class="go">log(x*y/(x + 1)^pi)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">x*log(9)</span></code> is contracted only if <code class="docutils literal"><span class="pre">algorithm</span></code> is <code class="docutils literal"><span class="pre">'all'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">()</span>
<span class="go">2*x*log(3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">simplify_log</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="go">log(3^(2*x))</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert Marik (11-2009)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_radical">
<code class="descname">simplify_radical</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_radical" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.canonicalize_radical" title="sage.symbolic.expression.Expression.canonicalize_radical"><code class="xref py py-meth docutils literal"><span class="pre">canonicalize_radical()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/11912">trac ticket #11912</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_rational">
<code class="descname">simplify_rational</code><span class="sig-paren">(</span><em>algorithm='full'</em>, <em>map=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_rational" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify rational expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - symbolic expression</li>
<li><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: ‘full’) string which switches the
algorithm for simplifications. Possible values are<ul>
<li>‘simple’ (simplify rational functions into quotient of two
polynomials),</li>
<li>‘full’ (apply repeatedly, if necessary)</li>
<li>‘noexpand’ (convert to commmon denominator and add)</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">map</span></code> - (default: False) if True, the result is an
expression whose leading operator is the same as that of the
expression <code class="docutils literal"><span class="pre">self</span></code> but whose subparts are the results of
applying simplification rules to the corresponding subparts
of the expressions.</li>
</ul>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.rational_simplify" title="sage.symbolic.expression.Expression.rational_simplify"><code class="xref py py-meth docutils literal"><span class="pre">rational_simplify()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_rational" title="sage.symbolic.expression.Expression.simplify_rational"><code class="xref py py-meth docutils literal"><span class="pre">simplify_rational()</span></code></a>
are the same</p>
<p>DETAILS: We call Maxima functions ratsimp, fullratsimp and
xthru. If each part of the expression has to be simplified
separately, we use Maxima function map.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">sin(x/(x^2 + x))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">sin(1/(x + 1))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span> <span class="n">f</span>
<span class="go">-((x + 1)*sqrt(x - 1) - (x - 1)^(3/2))/sqrt((x + 1)*(x - 1))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">-2*sqrt(x - 1)/sqrt(x^2 - 1)</span>
</pre></div>
</div>
<p>With <code class="docutils literal"><span class="pre">map=True</span></code> each term in a sum is simplified separately
and thus the resuls are shorter for functions which are
combination of rational and nonrational functions. In the
following example, we use this option if we want not to
combine logarithm and the rational function into one
fraction:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="n">ln</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">(x^2 + x - log(x) - 2)/(x + 2)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">(</span><span class="nb">map</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">x - log(x)/(x + 2) - 1</span>
</pre></div>
</div>
<p>Here is an example from the Maxima documentation of where
<code class="docutils literal"><span class="pre">algorithm='simple'</span></code> produces an (possibly useful) intermediate
step:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;simple&#39;</span><span class="p">)</span>
<span class="go">(x^(2*y) - 2*x^y + 1)/(x^y - 1)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">x^y - 1</span>
</pre></div>
</div>
<p>With option <code class="docutils literal"><span class="pre">algorithm='noexpand'</span></code> we only convert to common
denominators and add. No expansion of products is performed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">()</span>
<span class="go">(2*x^2 + 5*x + 4)/(x^3 + 5*x^2 + 8*x + 4)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rational</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;noexpand&#39;</span><span class="p">)</span>
<span class="go">((x + 2)^2 + (x + 1)*x)/((x + 2)^2*(x + 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_real">
<code class="descname">simplify_real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify the given expression over the real numbers. This allows
the simplification of <span class="math">\(\sqrt{x^{2}}\)</span> into <span class="math">\(\left|x\right|\)</span> and
the contraction of <span class="math">\(\log(x) + \log(y)\)</span> into <span class="math">\(\log(xy)\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> – the expression to convert.</li>
</ul>
<p>OUTPUT:</p>
<p>A new expression, equivalent to the original one under the
assumption that the variables involved are real.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_real</span><span class="p">()</span>
<span class="go">abs(x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_real</span><span class="p">()</span>
<span class="go">log(x*y^2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_rectform">
<code class="descname">simplify_rectform</code><span class="sig-paren">(</span><em>complexity_measure='string_length'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_rectform" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to simplify this expression by expressing it in the
form <span class="math">\(a + bi\)</span> where both <span class="math">\(a\)</span> and <span class="math">\(b\)</span> are real. This
transformation is generally not a simplification, so we use
the given <code class="docutils literal"><span class="pre">complexity_measure</span></code> to discard
non-simplifications.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> – the expression to simplify.</li>
<li><code class="docutils literal"><span class="pre">complexity_measure</span></code> – (default:
<code class="docutils literal"><span class="pre">sage.symbolic.complexity_measures.string_length</span></code>) a
function taking a symbolic expression as an argument and
returning a measure of that expressions complexity. If
<code class="docutils literal"><span class="pre">None</span></code> is supplied, the simplification will be performed
regardless of the result.</li>
</ul>
<p>OUTPUT:</p>
<p>If the transformation produces a simpler expression (according
to <code class="docutils literal"><span class="pre">complexity_measure</span></code>) then that simpler expression is
returned. Otherwise, the original expression is returned.</p>
<p>ALGORITHM:</p>
<p>We first call <a class="reference internal" href="#sage.symbolic.expression.Expression.rectform" title="sage.symbolic.expression.Expression.rectform"><code class="xref py py-meth docutils literal"><span class="pre">rectform()</span></code></a> on the given
expression. Then, the supplied complexity measure is used to
determine whether or not the result is simpler than the
original expression.</p>
<p>EXAMPLES:</p>
<p>The exponential form of <span class="math">\(\tan(x)\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="n">I</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">I</span><span class="o">*</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rectform</span><span class="p">()</span>
<span class="go">sin(x)/cos(x)</span>
</pre></div>
</div>
<p>This should not be expanded with Euler’s formula since the
resulting expression is longer when considered as a string,
and the default <code class="docutils literal"><span class="pre">complexity_measure</span></code> uses string length to
determine which expression is simpler:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rectform</span><span class="p">()</span>
<span class="go">e^(I*x)</span>
</pre></div>
</div>
<p>However, if we pass <code class="docutils literal"><span class="pre">None</span></code> as our complexity measure, it
is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">I</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_rectform</span><span class="p">(</span><span class="n">complexity_measure</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span>
<span class="go">cos(x) + I*sin(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.simplify_trig">
<code class="descname">simplify_trig</code><span class="sig-paren">(</span><em>expand=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.simplify_trig" title="Permalink to this definition">¶</a></dt>
<dd><p>Optionally expand and then employ identities such as
<span class="math">\(\sin(x)^2 + \cos(x)^2 = 1\)</span>, <span class="math">\(\cosh(x)^2 - \sinh(x)^2 = 1\)</span>,
<span class="math">\(\sin(x)\csc(x) = 1\)</span>, or <span class="math">\(\tanh(x)=\sinh(x)/\cosh(x)\)</span>
to simplify expressions containing tan, sec, etc., to sin,
cos, sinh, cosh.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - symbolic expression</li>
<li><code class="docutils literal"><span class="pre">expand</span></code> - (default:True) if True, expands trigonometric
and hyperbolic functions of sums of angles and of multiple
angles occurring in <code class="docutils literal"><span class="pre">self</span></code> first. For best results,
<code class="docutils literal"><span class="pre">self</span></code> should be expanded. See also <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_trig" title="sage.symbolic.expression.Expression.expand_trig"><code class="xref py py-meth docutils literal"><span class="pre">expand_trig()</span></code></a> to
get more controls on this expansion.</li>
</ul>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.trig_simplify" title="sage.symbolic.expression.Expression.trig_simplify"><code class="xref py py-meth docutils literal"><span class="pre">trig_simplify()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_trig" title="sage.symbolic.expression.Expression.simplify_trig"><code class="xref py py-meth docutils literal"><span class="pre">simplify_trig()</span></code></a> are the same</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">cos(x)^2 + sin(x)^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">cos(x)^2 + sin(x)^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">csc</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cosh</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">(2*sinh(x)^3 + sinh(x))/cosh(x)</span>
</pre></div>
</div>
<p>In some cases we do not want to expand:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">tan</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">(4*cos(x)^2 - 1)*sin(x)/(4*cos(x)^3 - 3*cos(x))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(3*x)/cos(3*x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.sin">
<code class="descname">sin</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.sin" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sin(x^2 + y^2)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">sage</span><span class="o">.</span><span class="n">symbolic</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">sin(1)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">150</span><span class="p">)(</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">0.84147098480789650665250232163029899962256306</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sin</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sin(0)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sin(0)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.sinh">
<code class="descname">sinh</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.sinh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sinh of self.</p>
<p>We have <span class="math">\(\sinh(x) = (e^{x} - e^{-x})/2\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span>
<span class="go">sinh(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span>
<span class="go">sinh(1)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span>
<span class="go">1.17520119364380</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;sinh(1.0)&#39;</span><span class="p">)</span>
<span class="go">1.17520119364380...</span>

<span class="go">sinh(1.0000000000000000000000000)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="go">1.1752011936438014568823819</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span>
<span class="go">1.175201193643802?</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arccosh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">()</span>
<span class="go">sqrt(x + 1)*sqrt(x - 1)</span>
<span class="gp">sage: </span><span class="n">arccosh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sinh(arccosh(x))</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sinh</span><span class="p">(</span><span class="n">arccosh</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sinh(arccosh(x))</span>
<span class="gp">sage: </span><span class="n">sinh</span><span class="p">(</span><span class="n">arccosh</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">sqrt(x + 1)*sqrt(x - 1)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">arccosh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">sqrt(x + 1)*sqrt(x - 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.solve">
<code class="descname">solve</code><span class="sig-paren">(</span><em>x</em>, <em>multiplicities=False</em>, <em>solution_dict=False</em>, <em>explicit_solutions=False</em>, <em>to_poly_solve=False</em>, <em>algorithm=None</em>, <em>domain=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Analytically solve the equation <code class="docutils literal"><span class="pre">self</span> <span class="pre">==</span> <span class="pre">0</span></code> or a univariate
inequality for the variable <span class="math">\(x\)</span>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is not a numerical solver - use <code class="docutils literal"><span class="pre">find_root</span></code> to solve
for self == 0 numerically on an interval.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">x</span></code> - variable(s) to solve for</li>
<li><code class="docutils literal"><span class="pre">multiplicities</span></code> - bool (default: False); if True,
return corresponding multiplicities.  This keyword is
incompatible with <code class="docutils literal"><span class="pre">to_poly_solve=True</span></code> and does not make
any sense when solving an inequality.</li>
<li><code class="docutils literal"><span class="pre">solution_dict</span></code> - bool (default: False); if True or non-zero,
return a list of dictionaries containing solutions. Not used
when solving an inequality.</li>
<li><code class="docutils literal"><span class="pre">explicit_solutions</span></code> - bool (default: False); require that
all roots be explicit rather than implicit. Not used
when solving an inequality.</li>
<li><code class="docutils literal"><span class="pre">to_poly_solve</span></code> - bool (default: False) or string; use
Maxima’s <code class="docutils literal"><span class="pre">to_poly_solver</span></code> package to search for more possible
solutions, but possibly encounter approximate solutions.
This keyword is incompatible with <code class="docutils literal"><span class="pre">multiplicities=True</span></code>
and is not used when solving an inequality. Setting <code class="docutils literal"><span class="pre">to_poly_solve</span></code>
to <code class="docutils literal"><span class="pre">'force'</span></code> omits Maxima’s solve command (useful when
some solutions of trigonometric equations are lost).</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">[z == 1/4*sqrt(5) + 1/4*I*sqrt(2*sqrt(5) + 10) - 1/4, z == -1/4*sqrt(5) + 1/4*I*sqrt(-2*sqrt(5) + 10) - 1/4, z == -1/4*sqrt(5) - 1/4*I*sqrt(-2*sqrt(5) + 10) - 1/4, z == 1/4*sqrt(5) - 1/4*I*sqrt(2*sqrt(5) + 10) - 1/4, z == 1]</span>

<span class="gp">sage: </span><span class="n">solve</span><span class="p">((</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">([z == 1/2*I*sqrt(3) - 1/2, z == -1/2*I*sqrt(3) - 1/2, z == 1], [3, 3, 3])</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="relation.html#sage.symbolic.relation.solve" title="sage.symbolic.relation.solve"><code class="xref py py-func docutils literal"><span class="pre">sage.symbolic.relation.solve()</span></code></a> or the output of <code class="docutils literal"><span class="pre">solve?</span></code>
for extensive documentation.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.solve_diophantine">
<code class="descname">solve_diophantine</code><span class="sig-paren">(</span><em>x=None</em>, <em>solution_dict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.solve_diophantine" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve a polynomial equation in the integers (a so called Diophantine).</p>
<p>If the argument is just a polynomial expression, equate to zero.
If <code class="docutils literal"><span class="pre">solution_dict=True</span></code> return a list of dictionaries instead of
a list of tuples.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">solve_diophantine</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">9</span><span class="p">)</span>
<span class="go">[-3, 3]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">25</span><span class="p">))</span>
<span class="go">[(-5, 0), (-4, -3), (-4, 3), (-3, -4), (-3, 4), (0, -5)...</span>
</pre></div>
</div>
<p>The function is used when <code class="docutils literal"><span class="pre">solve()</span></code> is called with all variables
assumed integer:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)))</span>
<span class="go">[(-1, -1), (1, 1)]</span>
</pre></div>
</div>
<p>You can also pick specific variables, and get the solution as
a dictionary:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">[-10, -5, -2, -1, 1, 2, 5, 10]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)))</span>
<span class="go">[(-9, -1), (-4, -2), (-1, -5), (0, -10), (2, 10), (3, 5), (6, 2), (11, 1)]</span>
<span class="gp">sage: </span><span class="n">res</span> <span class="o">=</span> <span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">10</span><span class="p">,</span> <span class="n">solution_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sol</span> <span class="o">=</span> <span class="p">[{</span><span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="mi">9</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="mi">11</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="mi">6</span><span class="p">},</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="mi">3</span><span class="p">}]</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">solution</span> <span class="ow">in</span> <span class="n">res</span> <span class="k">for</span> <span class="n">solution</span> <span class="ow">in</span> <span class="n">sol</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">sol</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If the solution is parametrized the parameter(s) are not defined,
but you can substitute them with specific integer values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sol</span><span class="o">=</span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">==</span><span class="mi">0</span><span class="p">);</span> <span class="n">sol</span>
<span class="go">(t, t^2)</span>
<span class="gp">sage: </span><span class="p">[(</span><span class="n">sol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">),</span><span class="n">sol</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">))</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="go">[(-3, 9), (-2, 4), (-1, 1), (0, 0), (1, 1), (2, 4), (3, 9)]</span>
<span class="gp">sage: </span><span class="n">sol</span> <span class="o">=</span> <span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">sol</span>
<span class="go">(2*p*q, p^2 - q^2, p^2 + q^2)</span>
<span class="gp">sage: </span><span class="p">[(</span><span class="n">sol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="o">=</span><span class="n">q</span><span class="p">),</span><span class="n">sol</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="o">=</span><span class="n">q</span><span class="p">),</span><span class="n">sol</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="o">=</span><span class="n">q</span><span class="p">))</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="go">[(2, 0, 2), (4, -3, 5), (6, -8, 10), (4, 3, 5), (8, 0, 8), (12, -5, 13), (6, 8, 10), (12, 5, 13), (18, 0, 18)]</span>
</pre></div>
</div>
<p>Solve Brahmagupta-Pell equations:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sol</span> <span class="o">=</span> <span class="n">solve_diophantine</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span> <span class="n">sol</span>
<span class="go">[(-sqrt(2)*(2*sqrt(2) + 3)^t + sqrt(2)*(-2*sqrt(2) + 3)^t - 3/2*(2*sqrt(2) + 3)^t - 3/2*(-2*sqrt(2) + 3)^t,...</span>
<span class="gp">sage: </span><span class="p">[(</span><span class="n">sol</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">(),</span><span class="n">sol</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">simplify_full</span><span class="p">())</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="go">[(1, 0), (3, -2), (17, -12), (99, -70), (577, -408), (3363, -2378)]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.sympy.org/latest/modules/solvers/diophantine.html">http://docs.sympy.org/latest/modules/solvers/diophantine.html</a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.sqrt">
<code class="descname">sqrt</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the square root of this expression</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">sqrt(2)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">sqrt(x^2 + y^2)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">sqrt(x^2)</span>
</pre></div>
</div>
<p>Immediate simplifications are applied:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sqrt(x^2)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">abs(x)</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-x</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^2</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">symbol</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^2</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">abs(sin(x))</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">abs(x + 1)</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-x + 1</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sqrt(4)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<p>To use this parameter in functional notation, you must coerce to
the symbolic ring:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sqrt(4)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">_do_sqrt() got an unexpected keyword argument &#39;hold&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.step">
<code class="descname">step</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of the unit step function, which is 0 for
negative x, 1 for 0, and 1 for positive x.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="../../../functions/sage/functions/generalized.html#sage.functions.generalized.FunctionUnitStep" title="(in Sage Reference Manual: Functions v8.2)"><code class="xref py py-class docutils literal"><span class="pre">sage.functions.generalized.FunctionUnitStep</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">hold</span></code> parameter it is possible to prevent automatic
evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">unit_step(2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.subs">
<code class="descname">subs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.subs" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitute the given subexpressions in this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z,a,b,c,d,f,g&#39;</span><span class="p">)</span>
<span class="go">(x, y, z, a, b, c, d, f, g)</span>
<span class="gp">sage: </span><span class="n">w0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
</pre></div>
</div>
<p>Substitute with keyword arguments (works only with symbols):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="go">(y + z)^3 + a^2 + 361</span>
</pre></div>
</div>
<p>Substitute with a dictionary argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">:</span> <span class="n">c</span><span class="p">})</span>
<span class="go">(x + y)^3 + b^2 + c</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">w0</span><span class="o">^</span><span class="mi">2</span><span class="p">:</span> <span class="n">w0</span><span class="o">^</span><span class="mi">3</span><span class="p">})</span>
<span class="go">a^3 + b^3 + (x + y)^3</span>
</pre></div>
</div>
<p>Substitute with one or more relational expressions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">w0</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">a^3 + b^3 + (x + y)^3</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">w0</span> <span class="o">==</span> <span class="n">w0</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(x^2 + y^2)^18 + a^16 + b^16</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>
</pre></div>
</div>
<p>Any number of arguments is accepted:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">},</span> <span class="n">b</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">([</span><span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span><span class="p">],</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">b</span><span class="p">:</span><span class="mi">3</span><span class="p">})</span>
<span class="go">138</span>
</pre></div>
</div>
<p>It can even accept lists of lists:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn1</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">soln</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">eqn1</span><span class="p">,</span> <span class="n">eqn2</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">soln</span>
<span class="go">[[x == b/a, y == -1]]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">soln</span><span class="p">)</span>
<span class="go">b/a - 1</span>
</pre></div>
</div>
<p>Duplicate assignments will throw an error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">},</span> <span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">duplicate substitution for a, got values b and c</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">([</span><span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">],</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">duplicate substitution for x, got values 1 and 2</span>
</pre></div>
</div>
<p>All substitutions are performed at the same time:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="n">c</span><span class="p">})</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>
</pre></div>
</div>
<p>Substitutions are done term by term, in other words Sage is not
able to identify partial sums in a substitution (see <a class="reference external" href="https://trac.sagemath.org/18396">trac ticket #18396</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">)</span>
<span class="go">y^4 + y^2 + y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>             <span class="c1"># one term is fine</span>
<span class="go">x^4 + x + y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>         <span class="c1"># partial sum does not work</span>
<span class="go">x^4 + x^2 + x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>   <span class="c1"># whole sum is fine</span>
<span class="go">y</span>
</pre></div>
</div>
<p>Note that it is the very same behavior as in Maxima:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="s1">&#39;x^4 + x^2 + x&#39;</span>
<span class="gp">sage: </span><span class="n">subs</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;x^2&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;x^2+x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;x^4+x^2+x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">)]</span>

<span class="gp">sage: </span><span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;{}, {}={}&#39;</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
<span class="go">....:     maxima.eval(cmd.format(E, s1, s2))</span>
<span class="go">&#39;y^4+y^2+y&#39;</span>
<span class="go">&#39;y+x^4+x&#39;</span>
<span class="go">&#39;x^4+x^2+x&#39;</span>
<span class="go">&#39;y&#39;</span>
</pre></div>
</div>
<p>Or as in Maple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;subs({}={}, {})&#39;</span>              <span class="c1"># optional - maple</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>                   <span class="c1"># optional - maple</span>
<span class="go">....:     maple.eval(cmd.format(s1,s2, E)) # optional - maple</span>
<span class="go">&#39;y^4+y^2+y&#39;</span>
<span class="go">&#39;x^4+x+y&#39;</span>
<span class="go">&#39;x^4+x^2+x&#39;</span>
<span class="go">&#39;y&#39;</span>
</pre></div>
</div>
<p>But Mathematica does something different on the third example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;{} /. {} -&gt; {}&#39;</span>                    <span class="c1"># optional - mathematica</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>                        <span class="c1"># optional - mathematica</span>
<span class="go">....:     mathematica.eval(cmd.format(E,s1,s2)) # optional - mathematica</span>
<span class="go">     2    4</span>
<span class="go">y + y  + y</span>
<span class="go">     4</span>
<span class="go">x + x  + y</span>
<span class="go"> 4</span>
<span class="go">x  + y</span>
<span class="go">y</span>
</pre></div>
</div>
<p>The same, with formatting more suitable for cut and paste:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>                        <span class="c1"># optional - mathematica</span>
<span class="go">....:     mathematica(cmd.format(E,s1,s2))      # optional - mathematica</span>
<span class="go">y + y^2 + y^4</span>
<span class="go">x + x^4 + y</span>
<span class="go">x^4 + y</span>
<span class="go">y</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.subs_expr">
<code class="descname">subs_expr</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.subs_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.substitute" title="sage.symbolic.expression.Expression.substitute"><code class="xref py py-meth docutils literal"><span class="pre">substitute()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/12834">trac ticket #12834</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.substitute">
<code class="descname">substitute</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.substitute" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitute the given subexpressions in this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z,a,b,c,d,f,g&#39;</span><span class="p">)</span>
<span class="go">(x, y, z, a, b, c, d, f, g)</span>
<span class="gp">sage: </span><span class="n">w0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
</pre></div>
</div>
<p>Substitute with keyword arguments (works only with symbols):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="go">(y + z)^3 + a^2 + 361</span>
</pre></div>
</div>
<p>Substitute with a dictionary argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">:</span> <span class="n">c</span><span class="p">})</span>
<span class="go">(x + y)^3 + b^2 + c</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">w0</span><span class="o">^</span><span class="mi">2</span><span class="p">:</span> <span class="n">w0</span><span class="o">^</span><span class="mi">3</span><span class="p">})</span>
<span class="go">a^3 + b^3 + (x + y)^3</span>
</pre></div>
</div>
<p>Substitute with one or more relational expressions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">w0</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">w0</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">a^3 + b^3 + (x + y)^3</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">w0</span> <span class="o">==</span> <span class="n">w0</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(x^2 + y^2)^18 + a^16 + b^16</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>
</pre></div>
</div>
<p>Any number of arguments is accepted:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">},</span> <span class="n">b</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">([</span><span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span><span class="p">],</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">b</span><span class="p">:</span><span class="mi">3</span><span class="p">})</span>
<span class="go">138</span>
</pre></div>
</div>
<p>It can even accept lists of lists:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn1</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">eqn2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">soln</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">eqn1</span><span class="p">,</span> <span class="n">eqn2</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">soln</span>
<span class="go">[[x == b/a, y == -1]]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">soln</span><span class="p">)</span>
<span class="go">b/a - 1</span>
</pre></div>
</div>
<p>Duplicate assignments will throw an error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">},</span> <span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">duplicate substitution for a, got values b and c</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">([</span><span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">],</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">duplicate substitution for x, got values 1 and 2</span>
</pre></div>
</div>
<p>All substitutions are performed at the same time:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="n">c</span><span class="p">})</span>
<span class="go">(x + y)^3 + b^2 + c^2</span>
</pre></div>
</div>
<p>Substitutions are done term by term, in other words Sage is not
able to identify partial sums in a substitution (see <a class="reference external" href="https://trac.sagemath.org/18396">trac ticket #18396</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">)</span>
<span class="go">y^4 + y^2 + y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>             <span class="c1"># one term is fine</span>
<span class="go">x^4 + x + y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>         <span class="c1"># partial sum does not work</span>
<span class="go">x^4 + x^2 + x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>   <span class="c1"># whole sum is fine</span>
<span class="go">y</span>
</pre></div>
</div>
<p>Note that it is the very same behavior as in Maxima:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="s1">&#39;x^4 + x^2 + x&#39;</span>
<span class="gp">sage: </span><span class="n">subs</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;x^2&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;x^2+x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;x^4+x^2+x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">)]</span>

<span class="gp">sage: </span><span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;{}, {}={}&#39;</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
<span class="go">....:     maxima.eval(cmd.format(E, s1, s2))</span>
<span class="go">&#39;y^4+y^2+y&#39;</span>
<span class="go">&#39;y+x^4+x&#39;</span>
<span class="go">&#39;x^4+x^2+x&#39;</span>
<span class="go">&#39;y&#39;</span>
</pre></div>
</div>
<p>Or as in Maple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;subs({}={}, {})&#39;</span>              <span class="c1"># optional - maple</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>                   <span class="c1"># optional - maple</span>
<span class="go">....:     maple.eval(cmd.format(s1,s2, E)) # optional - maple</span>
<span class="go">&#39;y^4+y^2+y&#39;</span>
<span class="go">&#39;x^4+x+y&#39;</span>
<span class="go">&#39;x^4+x^2+x&#39;</span>
<span class="go">&#39;y&#39;</span>
</pre></div>
</div>
<p>But Mathematica does something different on the third example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;{} /. {} -&gt; {}&#39;</span>                    <span class="c1"># optional - mathematica</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>                        <span class="c1"># optional - mathematica</span>
<span class="go">....:     mathematica.eval(cmd.format(E,s1,s2)) # optional - mathematica</span>
<span class="go">     2    4</span>
<span class="go">y + y  + y</span>
<span class="go">     4</span>
<span class="go">x + x  + y</span>
<span class="go"> 4</span>
<span class="go">x  + y</span>
<span class="go">y</span>
</pre></div>
</div>
<p>The same, with formatting more suitable for cut and paste:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">s1</span><span class="p">,</span><span class="n">s2</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>                        <span class="c1"># optional - mathematica</span>
<span class="go">....:     mathematica(cmd.format(E,s1,s2))      # optional - mathematica</span>
<span class="go">y + y^2 + y^4</span>
<span class="go">x + x^4 + y</span>
<span class="go">x^4 + y</span>
<span class="go">y</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.substitute_expression">
<code class="descname">substitute_expression</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.substitute_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.symbolic.expression.Expression.substitute" title="sage.symbolic.expression.Expression.substitute"><code class="xref py py-meth docutils literal"><span class="pre">substitute()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/12834">trac ticket #12834</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.substitute_function">
<code class="descname">substitute_function</code><span class="sig-paren">(</span><em>original</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.substitute_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this symbolic expressions all occurrences of the
function <em>original</em> replaced with the function <em>new</em>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">foo</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="n">bar</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">foo</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">substitute_function</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
<span class="go">1/bar(pi*y) + bar(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.substitution_delayed">
<code class="descname">substitution_delayed</code><span class="sig-paren">(</span><em>pattern</em>, <em>replacement</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.substitution_delayed" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all occurrences of pattern by the result of replacement.</p>
<p>In contrast to <a class="reference internal" href="#sage.symbolic.expression.Expression.subs" title="sage.symbolic.expression.Expression.subs"><code class="xref py py-meth docutils literal"><span class="pre">subs()</span></code></a>, the pattern may contains wildcards
and the replacement can depend on the particular term matched by the
pattern.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pattern</span></code> – an <a class="reference internal" href="#sage.symbolic.expression.Expression" title="sage.symbolic.expression.Expression"><code class="xref py py-class docutils literal"><span class="pre">Expression</span></code></a>, usually
containing wildcards.</li>
<li><code class="docutils literal"><span class="pre">replacement</span></code> – a function. Its argument is a dictionary
mapping the wildcard occurring in <code class="docutils literal"><span class="pre">pattern</span></code> to the actual
values.  If it returns <code class="docutils literal"><span class="pre">None</span></code>, this occurrence of <code class="docutils literal"><span class="pre">pattern</span></code> is
not replaced. Otherwise, it is replaced by the output of
<code class="docutils literal"><span class="pre">replacement</span></code>.</li>
</ul>
<p>OUTPUT:</p>
<p>An <a class="reference internal" href="#sage.symbolic.expression.Expression" title="sage.symbolic.expression.Expression"><code class="xref py py-class docutils literal"><span class="pre">Expression</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">w0</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">wild</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">substitution_delayed</span><span class="p">(</span>
<span class="go">....:     sqrt(w0), lambda d: sqrt(factor(d[w0]))</span>
<span class="go">....: )</span>
<span class="go">sqrt((x + 1)^2)</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">r</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="go">....:    if x not in d[w0].variables():</span>
<span class="go">....:        return cos(d[w0])</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">substitution_delayed</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
<span class="go">cos(y^2 + y) + sin(x^2 + x)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.symbolic.expression.Expression.match" title="sage.symbolic.expression.Expression.match"><code class="xref py py-meth docutils literal"><span class="pre">match()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.subtract_from_both_sides">
<code class="descname">subtract_from_both_sides</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.subtract_from_both_sides" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a relation obtained by subtracting <em>x</em> from both sides
of this relation.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eqn</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">cos</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">subtract_from_both_sides</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">sqrt(3)*x*sin(x) &gt; -sqrt(2) + cos(sin(x))</span>
<span class="gp">sage: </span><span class="n">eqn</span><span class="o">.</span><span class="n">subtract_from_both_sides</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="go">sqrt(3)*x*sin(x) + sqrt(2) - cos(sin(x)) &gt; 0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the symbolic sum
<span class="math">\(\sum_{v = a}^b self\)</span></p>
<p>with respect to the variable <span class="math">\(v\)</span> with endpoints
<span class="math">\(a\)</span> and <span class="math">\(b\)</span>.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">v</span></code> - a variable or variable name</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">a</span></code> - lower endpoint of the sum</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">b</span></code> - upper endpoint of the sum</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">algorithm</span></code> - (default: <code class="docutils literal"><span class="pre">'maxima'</span></code>)  one of</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">'maxima'</span></code> - use Maxima (the default)</li>
<li><code class="docutils literal"><span class="pre">'maple'</span></code> - (optional) use Maple</li>
<li><code class="docutils literal"><span class="pre">'mathematica'</span></code> - (optional) use Mathematica</li>
<li><code class="docutils literal"><span class="pre">'giac'</span></code> - (optional) use Giac</li>
<li><code class="docutils literal"><span class="pre">'sympy'</span></code> - use SymPy</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k,n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">1/2*(n + 1)*n</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">1/90*pi^4</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">zeta(5)</span>
</pre></div>
</div>
<p>A well known binomial identity:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">2^n</span>
</pre></div>
</div>
<p>And some truncations thereof:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="go">2^n - 1</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="go">2^n - n - 1</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2^n - 1</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2^n - 2</span>
</pre></div>
</div>
<p>The binomial theorem:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="n">k</span> <span class="o">*</span> <span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(x + y)^n</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">k</span> <span class="o">*</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">2^(n - 1)*n</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="n">k</span><span class="o">*</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">-log(2) + 1</span>
</pre></div>
</div>
<p>Summing a hypergeometric term:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">/</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">k</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">1/2*sqrt(pi)/factorial(n + 1/2)</span>
</pre></div>
</div>
<p>We check a well known identity:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">((</span><span class="n">k</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">k</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A geometric sum:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, q&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(a*q^(n + 1) - a)/(q - 1)</span>
</pre></div>
</div>
<p>The geometric series:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">-a/(q - 1)</span>
</pre></div>
</div>
<p>A divergent geometric series.  Do not forget
to <span class="math">\(forget\)</span> your assumptions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">q</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Sum is divergent.</span>
</pre></div>
</div>
<p>This summation only Mathematica can perform:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">k</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">oo</span><span class="p">,</span> <span class="n">oo</span><span class="p">,</span> <span class="n">algorithm</span> <span class="o">=</span> <span class="s1">&#39;mathematica&#39;</span><span class="p">)</span>     <span class="c1"># optional - mathematica</span>
<span class="go">pi*coth(pi)</span>
</pre></div>
</div>
<p>Use Giac to perform this summation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">k</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">oo</span><span class="p">,</span> <span class="n">oo</span><span class="p">,</span> <span class="n">algorithm</span> <span class="o">=</span> <span class="s1">&#39;giac&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">pi*(e^(2*pi) + 1)/((e^pi + 1)*(e^pi - 1))</span>
</pre></div>
</div>
<p>Use Maple as a backend for summation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">algorithm</span> <span class="o">=</span> <span class="s1">&#39;maple&#39;</span><span class="p">)</span>      <span class="c1"># optional - maple</span>
<span class="go">(x + 1)^n</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>Sage can currently only understand a subset of the output of Maxima, Maple and
Mathematica, so even if the chosen backend can perform the summation the
result might not be convertable into a usable Sage expression.</li>
</ol>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.tan">
<code class="descname">tan</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.tan" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">tan(x^2 + y^2)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">sage</span><span class="o">.</span><span class="n">symbolic</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Infinity</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">tan(1)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">150</span><span class="p">)(</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">1.5574077246549022305069748074583601730872508</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">tan</span><span class="p">()</span>
<span class="go">-sqrt(3) + 2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">tan(1/12*pi)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">12</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">tan(1/12*pi)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span>
<span class="go">-sqrt(3) + 2</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-sqrt(3) + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.tanh">
<code class="descname">tanh</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.tanh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tanh of self.</p>
<p>We have <span class="math">\(\tanh(x) = \sinh(x) / \cosh(x)\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">tanh</span><span class="p">()</span>
<span class="go">tanh(x)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">()</span>
<span class="go">tanh(1)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">()</span>
<span class="go">0.761594155955765</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;tanh(1.0)&#39;</span><span class="p">)</span>
<span class="go">0.7615941559557649</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">()</span>
<span class="go">x/sqrt(x^2 + 1)</span>
<span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">tanh(arcsinh(x))</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">tanh</span><span class="p">(</span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">tanh(arcsinh(x))</span>
<span class="gp">sage: </span><span class="n">tanh</span><span class="p">(</span><span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">x/sqrt(x^2 + 1)</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">arcsinh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">x/sqrt(x^2 + 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.taylor">
<code class="descname">taylor</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.taylor" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand this symbolic expression in a truncated Taylor or
Laurent series in the variable <span class="math">\(v\)</span> around the point <span class="math">\(a\)</span>,
containing terms through <span class="math">\((x - a)^n\)</span>. Functions in more
variables is also supported.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">*args</span></code> - the following notation is supported<ul>
<li><code class="docutils literal"><span class="pre">x,</span> <span class="pre">a,</span> <span class="pre">n</span></code> - variable, point, degree</li>
<li><code class="docutils literal"><span class="pre">(x,</span> <span class="pre">a),</span> <span class="pre">(y,</span> <span class="pre">b),</span> <span class="pre">n</span></code> - variables with points, degree of polynomial</li>
</ul>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, x, z&#39;</span><span class="p">)</span>
<span class="go">(a, x, z)</span>
<span class="gp">sage: </span><span class="n">taylor</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">),</span> <span class="n">z</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1/24*a*(z - 2)^3 - 1/8*a*(z - 2)^2 + 1/2*a*(z - 2) + a*log(2)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">taylor</span><span class="p">(</span><span class="n">sqrt</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1/48*(3*a^3 + 9*a^2 + 9*a - 1)*x^3 - 1/8*(a^2 + 2*a + 1)*x^2 + 1/2*(a + 1)*x + 1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">taylor</span> <span class="p">(</span><span class="n">sqrt</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">7/256*x^5 - 5/128*x^4 + 1/16*x^3 - 1/8*x^2 + 1/2*x + 1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">taylor</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">log</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">-19/720*x^3 + 1/24*x^2 - 1/12*x + 1/x + 1/2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">taylor</span> <span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sec</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">-1/6*x^4 - x^2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">taylor</span> <span class="p">((</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sec</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="go">-1/2*x^8 - x^6</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">taylor</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sec</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">-15377/7983360*x^4 - 6767/604800*x^2 + 11/120/x^2 + 1/2/x^4 - 1/x^6 - 347/15120</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.test_relation">
<code class="descname">test_relation</code><span class="sig-paren">(</span><em>ntests=20</em>, <em>domain=None</em>, <em>proof=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.test_relation" title="Permalink to this definition">¶</a></dt>
<dd><p>Test this relation at several random values, attempting to find
a contradiction. If this relation has no variables, it will also
test this relation after casting into the domain.</p>
<p>Because the interval fields never return false positives, we can be
assured that if True or False is returned (and proof is False) then
the answer is correct.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ntests</span></code> – (default <code class="docutils literal"><span class="pre">20</span></code>) the number of iterations to run</li>
<li><code class="docutils literal"><span class="pre">domain</span></code> – (optional) the domain from which to draw the random
values defaults to <code class="docutils literal"><span class="pre">CIF</span></code> for equality testing and <code class="docutils literal"><span class="pre">RIF</span></code> for
order testing</li>
<li><code class="docutils literal"><span class="pre">proof</span></code> – (default <code class="docutils literal"><span class="pre">True</span></code>) if <code class="docutils literal"><span class="pre">False</span></code> and the domain is an
interval field, regard overlapping (potentially equal) intervals as
equal, and return <code class="docutils literal"><span class="pre">True</span></code> if all tests succeeded.</li>
</ul>
<p>OUTPUT:</p>
<p>Boolean or <code class="docutils literal"><span class="pre">NotImplemented</span></code>, meaning</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">True</span></code> – this relation holds in the domain and has no variables.</li>
<li><code class="docutils literal"><span class="pre">False</span></code> – a contradiction was found.</li>
<li><code class="docutils literal"><span class="pre">NotImplemented</span></code> – no contradiction found.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">3</span> <span class="o">&lt;</span> <span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">0</span> <span class="o">&gt;=</span> <span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span> <span class="o">-</span> <span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">19.9990999791895</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span> <span class="o">-</span> <span class="n">pi</span> <span class="o">==</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">()</span>
<span class="go">NotImplemented</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">(</span><span class="n">proof</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">test_relation</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.to_gamma">
<code class="descname">to_gamma</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.to_gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert factorial, binomial, and Pochhammer symbol
expressions to their gamma function equivalents.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;m n&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">to_gamma</span><span class="p">()</span>
<span class="go">gamma(n + 1)</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">to_gamma</span><span class="p">()</span>
<span class="go">gamma(m + 1)/(gamma(m - n + 1)*gamma(n + 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.trailing_coeff">
<code class="descname">trailing_coeff</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.trailing_coeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the trailing coefficient of s in self, i.e., the coefficient
of the smallest power of s in self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + x/y + 2*sin(x*y)/x + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trailing_coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2*sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trailing_coefficient</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trailing_coefficient</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">a*x + x*y + x/y + 100</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.trailing_coefficient">
<code class="descname">trailing_coefficient</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.trailing_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the trailing coefficient of s in self, i.e., the coefficient
of the smallest power of s in self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,a&#39;</span><span class="p">)</span>
<span class="go">(x, y, a)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^3*sin(x*y) + a*x + x*y + x/y + 2*sin(x*y)/x + 100</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trailing_coefficient</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2*sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trailing_coefficient</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">trailing_coefficient</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="go">a*x + x*y + x/y + 100</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.trig_expand">
<code class="descname">trig_expand</code><span class="sig-paren">(</span><em>full=False</em>, <em>half_angles=False</em>, <em>plus=True</em>, <em>times=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.trig_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand trigonometric and hyperbolic functions of sums of angles
and of multiple angles occurring in self. For best results, self
should already be expanded.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">full</span></code> - (default: False) To enhance user control
of simplification, this function expands only one level at a time
by default, expanding sums of angles or multiple angles. To obtain
full expansion into sines and cosines immediately, set the optional
parameter full to True.</li>
<li><code class="docutils literal"><span class="pre">half_angles</span></code> - (default: False) If True, causes
half-angles to be simplified away.</li>
<li><code class="docutils literal"><span class="pre">plus</span></code> - (default: True) Controls the sum rule;
expansion of sums (e.g. ‘sin(x + y)’) will take place only if plus
is True.</li>
<li><code class="docutils literal"><span class="pre">times</span></code> - (default: True) Controls the product
rule, expansion of products (e.g. sin(2*x)) will take place only
if times is True.</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">5*cos(x)^4*sin(x) - 10*cos(x)^2*sin(x)^3 + sin(x)^5</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">cos(2*x)*cos(y) - sin(2*x)*sin(y)</span>
</pre></div>
</div>
<p>We illustrate various options to this function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">))</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">sin((3*cos(cos(2*x))^2*sin(cos(2*x)) - sin(cos(2*x))^3)*x)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">sin((3*(cos(cos(x)^2)*cos(sin(x)^2) + sin(cos(x)^2)*sin(sin(x)^2))^2*(cos(sin(x)^2)*sin(cos(x)^2) - cos(cos(x)^2)*sin(sin(x)^2)) - (cos(sin(x)^2)*sin(cos(x)^2) - cos(cos(x)^2)*sin(sin(x)^2))^3)*x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(2*x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">2*cos(x)*sin(x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">plus</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(x + 2)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">plus</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">cos(x)*sin(2) + cos(2)*sin(x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">half_angles</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(1/2*x)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">(</span><span class="n">half_angles</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(-1)^floor(1/2*x/pi)*sqrt(-1/2*cos(x) + 1/2)</span>
</pre></div>
</div>
<p>If the expression contains terms which are factored, we expand first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, k1, k2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">((</span><span class="n">k1</span><span class="o">-</span><span class="n">k2</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span><span class="o">.</span><span class="n">expand_trig</span><span class="p">()</span>
<span class="go">cos(k1*x)*cos(k2*x) + sin(k1*x)*sin(k2*x)</span>
</pre></div>
</div>
<p>ALIASES:</p>
<p><a class="reference internal" href="#sage.symbolic.expression.Expression.trig_expand" title="sage.symbolic.expression.Expression.trig_expand"><code class="xref py py-meth docutils literal"><span class="pre">trig_expand()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_trig" title="sage.symbolic.expression.Expression.expand_trig"><code class="xref py py-meth docutils literal"><span class="pre">expand_trig()</span></code></a> are the same</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.trig_reduce">
<code class="descname">trig_reduce</code><span class="sig-paren">(</span><em>var=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.trig_reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine products and powers of trigonometric and hyperbolic
sin’s and cos’s of x into those of multiples of x. It also
tries to eliminate these functions when they occur in
denominators.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - a symbolic expression</li>
<li><code class="docutils literal"><span class="pre">var</span></code> - (default: None) the variable which is used for
these transformations. If not specified, all variables are
used.</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">reduce_trig</span><span class="p">()</span>
<span class="go">-1/2*cos(2*y) + 1/8*sin(4*x) + 1/4*sin(2*x) + 1/2</span>
</pre></div>
</div>
<p>To reduce only the expressions involving x we use optional parameter:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">reduce_trig</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">sin(y)^2 + 1/8*sin(4*x) + 1/4*sin(2*x)</span>
</pre></div>
</div>
<p>ALIASES: <a class="reference internal" href="#sage.symbolic.expression.Expression.trig_reduce" title="sage.symbolic.expression.Expression.trig_reduce"><code class="xref py py-meth docutils literal"><span class="pre">trig_reduce()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.reduce_trig" title="sage.symbolic.expression.Expression.reduce_trig"><code class="xref py py-meth docutils literal"><span class="pre">reduce_trig()</span></code></a> are the same</p>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.trig_simplify">
<code class="descname">trig_simplify</code><span class="sig-paren">(</span><em>expand=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.trig_simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Optionally expand and then employ identities such as
<span class="math">\(\sin(x)^2 + \cos(x)^2 = 1\)</span>, <span class="math">\(\cosh(x)^2 - \sinh(x)^2 = 1\)</span>,
<span class="math">\(\sin(x)\csc(x) = 1\)</span>, or <span class="math">\(\tanh(x)=\sinh(x)/\cosh(x)\)</span>
to simplify expressions containing tan, sec, etc., to sin,
cos, sinh, cosh.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - symbolic expression</li>
<li><code class="docutils literal"><span class="pre">expand</span></code> - (default:True) if True, expands trigonometric
and hyperbolic functions of sums of angles and of multiple
angles occurring in <code class="docutils literal"><span class="pre">self</span></code> first. For best results,
<code class="docutils literal"><span class="pre">self</span></code> should be expanded. See also <a class="reference internal" href="#sage.symbolic.expression.Expression.expand_trig" title="sage.symbolic.expression.Expression.expand_trig"><code class="xref py py-meth docutils literal"><span class="pre">expand_trig()</span></code></a> to
get more controls on this expansion.</li>
</ul>
<p>ALIAS: <a class="reference internal" href="#sage.symbolic.expression.Expression.trig_simplify" title="sage.symbolic.expression.Expression.trig_simplify"><code class="xref py py-meth docutils literal"><span class="pre">trig_simplify()</span></code></a> and <a class="reference internal" href="#sage.symbolic.expression.Expression.simplify_trig" title="sage.symbolic.expression.Expression.simplify_trig"><code class="xref py py-meth docutils literal"><span class="pre">simplify_trig()</span></code></a> are the same</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">cos(x)^2 + sin(x)^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">cos(x)^2 + sin(x)^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">csc</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cosh</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">(2*sinh(x)^3 + sinh(x))/cosh(x)</span>
</pre></div>
</div>
<p>In some cases we do not want to expand:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">tan</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">()</span>
<span class="go">(4*cos(x)^2 - 1)*sin(x)/(4*cos(x)^3 - 3*cos(x))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">simplify_trig</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="go">sin(3*x)/cos(3*x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.truncate">
<code class="descname">truncate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a power series or expression, return the corresponding
expression without the big oh.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> – a series as output by the <a class="reference internal" href="#sage.symbolic.expression.Expression.series" title="sage.symbolic.expression.Expression.series"><code class="xref py py-meth docutils literal"><span class="pre">series()</span></code></a> command.</li>
</ul>
<p>OUTPUT:</p>
<p>A symbolic expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">truncate</span><span class="p">()</span>
<span class="go">sin(x)/x^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">1*x^(-1) + (-1/6)*x + 1/120*x^3 + (-1/5040)*x^5 + Order(x^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">truncate</span><span class="p">()</span>
<span class="go">-1/5040*x^5 + 1/120*x^3 - 1/6*x + 1/x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">truncate</span><span class="p">()</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">-2*x^2*cos(1) + 5/2*x^2*sin(1) + 5*x*cos(1) - 7*x*sin(1) - 3*cos(1) + 11/2*sin(1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.unhold">
<code class="descname">unhold</code><span class="sig-paren">(</span><em>exclude=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.unhold" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates any held operations (with the <code class="docutils literal"><span class="pre">hold</span></code> keyword) in the
expression</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> – an expression with held operations</li>
<li><code class="docutils literal"><span class="pre">exclude</span></code> – (default: None) a list of operators to exclude from
evaluation. Excluding arithmetic operators does not yet work (see
<a class="reference external" href="https://trac.sagemath.org/10169">trac ticket #10169</a>).</li>
</ul>
<p>OUTPUT:</p>
<p>A new expression with held operations, except those in <code class="docutils literal"><span class="pre">exclude</span></code>,
evaluated</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">I</span> <span class="o">*</span> <span class="n">pi</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">e^(I*pi)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span>
<span class="go">x + x</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2*x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2*x - 1</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span>
<span class="go">x*x + x*x</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">2*x^2</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">tan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">tan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">unhold</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="n">sin</span><span class="p">])</span>
<span class="go">sin(0)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="n">sgn</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="n">sgn</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span><span class="o">.</span><span class="n">unhold</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="n">exp</span><span class="p">])</span>
<span class="go">e^0</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">log(3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.unit">
<code class="descname">unit</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the unit of this expression when considered as a
polynomial in <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>See also <a class="reference internal" href="#sage.symbolic.expression.Expression.content" title="sage.symbolic.expression.Expression.content"><code class="xref py py-meth docutils literal"><span class="pre">content()</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.primitive_part" title="sage.symbolic.expression.Expression.primitive_part"><code class="xref py py-meth docutils literal"><span class="pre">primitive_part()</span></code></a>, and
<a class="reference internal" href="#sage.symbolic.expression.Expression.unit_content_primitive" title="sage.symbolic.expression.Expression.unit_content_primitive"><code class="xref py py-meth docutils literal"><span class="pre">unit_content_primitive()</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> – a symbolic expression.</li>
</ul>
<p>OUTPUT:</p>
<p>The unit part of a polynomial as a symbolic expression. It is
defined as the sign of the leading coefficient.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">unit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">unit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">unit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">unit</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.unit_content_primitive">
<code class="descname">unit_content_primitive</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.unit_content_primitive" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the factorization into unit, content, and primitive part.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> – a symbolic expression, usually a symbolic
variable. The whole symbolic expression <code class="docutils literal"><span class="pre">self</span></code> will be
considered as a univariate polynomial in <code class="docutils literal"><span class="pre">s</span></code>.</li>
</ul>
<p>OUTPUT:</p>
<p>A triple (unit, content, primitive polynomial)` containing the
<a class="reference internal" href="#sage.symbolic.expression.Expression.unit" title="sage.symbolic.expression.Expression.unit"><code class="xref py py-meth docutils literal"><span class="pre">unit</span></code></a>, <a class="reference internal" href="#sage.symbolic.expression.Expression.content" title="sage.symbolic.expression.Expression.content"><code class="xref py py-meth docutils literal"><span class="pre">content</span></code></a>, and
<a class="reference internal" href="#sage.symbolic.expression.Expression.primitive_part" title="sage.symbolic.expression.Expression.primitive_part"><code class="xref py py-meth docutils literal"><span class="pre">primitive</span> <span class="pre">polynomial</span></code></a>. Their product equals
<code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">ex</span> <span class="o">=</span> <span class="mi">9</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">y</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">unit_content_primitive</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(1, 3*y, 3*x^3 + 1)</span>
<span class="gp">sage: </span><span class="n">ex</span><span class="o">.</span><span class="n">unit_content_primitive</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">(1, 9*x^3 + 3, y)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.variables">
<code class="descname">variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sorted tuple of variables that occur in this expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">(x,)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">(x, y, z)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.Expression.zeta">
<code class="descname">zeta</code><span class="sig-paren">(</span><em>hold=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.Expression.zeta" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>
<span class="go">zeta(x/y)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>
<span class="go">1/6*pi^2</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>
<span class="go">zeta(3)</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="n">CDF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>  <span class="c1"># abs tol 1e-16</span>
<span class="go">0.003300223685324103 - 0.4181554491413217*I</span>
<span class="gp">sage: </span><span class="n">CDF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>  <span class="c1"># abs tol 1e-16</span>
<span class="go">0.003300223685324103 - 0.4181554491413217*I</span>
<span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SR</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">(),</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ymin</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span><span class="n">ymax</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>To prevent automatic evaluation use the <code class="docutils literal"><span class="pre">hold</span></code> argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">zeta(2)</span>
</pre></div>
</div>
<p>This also works using functional notation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">zeta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">zeta(2)</span>
<span class="gp">sage: </span><span class="n">zeta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/6*pi^2</span>
</pre></div>
</div>
<p>To then evaluate again, we use <a class="reference internal" href="#sage.symbolic.expression.Expression.unhold" title="sage.symbolic.expression.Expression.unhold"><code class="xref py py-meth docutils literal"><span class="pre">unhold()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">1/6*pi^2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.symbolic.expression.ExpressionIterator">
<em class="property">class </em><code class="descclassname">sage.symbolic.expression.</code><code class="descname">ExpressionIterator</code><a class="headerlink" href="#sage.symbolic.expression.ExpressionIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="sage.symbolic.expression.ExpressionIterator.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.ExpressionIterator.next" title="Permalink to this definition">¶</a></dt>
<dd><p>x.next() -&gt; the next value, or raise StopIteration</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.symbolic.expression.hold_class">
<em class="property">class </em><code class="descclassname">sage.symbolic.expression.</code><code class="descname">hold_class</code><a class="headerlink" href="#sage.symbolic.expression.hold_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Instances of this class can be used with Python <span class="math">\(with\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">with</span> <span class="n">hold</span><span class="p">:</span>
<span class="go">....:     tan(1/12*pi)</span>
<span class="go">....:     </span>
<span class="go">tan(1/12*pi)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">12</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span>    
<span class="go">-sqrt(3) + 2</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">hold</span><span class="p">:</span>
<span class="go">....:     2^5</span>
<span class="go">....:     </span>
<span class="go">32</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">hold</span><span class="p">:</span>
<span class="go">....:     SR(2)^5</span>
<span class="go">....:     </span>
<span class="go">2^5</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">hold</span><span class="p">:</span>
<span class="go">....:     t=tan(1/12*pi)</span>
<span class="go">....:     </span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">tan(1/12*pi)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">unhold</span><span class="p">()</span>
<span class="go">-sqrt(3) + 2</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.symbolic.expression.hold_class.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.hold_class.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a hold context.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">hold</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="go">2^5</span>
<span class="gp">sage: </span><span class="n">hold</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="go">32</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.symbolic.expression.hold_class.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.hold_class.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop any hold context.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">hold</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="go">2^5</span>
<span class="gp">sage: </span><span class="n">hold</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>
<span class="go">32</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.symbolic.expression.is_Expression">
<code class="descclassname">sage.symbolic.expression.</code><code class="descname">is_Expression</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.is_Expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if <em>x</em> is a symbolic Expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.expression</span> <span class="kn">import</span> <span class="n">is_Expression</span>
<span class="gp">sage: </span><span class="n">is_Expression</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_Expression</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_Expression</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.expression.is_SymbolicEquation">
<code class="descclassname">sage.symbolic.expression.</code><code class="descname">is_SymbolicEquation</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.is_SymbolicEquation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if <em>x</em> is a symbolic equation.</p>
<p>EXAMPLES:</p>
<p>The following two examples are symbolic equations:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.expression</span> <span class="kn">import</span> <span class="n">is_SymbolicEquation</span>
<span class="gp">sage: </span><span class="n">is_SymbolicEquation</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_SymbolicEquation</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_SymbolicEquation</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This is not, since <code class="docutils literal"><span class="pre">2==3</span></code> evaluates to the boolean
<code class="docutils literal"><span class="pre">False</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">is_SymbolicEquation</span><span class="p">(</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>However here since both 2 and 3 are coerced to be symbolic, we
obtain a symbolic equation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">is_SymbolicEquation</span><span class="p">(</span><span class="n">SR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">SR</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.symbolic.expression.solve_diophantine">
<code class="descclassname">sage.symbolic.expression.</code><code class="descname">solve_diophantine</code><span class="sig-paren">(</span><em>f</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.expression.solve_diophantine" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve a Diophantine equation.</p>
<p>The argument, if not given as symbolic equation, is set equal to zero.
It can be given in any form that can be converted to symbolic. Please
see <a class="reference internal" href="#sage.symbolic.expression.Expression.solve_diophantine" title="sage.symbolic.expression.Expression.solve_diophantine"><code class="xref py py-meth docutils literal"><span class="pre">Expression.solve_diophantine()</span></code></a> for a detailed
synopsis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Multivariate Polynomial Ring in a, b over Integer Ring</span>
<span class="gp">sage: </span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">solve_diophantine</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[(-1/2*sqrt(3)*(sqrt(3) + 2)^t + 1/2*sqrt(3)*(-sqrt(3) + 2)^t - 1/2*(sqrt(3) + 2)^t - 1/2*(-sqrt(3) + 2)^t,</span>
<span class="go">  -1/6*sqrt(3)*(sqrt(3) + 2)^t + 1/6*sqrt(3)*(-sqrt(3) + 2)^t - 1/2*(sqrt(3) + 2)^t - 1/2*(-sqrt(3) + 2)^t),</span>
<span class="go">(1/2*sqrt(3)*(sqrt(3) + 2)^t - 1/2*sqrt(3)*(-sqrt(3) + 2)^t + 1/2*(sqrt(3) + 2)^t + 1/2*(-sqrt(3) + 2)^t,</span>
<span class="go">  1/6*sqrt(3)*(sqrt(3) + 2)^t - 1/6*sqrt(3)*(-sqrt(3) + 2)^t + 1/2*(sqrt(3) + 2)^t + 1/2*(-sqrt(3) + 2)^t)]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../../index.html"
                                  title="previous chapter">Symbolic Calculus</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="callable.html"
                                  title="next chapter">Callable Symbolic Expressions</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/symbolic/expression.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="callable.html" title="Callable Symbolic Expressions"
             >next</a> |</li>
        <li class="right" >
          <a href="../../index.html" title="Symbolic Calculus"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Symbolic Calculus</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2018, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>