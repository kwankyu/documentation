
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Display Manager &#8212; Sage Reference Manual v8.2: The Sage Command Line</title>
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '8.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Display Preferences" href="preferences.html" />
    <link rel="prev" title="Utility functions for pretty-printing" href="../display/util.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="preferences.html" title="Display Preferences"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../display/util.html" title="Utility functions for pretty-printing"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">The Sage Command Line</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="display-manager">
<span id="sage-repl-rich-output-display-manager"></span><h1>Display Manager<a class="headerlink" href="#display-manager" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.repl.rich_output.display_manager"></span><p>This is the heart of the rich output system, the display manager
arbitrates between</p>
<ul class="simple">
<li>Backend capabilities: what can be displayed</li>
<li>Backend preferences: what gives good quality on the backend</li>
<li>Sage capabilities: every Sage object can only generate certain
representations, and</li>
<li>User preferences: typeset vs. plain text vs. ascii art, etc.</li>
</ul>
<p>The display manager is a singleton class, Sage always has exactly one
instance of it. Use <a class="reference internal" href="#sage.repl.rich_output.display_manager.get_display_manager" title="sage.repl.rich_output.display_manager.get_display_manager"><code class="xref py py-func docutils literal"><span class="pre">get_display_manager()</span></code></a> to obtain it.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">();</span>  <span class="n">dm</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
<dl class="exception">
<dt id="sage.repl.rich_output.display_manager.DisplayException">
<em class="property">exception </em><code class="descclassname">sage.repl.rich_output.display_manager.</code><code class="descname">DisplayException</code><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#exceptions.Exception" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></a></p>
<p>Base exception for all rich output-related exceptions.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">DisplayException</span>
<span class="gp">sage: </span><span class="k">raise</span> <span class="n">DisplayException</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">DisplayException</span>: <span class="n">foo</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.repl.rich_output.display_manager.DisplayManager">
<em class="property">class </em><code class="descclassname">sage.repl.rich_output.display_manager.</code><code class="descname">DisplayManager</code><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Parents and Elements v8.2)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>The Display Manager</p>
<p>Used to decide what kind of rich output is best.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">get_display_manager</span><span class="p">()</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.check_backend_class">
<code class="descname">check_backend_class</code><span class="sig-paren">(</span><em>backend_class</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.check_backend_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the current backend is an instance of
<code class="docutils literal"><span class="pre">backend_class</span></code>.</p>
<p>This is, for example, used by the Sage IPython display
formatter to ensure that the IPython backend is in use.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">backend_class</span></code> – type of a backend class.</li>
</ul>
<p>OUTPUT:</p>
<p>This method returns nothing. A <code class="docutils literal"><span class="pre">RuntimeError</span></code> is raised if
<code class="docutils literal"><span class="pre">backend_class</span></code> is not the type of the current backend.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.backend_base</span> <span class="kn">import</span> <span class="n">BackendSimple</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">check_backend_class</span><span class="p">(</span><span class="n">BackendSimple</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">check failed: current backend is invalid</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.display_immediately">
<code class="descname">display_immediately</code><span class="sig-paren">(</span><em>obj</em>, <em>**rich_repr_kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.display_immediately" title="Permalink to this definition">¶</a></dt>
<dd><p>Show output without going back to the command line prompt.</p>
<p>This method must be called to create rich output from an
object when we are not returning to the command line prompt,
for example during program execution. Typically, it is being
called by <a class="reference external" href="../../../../plotting/sage/plot/graphics.html#sage.plot.graphics.Graphics.show" title="(in Sage Reference Manual: 2D Graphics v8.2)"><code class="xref py py-meth docutils literal"><span class="pre">sage.plot.graphics.Graphics.show()</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">obj</span></code> – anything. The object to be shown.</li>
<li><code class="docutils literal"><span class="pre">rich_repr_kwds</span></code> – optional keyword arguments that are
passed through to <code class="docutils literal"><span class="pre">obj._rich_repr_</span></code>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">display_immediately</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.displayhook">
<code class="descname">displayhook</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.displayhook" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the displayhook</p>
<p>Every backend must pass the value of the last statement of a
line / cell to this method. See also
<a class="reference internal" href="#sage.repl.rich_output.display_manager.DisplayManager.display_immediately" title="sage.repl.rich_output.display_manager.DisplayManager.display_immediately"><code class="xref py py-meth docutils literal"><span class="pre">display_immediately()</span></code></a> if you want do display rich output
while a program is running.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">obj</span></code> – anything. The object to be shown.</li>
</ul>
<p>OUTPUT:</p>
<p>Returns whatever the backend’s displayhook method returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">displayhook</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.get_instance">
<em class="property">classmethod </em><code class="descname">get_instance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the singleton instance.</p>
<p>This class method is equivalent to
<a class="reference internal" href="#sage.repl.rich_output.display_manager.get_display_manager" title="sage.repl.rich_output.display_manager.get_display_manager"><code class="xref py py-func docutils literal"><span class="pre">get_display_manager()</span></code></a>.</p>
<p>OUTPUT:</p>
<p>The display manager singleton.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">DisplayManager</span>
<span class="gp">sage: </span><span class="n">DisplayManager</span><span class="o">.</span><span class="n">get_instance</span><span class="p">()</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.graphics_from_save">
<code class="descname">graphics_from_save</code><span class="sig-paren">(</span><em>save_function</em>, <em>save_kwds</em>, <em>file_extension</em>, <em>output_container</em>, <em>figsize=None</em>, <em>dpi=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.graphics_from_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to construct graphics.</p>
<p>This method can be used to simplify the implementation of a
<code class="docutils literal"><span class="pre">_rich_repr_</span></code> method of a graphics object if there is
already a function to save graphics to a file.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">save_function</span></code> – callable that can save graphics to a file
and accepts options like
<a class="reference external" href="../../../../plotting/sage/plot/graphics.html#sage.plot.graphics.Graphics.save" title="(in Sage Reference Manual: 2D Graphics v8.2)"><code class="xref py py-meth docutils literal"><span class="pre">sage.plot.graphics.Graphics.save()</span></code></a>.</li>
<li><code class="docutils literal"><span class="pre">save_kwds</span></code> – dictionary. Keyword arguments that are
passed to the save function.</li>
<li><code class="docutils literal"><span class="pre">file_extension</span></code> – string starting with <code class="docutils literal"><span class="pre">'.'</span></code>. The file
extension of the graphics file.</li>
<li><code class="docutils literal"><span class="pre">output_container</span></code> – subclass of
<a class="reference internal" href="output_basic.html#sage.repl.rich_output.output_basic.OutputBase" title="sage.repl.rich_output.output_basic.OutputBase"><code class="xref py py-class docutils literal"><span class="pre">sage.repl.rich_output.output_basic.OutputBase</span></code></a>. The
output container to use. Must be one of the types in
<a class="reference internal" href="#sage.repl.rich_output.display_manager.DisplayManager.supported_output" title="sage.repl.rich_output.display_manager.DisplayManager.supported_output"><code class="xref py py-meth docutils literal"><span class="pre">supported_output()</span></code></a>.</li>
<li><code class="docutils literal"><span class="pre">figsize</span></code> – pair of integers (optional). The desired graphics
size in pixels. Suggested, but need not be respected by the
output.</li>
<li><code class="docutils literal"><span class="pre">dpi</span></code> – integer (optional). The desired resolution in dots
per inch. Suggested, but need not be respected by the output.</li>
</ul>
<p>OUTPUT:</p>
<p>Return an instance of <code class="docutils literal"><span class="pre">output_container</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">plt</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">out</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">graphics_from_save</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">save</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(),</span> <span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputImagePng</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">out</span>
<span class="go">OutputImagePng container</span>
<span class="gp">sage: </span><span class="n">out</span><span class="o">.</span><span class="n">png</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x89</span><span class="s1">PNG&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">out</span><span class="o">.</span><span class="n">png</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>   <span class="c1"># random</span>
<span class="go">&#39;/home/user/.sage/temp/localhost.localdomain/23903/tmp_pu5woK.png&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.is_in_terminal">
<code class="descname">is_in_terminal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.is_in_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the UI is meant to run in a terminal</p>
<p>When this method returns <code class="docutils literal"><span class="pre">True</span></code>, you can assume that it is
possible to use <code class="docutils literal"><span class="pre">raw_input</span></code> or launch external programs that
take over the input.</p>
<p>Otherwise, you should assume that the backend runs remotely or
in a pty controlled by another program. Then you should not
launch external programs with a (text or graphical) UI.</p>
<p>This is used to enable/disable interpreter consoles.</p>
<p>OUTPUT:</p>
<p>Boolean.</p>
</dd></dl>

<dl class="attribute">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.preferences">
<code class="descname">preferences</code><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.preferences" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the preferences.</p>
<p>OUTPUT:</p>
<p>The display preferences as instance of
<a class="reference internal" href="preferences.html#sage.repl.rich_output.preferences.DisplayPreferences" title="sage.repl.rich_output.preferences.DisplayPreferences"><code class="xref py py-class docutils literal"><span class="pre">DisplayPreferences</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">preferences</span>
<span class="go">Display preferences:</span>
<span class="go">* graphics is not specified</span>
<span class="go">* supplemental_plot = never</span>
<span class="go">* text is not specified</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.supported_output">
<code class="descname">supported_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.supported_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the output container classes that can be used.</p>
<p>OUTPUT:</p>
<p>Frozen set of subclasses of
<a class="reference internal" href="output_basic.html#sage.repl.rich_output.output_basic.OutputBase" title="sage.repl.rich_output.output_basic.OutputBase"><code class="xref py py-class docutils literal"><span class="pre">OutputBase</span></code></a>. If
the backend defines derived container classes, this method
will always return their base classes.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputPlainText</span> <span class="ow">in</span> <span class="n">dm</span><span class="o">.</span><span class="n">supported_output</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">dm</span><span class="o">.</span><span class="n">supported_output</span><span class="p">())</span>
<span class="go">&lt;... &#39;frozenset&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.switch_backend">
<code class="descname">switch_backend</code><span class="sig-paren">(</span><em>backend</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.switch_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to a new backend</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">backend</span></code> – instance of
<a class="reference internal" href="backend_base.html#sage.repl.rich_output.backend_base.BackendBase" title="sage.repl.rich_output.backend_base.BackendBase"><code class="xref py py-class docutils literal"><span class="pre">BackendBase</span></code></a>.</li>
<li><code class="docutils literal"><span class="pre">kwds</span></code> – optional keyword arguments that are passed on to
the
<a class="reference internal" href="backend_base.html#sage.repl.rich_output.backend_base.BackendBase.install" title="sage.repl.rich_output.backend_base.BackendBase.install"><code class="xref py py-meth docutils literal"><span class="pre">install()</span></code></a>
method.</li>
</ul>
<p>OUTPUT:</p>
<p>The previous backend.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.backend_base</span> <span class="kn">import</span> <span class="n">BackendSimple</span>
<span class="gp">sage: </span><span class="n">simple</span> <span class="o">=</span> <span class="n">BackendSimple</span><span class="p">()</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">();</span>  <span class="n">dm</span>
<span class="go">The Sage display manager using the doctest backend</span>

<span class="gp">sage: </span><span class="n">previous</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">switch_backend</span><span class="p">(</span><span class="n">simple</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">dm</span>
<span class="go">The Sage display manager using the simple backend</span>
</pre></div>
</div>
<p>Restore the doctest backend:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">switch_backend</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span> <span class="ow">is</span> <span class="n">simple</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.threejs_scripts">
<code class="descname">threejs_scripts</code><span class="sig-paren">(</span><em>online</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.threejs_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Three.js script tags for the current backend.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">online</span></code> – Boolean determining script usage context</li>
</ul>
<p>OUTPUT:</p>
<p>String containing script tags</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This base method handles <code class="docutils literal"><span class="pre">online=True</span></code> case only, serving CDN
script tags. Location of scripts for offline usage is
backend-specific.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">get_display_manager</span><span class="p">()</span><span class="o">.</span><span class="n">threejs_scripts</span><span class="p">(</span><span class="n">online</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&#39;...&lt;script src=&quot;https://cdn.rawgit.com/mrdoob/three.js/...&#39;</span>
<span class="gp">sage: </span><span class="n">get_display_manager</span><span class="p">()</span><span class="o">.</span><span class="n">threejs_scripts</span><span class="p">(</span><span class="n">online</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">current backend does not support</span>
<span class="go">offline threejs graphics</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sage.repl.rich_output.display_manager.DisplayManager.types">
<code class="descname">types</code><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.types" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog of all output container types.</p>
<p>Note that every output type must be registered in
<a class="reference internal" href="output_catalog.html#module-sage.repl.rich_output.output_catalog" title="sage.repl.rich_output.output_catalog"><code class="xref py py-mod docutils literal"><span class="pre">sage.repl.rich_output.output_catalog</span></code></a>.</p>
<p>OUTPUT:</p>
<p>Returns the <a class="reference internal" href="output_catalog.html#module-sage.repl.rich_output.output_catalog" title="sage.repl.rich_output.output_catalog"><code class="xref py py-mod docutils literal"><span class="pre">sage.repl.rich_output.output_catalog</span></code></a>
module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputPlainText</span>
<span class="go">&lt;class &#39;sage.repl.rich_output.output_basic.OutputPlainText&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="sage.repl.rich_output.display_manager.OutputTypeException">
<em class="property">exception </em><code class="descclassname">sage.repl.rich_output.display_manager.</code><code class="descname">OutputTypeException</code><a class="headerlink" href="#sage.repl.rich_output.display_manager.OutputTypeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.repl.rich_output.display_manager.DisplayException" title="sage.repl.rich_output.display_manager.DisplayException"><code class="xref py py-class docutils literal"><span class="pre">sage.repl.rich_output.display_manager.DisplayException</span></code></a></p>
<p>Wrong Output container.</p>
<p>The output containers are the subclasses of
<a class="reference internal" href="output_basic.html#sage.repl.rich_output.output_basic.OutputBase" title="sage.repl.rich_output.output_basic.OutputBase"><code class="xref py py-class docutils literal"><span class="pre">OutputBase</span></code></a> that
contain the entire output. The display backends must create output
containers of a suitable type depending on the displayed Python
object. This exception indicates that there is a mistake in the
backend and it returned the wrong type of output container.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">OutputTypeException</span>
<span class="gp">sage: </span><span class="k">raise</span> <span class="n">OutputTypeException</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">OutputTypeException</span>: <span class="n">foo</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="sage.repl.rich_output.display_manager.RichReprWarning">
<em class="property">exception </em><code class="descclassname">sage.repl.rich_output.display_manager.</code><code class="descname">RichReprWarning</code><a class="headerlink" href="#sage.repl.rich_output.display_manager.RichReprWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#exceptions.UserWarning" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">exceptions.UserWarning</span></code></a></p>
<p>Warning that is throws if a call to <code class="docutils literal"><span class="pre">_rich_repr_</span></code> fails.</p>
<p>If an object implements <code class="docutils literal"><span class="pre">_rich_repr_</span></code> then it must return a
value, possibly <code class="docutils literal"><span class="pre">None</span></code> to indicate that no rich output can be
generated. But it may not raise an exception as it is very
confusing for the user if the displayhook fails.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">RichReprWarning</span>
<span class="gp">sage: </span><span class="k">raise</span> <span class="n">RichReprWarning</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RichReprWarning</span>: <span class="n">foo</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sage.repl.rich_output.display_manager.get_display_manager">
<code class="descclassname">sage.repl.rich_output.display_manager.</code><code class="descname">get_display_manager</code><em class="property"> = &lt;bound method type.get_instance of &lt;class 'sage.repl.rich_output.display_manager.DisplayManager'&gt;&gt;</em><a class="headerlink" href="#sage.repl.rich_output.display_manager.get_display_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the singleton instance.</p>
<p>This class method is equivalent to
<a class="reference internal" href="#sage.repl.rich_output.display_manager.get_display_manager" title="sage.repl.rich_output.display_manager.get_display_manager"><code class="xref py py-func docutils literal"><span class="pre">get_display_manager()</span></code></a>.</p>
<p>OUTPUT:</p>
<p>The display manager singleton.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">DisplayManager</span>
<span class="gp">sage: </span><span class="n">DisplayManager</span><span class="o">.</span><span class="n">get_instance</span><span class="p">()</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.repl.rich_output.display_manager.restricted_output">
<em class="property">class </em><code class="descclassname">sage.repl.rich_output.display_manager.</code><code class="descname">restricted_output</code><span class="sig-paren">(</span><em>display_manager</em>, <em>output_classes</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.restricted_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Context manager to temporarily restrict the accepted output types</p>
<p>In the context, the output is restricted to the output
container types listed in <code class="docutils literal"><span class="pre">output_classes</span></code>. Additionally,
display preferences are changed not to show graphics.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">display_manager</span></code> – the display manager.</li>
<li><code class="docutils literal"><span class="pre">output_classes</span></code> – iterable of output container types.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="p">(</span>
<span class="go">....:     get_display_manager, restricted_output)</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">restricted_output</span><span class="p">(</span><span class="n">dm</span><span class="p">,</span> <span class="p">[</span><span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputPlainText</span><span class="p">])</span>
<span class="go">&lt;sage.repl.rich_output.display_manager.restricted_output object at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../display/util.html"
                                  title="previous chapter">Utility functions for pretty-printing</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="preferences.html"
                                  title="next chapter">Display Preferences</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/repl/rich_output/display_manager.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="preferences.html" title="Display Preferences"
             >next</a> |</li>
        <li class="right" >
          <a href="../display/util.html" title="Utility functions for pretty-printing"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">The Sage Command Line</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2018, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>