
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Display Manager &#8212; Sage 9.5 Reference Manual: The Sage Command Line</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Display Preferences" href="preferences.html" />
    <link rel="prev" title="Utility functions for pretty-printing" href="../display/util.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="preferences.html" title="Display Preferences"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../display/util.html" title="Utility functions for pretty-printing"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.5 Reference Manual: The Sage Command Line</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Display Manager</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="display-manager">
<span id="sage-repl-rich-output-display-manager"></span><h1>Display Manager<a class="headerlink" href="#display-manager" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.repl.rich_output.display_manager"></span><p>This is the heart of the rich output system, the display manager
arbitrates between</p>
<ul class="simple">
<li><p>Backend capabilities: what can be displayed</p></li>
<li><p>Backend preferences: what gives good quality on the backend</p></li>
<li><p>Sage capabilities: every Sage object can only generate certain
representations, and</p></li>
<li><p>User preferences: typeset vs. plain text vs. ascii art, etc.</p></li>
</ul>
<p>The display manager is a singleton class, Sage always has exactly one
instance of it. Use <code class="xref py py-func docutils literal notranslate"><span class="pre">get_display_manager()</span></code> to obtain it.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">();</span>  <span class="n">dm</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
<dl class="py exception">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayException">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">sage.repl.rich_output.display_manager.</span></span><span class="sig-name descname"><span class="pre">DisplayException</span></span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#Exception" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Base exception for all rich output-related exceptions.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">DisplayException</span>
<span class="gp">sage: </span><span class="k">raise</span> <span class="n">DisplayException</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">DisplayException: foo</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.repl.rich_output.display_manager.</span></span><span class="sig-name descname"><span class="pre">DisplayManager</span></span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage 9.5 Reference Manual: Parents and Elements v9.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>The Display Manager</p>
<p>Used to decide what kind of rich output is best.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">get_display_manager</span><span class="p">()</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.check_backend_class">
<span class="sig-name descname"><span class="pre">check_backend_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.check_backend_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the current backend is an instance of
<code class="docutils literal notranslate"><span class="pre">backend_class</span></code>.</p>
<p>This is, for example, used by the Sage IPython display
formatter to ensure that the IPython backend is in use.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backend_class</span></code> – type of a backend class.</p></li>
</ul>
<p>OUTPUT:</p>
<p>This method returns nothing. A <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> is raised if
<code class="docutils literal notranslate"><span class="pre">backend_class</span></code> is not the type of the current backend.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.backend_base</span> <span class="kn">import</span> <span class="n">BackendSimple</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">check_backend_class</span><span class="p">(</span><span class="n">BackendSimple</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">RuntimeError: check failed: current backend is invalid</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.display_immediately">
<span class="sig-name descname"><span class="pre">display_immediately</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">rich_repr_kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.display_immediately" title="Permalink to this definition">¶</a></dt>
<dd><p>Show output without going back to the command line prompt.</p>
<p>This method must be called to create rich output from an
object when we are not returning to the command line prompt,
for example during program execution. Typically, it is being
called by <a class="reference external" href="../../../../plotting/sage/plot/graphics.html#sage.plot.graphics.Graphics.show" title="(in Sage 9.5 Reference Manual: 2D Graphics v9.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.plot.graphics.Graphics.show()</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – anything. The object to be shown.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rich_repr_kwds</span></code> – optional keyword arguments that are
passed through to <code class="docutils literal notranslate"><span class="pre">obj._rich_repr_</span></code>.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">display_immediately</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.displayhook">
<span class="sig-name descname"><span class="pre">displayhook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.displayhook" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the displayhook</p>
<p>Every backend must pass the value of the last statement of a
line / cell to this method. See also
<a class="reference internal" href="#sage.repl.rich_output.display_manager.DisplayManager.display_immediately" title="sage.repl.rich_output.display_manager.DisplayManager.display_immediately"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display_immediately()</span></code></a> if you want do display rich output
while a program is running.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – anything. The object to be shown.</p></li>
</ul>
<p>OUTPUT:</p>
<p>Returns whatever the backend’s displayhook method returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">displayhook</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1/2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.get_instance">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">get_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the singleton instance.</p>
<p>This class method is equivalent to
<code class="xref py py-func docutils literal notranslate"><span class="pre">get_display_manager()</span></code>.</p>
<p>OUTPUT:</p>
<p>The display manager singleton.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">DisplayManager</span>
<span class="gp">sage: </span><span class="n">DisplayManager</span><span class="o">.</span><span class="n">get_instance</span><span class="p">()</span>
<span class="go">The Sage display manager using the doctest backend</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.graphics_from_save">
<span class="sig-name descname"><span class="pre">graphics_from_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_kwds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_extension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.graphics_from_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to construct graphics.</p>
<p>This method can be used to simplify the implementation of a
<code class="docutils literal notranslate"><span class="pre">_rich_repr_</span></code> method of a graphics object if there is
already a function to save graphics to a file.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">save_function</span></code> – callable that can save graphics to a file
and accepts options like
<a class="reference external" href="../../../../plotting/sage/plot/graphics.html#sage.plot.graphics.Graphics.save" title="(in Sage 9.5 Reference Manual: 2D Graphics v9.5)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.plot.graphics.Graphics.save()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save_kwds</span></code> – dictionary. Keyword arguments that are
passed to the save function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file_extension</span></code> – string starting with <code class="docutils literal notranslate"><span class="pre">'.'</span></code>. The file
extension of the graphics file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_container</span></code> – subclass of
<a class="reference internal" href="output_basic.html#sage.repl.rich_output.output_basic.OutputBase" title="sage.repl.rich_output.output_basic.OutputBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.repl.rich_output.output_basic.OutputBase</span></code></a>. The
output container to use. Must be one of the types in
<a class="reference internal" href="#sage.repl.rich_output.display_manager.DisplayManager.supported_output" title="sage.repl.rich_output.display_manager.DisplayManager.supported_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">supported_output()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code> – pair of integers (optional). The desired graphics
size in pixels. Suggested, but need not be respected by the
output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dpi</span></code> – integer (optional). The desired resolution in dots
per inch. Suggested, but need not be respected by the output.</p></li>
</ul>
<p>OUTPUT:</p>
<p>Return an instance of <code class="docutils literal notranslate"><span class="pre">output_container</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">plt</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">out</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">graphics_from_save</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">save</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(),</span> <span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputImagePng</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">out</span>
<span class="go">OutputImagePng container</span>
<span class="gp">sage: </span><span class="n">out</span><span class="o">.</span><span class="n">png</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x89</span><span class="s1">PNG&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">out</span><span class="o">.</span><span class="n">png</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>   <span class="c1"># random</span>
<span class="go">&#39;/home/user/.sage/temp/localhost.localdomain/23903/tmp_pu5woK.png&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.is_in_terminal">
<span class="sig-name descname"><span class="pre">is_in_terminal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.is_in_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the UI is meant to run in a terminal</p>
<p>When this method returns <code class="docutils literal notranslate"><span class="pre">True</span></code>, you can assume that it is
possible to use <code class="docutils literal notranslate"><span class="pre">raw_input</span></code> or launch external programs that
take over the input.</p>
<p>Otherwise, you should assume that the backend runs remotely or
in a pty controlled by another program. Then you should not
launch external programs with a (text or graphical) UI.</p>
<p>This is used to enable/disable interpreter consoles.</p>
<p>OUTPUT:</p>
<p>Boolean.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.preferences">
<span class="sig-name descname"><span class="pre">preferences</span></span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.preferences" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the preferences.</p>
<p>OUTPUT:</p>
<p>The display preferences as instance of
<a class="reference internal" href="preferences.html#sage.repl.rich_output.preferences.DisplayPreferences" title="sage.repl.rich_output.preferences.DisplayPreferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisplayPreferences</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">preferences</span>
<span class="go">Display preferences:</span>
<span class="go">* graphics is not specified</span>
<span class="go">* supplemental_plot = never</span>
<span class="go">* text is not specified</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.supported_output">
<span class="sig-name descname"><span class="pre">supported_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.supported_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the output container classes that can be used.</p>
<p>OUTPUT:</p>
<p>Frozen set of subclasses of
<a class="reference internal" href="output_basic.html#sage.repl.rich_output.output_basic.OutputBase" title="sage.repl.rich_output.output_basic.OutputBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutputBase</span></code></a>. If
the backend defines derived container classes, this method
will always return their base classes.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputPlainText</span> <span class="ow">in</span> <span class="n">dm</span><span class="o">.</span><span class="n">supported_output</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">dm</span><span class="o">.</span><span class="n">supported_output</span><span class="p">())</span>
<span class="go">&lt;... &#39;frozenset&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.switch_backend">
<span class="sig-name descname"><span class="pre">switch_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.switch_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to a new backend</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backend</span></code> – instance of
<a class="reference internal" href="backend_base.html#sage.repl.rich_output.backend_base.BackendBase" title="sage.repl.rich_output.backend_base.BackendBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackendBase</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kwds</span></code> – optional keyword arguments that are passed on to
the
<a class="reference internal" href="backend_base.html#sage.repl.rich_output.backend_base.BackendBase.install" title="sage.repl.rich_output.backend_base.BackendBase.install"><code class="xref py py-meth docutils literal notranslate"><span class="pre">install()</span></code></a>
method.</p></li>
</ul>
<p>OUTPUT:</p>
<p>The previous backend.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.backend_base</span> <span class="kn">import</span> <span class="n">BackendSimple</span>
<span class="gp">sage: </span><span class="n">simple</span> <span class="o">=</span> <span class="n">BackendSimple</span><span class="p">()</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">();</span>  <span class="n">dm</span>
<span class="go">The Sage display manager using the doctest backend</span>

<span class="gp">sage: </span><span class="n">previous</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">switch_backend</span><span class="p">(</span><span class="n">simple</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">dm</span>
<span class="go">The Sage display manager using the simple backend</span>
</pre></div>
</div>
<p>Restore the doctest backend:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">switch_backend</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span> <span class="ow">is</span> <span class="n">simple</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.threejs_scripts">
<span class="sig-name descname"><span class="pre">threejs_scripts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">online</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.threejs_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Three.js script tag for the current backend.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">online</span></code> – Boolean determining script usage context</p></li>
</ul>
<p>OUTPUT:</p>
<p>String containing script tag</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This base method handles <code class="docutils literal notranslate"><span class="pre">online=True</span></code> case only, serving CDN
script tag. Location of script for offline usage is
backend-specific.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">get_display_manager</span><span class="p">()</span><span class="o">.</span><span class="n">threejs_scripts</span><span class="p">(</span><span class="n">online</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;...&lt;script src=&quot;https://cdn.jsdelivr.net/gh/sagemath/threejs-sage@...&#39;</span>
<span class="gp">sage: </span><span class="n">get_display_manager</span><span class="p">()</span><span class="o">.</span><span class="n">threejs_scripts</span><span class="p">(</span><span class="n">online</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: current backend does not support</span>
<span class="go">offline threejs graphics</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.DisplayManager.types">
<span class="sig-name descname"><span class="pre">types</span></span><a class="headerlink" href="#sage.repl.rich_output.display_manager.DisplayManager.types" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog of all output container types.</p>
<p>Note that every output type must be registered in
<a class="reference internal" href="output_catalog.html#module-sage.repl.rich_output.output_catalog" title="sage.repl.rich_output.output_catalog"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.repl.rich_output.output_catalog</span></code></a>.</p>
<p>OUTPUT:</p>
<p>Returns the <a class="reference internal" href="output_catalog.html#module-sage.repl.rich_output.output_catalog" title="sage.repl.rich_output.output_catalog"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.repl.rich_output.output_catalog</span></code></a>
module.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output</span> <span class="kn">import</span> <span class="n">get_display_manager</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputPlainText</span>
<span class="go">&lt;class &#39;sage.repl.rich_output.output_basic.OutputPlainText&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.OutputTypeException">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">sage.repl.rich_output.display_manager.</span></span><span class="sig-name descname"><span class="pre">OutputTypeException</span></span><a class="headerlink" href="#sage.repl.rich_output.display_manager.OutputTypeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.repl.rich_output.display_manager.DisplayException" title="sage.repl.rich_output.display_manager.DisplayException"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.repl.rich_output.display_manager.DisplayException</span></code></a></p>
<p>Wrong Output container.</p>
<p>The output containers are the subclasses of
<a class="reference internal" href="output_basic.html#sage.repl.rich_output.output_basic.OutputBase" title="sage.repl.rich_output.output_basic.OutputBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutputBase</span></code></a> that
contain the entire output. The display backends must create output
containers of a suitable type depending on the displayed Python
object. This exception indicates that there is a mistake in the
backend and it returned the wrong type of output container.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">OutputTypeException</span>
<span class="gp">sage: </span><span class="k">raise</span> <span class="n">OutputTypeException</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">OutputTypeException: foo</span>
</pre></div>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.RichReprWarning">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">sage.repl.rich_output.display_manager.</span></span><span class="sig-name descname"><span class="pre">RichReprWarning</span></span><a class="headerlink" href="#sage.repl.rich_output.display_manager.RichReprWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#UserWarning" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserWarning</span></code></a></p>
<p>Warning that is throws if a call to <code class="docutils literal notranslate"><span class="pre">_rich_repr_</span></code> fails.</p>
<p>If an object implements <code class="docutils literal notranslate"><span class="pre">_rich_repr_</span></code> then it must return a
value, possibly <code class="docutils literal notranslate"><span class="pre">None</span></code> to indicate that no rich output can be
generated. But it may not raise an exception as it is very
confusing for the user if the displayhook fails.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="n">RichReprWarning</span>
<span class="gp">sage: </span><span class="k">raise</span> <span class="n">RichReprWarning</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">RichReprWarning: foo</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.repl.rich_output.display_manager.restricted_output">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sage.repl.rich_output.display_manager.</span></span><span class="sig-name descname"><span class="pre">restricted_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display_manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_classes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.rich_output.display_manager.restricted_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager to temporarily restrict the accepted output types</p>
<p>In the context, the output is restricted to the output
container types listed in <code class="docutils literal notranslate"><span class="pre">output_classes</span></code>. Additionally,
display preferences are changed not to show graphics.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">display_manager</span></code> – the display manager.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_classes</span></code> – iterable of output container types.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.rich_output.display_manager</span> <span class="kn">import</span> <span class="p">(</span>
<span class="gp">....: </span>    <span class="n">get_display_manager</span><span class="p">,</span> <span class="n">restricted_output</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">dm</span> <span class="o">=</span> <span class="n">get_display_manager</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">restricted_output</span><span class="p">(</span><span class="n">dm</span><span class="p">,</span> <span class="p">[</span><span class="n">dm</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">OutputPlainText</span><span class="p">])</span>
<span class="go">&lt;sage.repl.rich_output.display_manager.restricted_output object at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../display/util.html"
                        title="previous chapter">Utility functions for pretty-printing</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="preferences.html"
                        title="next chapter">Display Preferences</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/sage/repl/rich_output/display_manager.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="preferences.html" title="Display Preferences"
             >next</a> |</li>
        <li class="right" >
          <a href="../display/util.html" title="Utility functions for pretty-printing"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Sage 9.5 Reference Manual: The Sage Command Line</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Display Manager</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>