
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=600, initial-scale=1">
    <title>Sage Wrapper for Bitmap Images &#8212; Sage 9.2 Reference Manual: The Sage Command Line</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="The Sage Input Hook" href="inputhook.html" />
    <link rel="prev" title="HTML Generator for JSmol" href="display/jsmol_iframe.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="inputhook.html" title="The Sage Input Hook"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="display/jsmol_iframe.html" title="HTML Generator for JSmol"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.2 Reference Manual: The Sage Command Line</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Sage Wrapper for Bitmap Images</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sage-wrapper-for-bitmap-images">
<span id="sage-repl-image"></span><h1>Sage Wrapper for Bitmap Images<a class="headerlink" href="#sage-wrapper-for-bitmap-images" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.repl.image"></span><p>Some computations in Sage return bitmap images, for example matrices
can be turned into bitmaps directly. Note that this is different from
all plotting functionality, the latter can equally produce vector
graphics. This module is about bitmaps only, and a shallow wrapper
around <code class="docutils literal notranslate"><span class="pre">PIL.Image</span></code>. The only difference is that <a class="reference internal" href="#sage.repl.image.Image" title="sage.repl.image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a>
is displayed as graphics by the Sage if the UI can.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pixels</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">pixels</span><span class="p">()</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">width</span><span class="p">()):</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">height</span><span class="p">()):</span>
<span class="gp">....: </span>        <span class="n">pixels</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span>
<span class="go">256x256px 24-bit RGB image</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.repl.image.Image&#39;&gt;</span>
</pre></div>
</div>
<dl class="py class">
<dt id="sage.repl.image.Image">
<em class="property">class </em><code class="sig-prename descclassname">sage.repl.image.</code><code class="sig-name descname">Image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mode</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'white'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage 9.2 Reference Manual: Parents and Elements v9.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>Creates a new image with the given mode and size.</p>
<p>INPUT:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code> – string. The mode to use for the new image. Valid
options are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'1'</span></code> (1-bit pixels, black and white, stored with
one pixel per byte)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'L'</span></code> (8-bit pixels, black and white)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'P'</span></code> (8-bit pixels, mapped to any other mode using
a color palette)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'RGB'</span></code> (3x8-bit pixels, true color)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'RGBA'</span></code> (4x8-bit pixels, true color with
transparency mask)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'CMYK'</span></code> (4x8-bit pixels, color separation)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'YCbCr'</span></code> (3x8-bit pixels, color video format)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'LAB'</span></code> (3x8-bit pixels, the L*a*b color space)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'HSV'</span></code> (3x8-bit pixels, Hue, Saturation, Value
color space)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'I'</span></code> (32-bit signed integer pixels)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'F'</span></code> (32-bit floating point pixels)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code> – 2-tuple, containing (width, height) in pixels.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code> – string or tuple of numeric. What colour to use
for the image. Default is black.  If given, this should be a
a tuple with one value per band. When creating RGB images,
you can also use colour strings as supported by the
ImageColor module.  If the colour is None, the image is not
initialised.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A new <a class="reference internal" href="#sage.repl.image.Image" title="sage.repl.image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="p">(</span><span class="mi">13</span><span class="p">,))</span>
<span class="go">16x16px 8-bit Color image</span>
</pre></div>
</div>
<dl class="py method">
<dt id="sage.repl.image.Image.height">
<code class="sig-name descname">height</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the vertical dimension in pixels</p>
<p>OUTPUT:</p>
<p>Integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
<span class="go">34</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="sage.repl.image.Image.mode">
<code class="sig-name descname">mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the color mode</p>
<p>OUTPUT:</p>
<p>String. As given when constructing the image.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;YCbCr&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span>
<span class="go">&#39;YCbCr&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="sage.repl.image.Image.pil">
<code class="sig-name descname">pil</code><a class="headerlink" href="#sage.repl.image.Image.pil" title="Permalink to this definition">¶</a></dt>
<dd><p>Access the wrapped PIL(low) Image</p>
<p>OUTPUT:</p>
<p>The underlying <code class="docutils literal notranslate"><span class="pre">PIL.Image.Image</span> <span class="pre">object</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">pil</span>
<span class="go">&lt;PIL.Image.Image image mode=RGB size=16x16 at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="sage.repl.image.Image.pixels">
<code class="sig-name descname">pixels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image.pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pixel map</p>
<p>OUTPUT:</p>
<p>The PIL PixelAccess object that allows you to get/set the
pixel data.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">pixels</span><span class="p">()</span>
<span class="go">&lt;PixelAccess object at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="sage.repl.image.Image.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the bitmap image</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> – string. The filename to save as. The given
extension automatically determines the image file type.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span> <span class="p">(</span><span class="mi">13</span><span class="p">,))</span>
<span class="gp">sage: </span><span class="n">filename</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.png&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x89</span><span class="s1">PNG&#39;</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="sage.repl.image.Image.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show this image immediately.</p>
<p>This method attempts to display the graphics immediately,
without waiting for the currently running code (if any) to
return to the command line. Be careful, calling it from within
a loop will potentially launch a large number of external
viewer programs.</p>
<p>OUTPUT:</p>
<p>This method does not return anything. Use <a class="reference internal" href="#sage.repl.image.Image.save" title="sage.repl.image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> if you
want to save the figure as an image.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="sage.repl.image.Image.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.repl.image.Image.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the horizontal dimension in pixels</p>
<p>OUTPUT:</p>
<p>Integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.repl.image</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">sage: </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span> <span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">img</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
<span class="go">34</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="display/jsmol_iframe.html"
                        title="previous chapter">HTML Generator for JSmol</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="inputhook.html"
                        title="next chapter">The Sage Input Hook</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/repl/image.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="inputhook.html" title="The Sage Input Hook"
             >next</a> |</li>
        <li class="right" >
          <a href="display/jsmol_iframe.html" title="HTML Generator for JSmol"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Sage 9.2 Reference Manual: The Sage Command Line</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Sage Wrapper for Bitmap Images</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2020, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>