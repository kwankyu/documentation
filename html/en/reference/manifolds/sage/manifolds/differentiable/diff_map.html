
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Differentiable Maps between Differentiable Manifolds &#8212; Manifolds</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/thebelab.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Curves in Manifolds" href="curve.html" />
    <link rel="prev" title="Sets of Morphisms between Differentiable Manifolds" href="manifold_homset.html" />
  <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="../../../../_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="../../../../_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="curve.html" title="Curves in Manifolds"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="manifold_homset.html" title="Sets of Morphisms between Differentiable Manifolds"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../../index.html">Manifolds</a> &#187;
    
  </li>

          <li class="nav-item nav-item-1"><a href="../../../diff_manifold.html" >Differentiable Manifolds</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../diff_map.html" accesskey="U">Differentiable Maps and Curves</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Differentiable Maps between Differentiable Manifolds</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="differentiable-maps-between-differentiable-manifolds">
<span id="sage-manifolds-differentiable-diff-map"></span><h1>Differentiable Maps between Differentiable Manifolds<a class="headerlink" href="#differentiable-maps-between-differentiable-manifolds" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.manifolds.differentiable.diff_map"></span><p>The class <a class="reference internal" href="#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiffMap</span></code></a> implements differentiable maps from a differentiable
manifold <span class="math notranslate nohighlight">\(M\)</span> to a differentiable manifold <span class="math notranslate nohighlight">\(N\)</span> over the same topological field
<span class="math notranslate nohighlight">\(K\)</span> as <span class="math notranslate nohighlight">\(M\)</span> (in most applications, <span class="math notranslate nohighlight">\(K = \RR\)</span> or <span class="math notranslate nohighlight">\(K = \CC\)</span>):</p>
<div class="math notranslate nohighlight">
\[\Phi: M \longrightarrow N\]</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Eric Gourgoulhon, Michal Bejger (2013-2015): initial version</p></li>
<li><p>Marco Mancini (2018): pullback parallelization</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p>Chap. 1 of <a class="reference internal" href="../../../../references/index.html#kn1963" id="id1"><span>[KN1963]</span></a></p></li>
<li><p>Chaps. 2 and 3 of <a class="reference internal" href="../../../../references/index.html#lee2013" id="id2"><span>[Lee2013]</span></a></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="sage.manifolds.differentiable.diff_map.DiffMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.manifolds.differentiable.diff_map.</span></span><span class="sig-name descname"><span class="pre">DiffMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_functions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latex_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_isomorphism</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_identity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.diff_map.DiffMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../continuous_map.html#sage.manifolds.continuous_map.ContinuousMap" title="sage.manifolds.continuous_map.ContinuousMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.manifolds.continuous_map.ContinuousMap</span></code></a></p>
<p>Differentiable map between two differentiable manifolds.</p>
<p>This class implements differentiable maps of the type</p>
<div class="math notranslate nohighlight">
\[\Phi: M \longrightarrow  N\]</div>
<p>where <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> are differentiable manifolds over the same topological
field <span class="math notranslate nohighlight">\(K\)</span> (in most applications, <span class="math notranslate nohighlight">\(K = \RR\)</span> or <span class="math notranslate nohighlight">\(K = \CC\)</span>).</p>
<p>Differentiable maps are the <em>morphisms</em> of the <em>category</em> of
differentiable manifolds. The set of all differentiable maps from <span class="math notranslate nohighlight">\(M\)</span> to
<span class="math notranslate nohighlight">\(N\)</span> is therefore the homset between <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span>, which is denoted by
<span class="math notranslate nohighlight">\(\mathrm{Hom}(M,N)\)</span>.</p>
<p>The class <a class="reference internal" href="#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiffMap</span></code></a> is a Sage <em>element</em> class, whose <em>parent</em>
class is
<a class="reference internal" href="manifold_homset.html#sage.manifolds.differentiable.manifold_homset.DifferentiableManifoldHomset" title="sage.manifolds.differentiable.manifold_homset.DifferentiableManifoldHomset"><code class="xref py py-class docutils literal notranslate"><span class="pre">DifferentiableManifoldHomset</span></code></a>.
It inherits from the class
<a class="reference internal" href="../continuous_map.html#sage.manifolds.continuous_map.ContinuousMap" title="sage.manifolds.continuous_map.ContinuousMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContinuousMap</span></code></a> since a
differentiable map is obviously a continuous one.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code> – homset <span class="math notranslate nohighlight">\(\mathrm{Hom}(M,N)\)</span> to which the differentiable
map belongs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coord_functions</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) if not <code class="docutils literal notranslate"><span class="pre">None</span></code>, must be
a dictionary of the coordinate expressions (as lists (or tuples) of the
coordinates of the image expressed in terms of the coordinates of
the considered point) with the pairs of charts (chart1, chart2)
as keys (chart1 being a chart on <span class="math notranslate nohighlight">\(M\)</span> and chart2 a chart on <span class="math notranslate nohighlight">\(N\)</span>).
If the dimension of the map’s codomain is 1, a single coordinate
expression can be passed instead of a tuple with a single element</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) name given to the differentiable map</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latex_name</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) LaTeX symbol to denote the
differentiable map; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, the LaTeX symbol is set to <code class="docutils literal notranslate"><span class="pre">name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_isomorphism</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) determines whether the
constructed object is a isomorphism (i.e. a diffeomorphism); if set to
<code class="docutils literal notranslate"><span class="pre">True</span></code>, then the manifolds <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> must have the same dimension.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_identity</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) determines whether the
constructed object is the identity map; if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
then <span class="math notranslate nohighlight">\(N\)</span> must be <span class="math notranslate nohighlight">\(M\)</span> and the entry <code class="docutils literal notranslate"><span class="pre">coord_functions</span></code> is not used.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the information passed by means of the argument <code class="docutils literal notranslate"><span class="pre">coord_functions</span></code>
is not sufficient to fully specify the differentiable map,
further coordinate expressions, in other charts, can be subsequently
added by means of the method
<a class="reference internal" href="../continuous_map.html#sage.manifolds.continuous_map.ContinuousMap.add_expr" title="sage.manifolds.continuous_map.ContinuousMap.add_expr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_expr()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<p>The standard embedding of the sphere <span class="math notranslate nohighlight">\(S^2\)</span> into <span class="math notranslate nohighlight">\(\RR^3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;S^2&#39;</span><span class="p">)</span> <span class="c1"># the 2-dimensional sphere S^2</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># complement of the North pole</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># stereographic coordinates from the North pole</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span> <span class="c1"># complement of the South pole</span>
<span class="gp">sage: </span><span class="n">c_uv</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># stereographic coordinates from the South pole</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">declare_union</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>   <span class="c1"># S^2 is the union of U and V</span>
<span class="gp">sage: </span><span class="n">xy_to_uv</span> <span class="o">=</span> <span class="n">c_xy</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_uv</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)),</span>
<span class="gp">....: </span>                <span class="n">intersection_name</span><span class="o">=</span><span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="n">restrictions1</span><span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">!=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">....: </span>                <span class="n">restrictions2</span><span class="o">=</span> <span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">uv_to_xy</span> <span class="o">=</span> <span class="n">xy_to_uv</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\RR^3&#39;</span><span class="p">)</span>  <span class="c1"># R^3</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>  <span class="c1"># Cartesian coordinates on R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span>
<span class="gp">....: </span><span class="p">{(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">c_cart</span><span class="p">):</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span>
<span class="gp">....: </span> <span class="p">(</span><span class="n">c_uv</span><span class="p">,</span> <span class="n">c_cart</span><span class="p">):</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">v</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)]},</span>
<span class="gp">....: </span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Phi</span>
<span class="go">Differentiable map Phi from the 2-dimensional differentiable manifold</span>
<span class="go"> S^2 to the 3-dimensional differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set of Morphisms from 2-dimensional differentiable manifold S^2 to</span>
<span class="go"> 3-dimensional differentiable manifold R^3 in Category of smooth</span>
<span class="go"> manifolds over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Hom</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">Phi</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.manifolds.differentiable.manifold_homset.DifferentiableManifoldHomset_with_category.element_class&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: S^2 → R^3</span>
<span class="go">on U: (x, y) ↦ (X, Y, Z) = (2*x/(x^2 + y^2 + 1), 2*y/(x^2 + y^2 + 1),</span>
<span class="go"> (x^2 + y^2 - 1)/(x^2 + y^2 + 1))</span>
<span class="go">on V: (u, v) ↦ (X, Y, Z) = (2*u/(u^2 + v^2 + 1), 2*v/(u^2 + v^2 + 1),</span>
<span class="go"> -(u^2 + v^2 - 1)/(u^2 + v^2 + 1))</span>
</pre></div>
</div>
<p>It is possible to create the map via the method
<a class="reference internal" href="manifold.html#sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_map" title="sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_map"><code class="xref py py-meth docutils literal notranslate"><span class="pre">diff_map()</span></code></a>
only in a single pair of charts: the argument <code class="docutils literal notranslate"><span class="pre">coord_functions</span></code> is then
a mere list of coordinate expressions (and not a dictionary) and the
arguments <code class="docutils literal notranslate"><span class="pre">chart1</span></code> and <code class="docutils literal notranslate"><span class="pre">chart2</span></code> have to be provided if the charts
differ from the default ones on the domain and/or the codomain:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi1</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>                      <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span>
<span class="gp">....: </span>                  <span class="n">chart1</span><span class="o">=</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">chart2</span><span class="o">=</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                  <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">c_xy</span></code> and <code class="docutils literal notranslate"><span class="pre">c_cart</span></code> are the default charts on respectively <code class="docutils literal notranslate"><span class="pre">M</span></code>
and <code class="docutils literal notranslate"><span class="pre">N</span></code>, they can be omitted, so that the above declaration is equivalent
to:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi1</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>                      <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span>
<span class="gp">....: </span>                  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>With such a declaration, the differentiable map is only partially defined
on the manifold <span class="math notranslate nohighlight">\(S^2\)</span>, being known in only one chart:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi1</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: S^2 → R^3</span>
<span class="go">on U: (x, y) ↦ (X, Y, Z) = (2*x/(x^2 + y^2 + 1), 2*y/(x^2 + y^2 + 1),</span>
<span class="go"> (x^2 + y^2 - 1)/(x^2 + y^2 + 1))</span>
</pre></div>
</div>
<p>The definition can be completed by means of the method
<a class="reference internal" href="../continuous_map.html#sage.manifolds.continuous_map.ContinuousMap.add_expr" title="sage.manifolds.continuous_map.ContinuousMap.add_expr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_expr()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi1</span><span class="o">.</span><span class="n">add_expr</span><span class="p">(</span><span class="n">c_uv</span><span class="p">,</span> <span class="n">c_cart</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">u</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">v</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>                             <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">Phi1</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: S^2 → R^3</span>
<span class="go">on U: (x, y) ↦ (X, Y, Z) = (2*x/(x^2 + y^2 + 1), 2*y/(x^2 + y^2 + 1),</span>
<span class="go"> (x^2 + y^2 - 1)/(x^2 + y^2 + 1))</span>
<span class="go">on V: (u, v) ↦ (X, Y, Z) = (2*u/(u^2 + v^2 + 1), 2*v/(u^2 + v^2 + 1),</span>
<span class="go"> -(u^2 + v^2 - 1)/(u^2 + v^2 + 1))</span>
</pre></div>
</div>
<p>At this stage, <code class="docutils literal notranslate"><span class="pre">Phi1</span></code> and <code class="docutils literal notranslate"><span class="pre">Phi</span></code> are fully equivalent:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi1</span> <span class="o">==</span> <span class="n">Phi</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The test suite is passed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Phi</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Phi1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The map acts on points:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">np</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">c_uv</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;N&#39;</span><span class="p">)</span>  <span class="c1"># the North pole</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="p">(</span><span class="n">np</span><span class="p">)</span>
<span class="go">Point Phi(N) on the 3-dimensional differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="p">(</span><span class="n">np</span><span class="p">)</span><span class="o">.</span><span class="n">coord</span><span class="p">()</span> <span class="c1"># Cartesian coordinates</span>
<span class="go">(0, 0, 1)</span>
<span class="gp">sage: </span><span class="n">sp</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>  <span class="c1"># the South pole</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span><span class="o">.</span><span class="n">coord</span><span class="p">()</span> <span class="c1"># Cartesian coordinates</span>
<span class="go">(0, 0, -1)</span>
</pre></div>
</div>
<p>The differential <span class="math notranslate nohighlight">\(\mathrm{d}\Phi\)</span> of the map <span class="math notranslate nohighlight">\(\Phi\)</span> at the North pole and
at the South pole:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">differential</span><span class="p">(</span><span class="n">np</span><span class="p">)</span>
<span class="go">Generic morphism:</span>
<span class="go">  From: Tangent space at Point N on the 2-dimensional differentiable manifold S^2</span>
<span class="go">  To:   Tangent space at Point Phi(N) on the 3-dimensional differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">differential</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="go">Generic morphism:</span>
<span class="go">  From: Tangent space at Point S on the 2-dimensional differentiable manifold S^2</span>
<span class="go">  To:   Tangent space at Point Phi(S) on the 3-dimensional differentiable manifold R^3</span>
</pre></div>
</div>
<p>The matrix of the linear map <span class="math notranslate nohighlight">\(\mathrm{d}\Phi_N\)</span> with respect to the default
bases of <span class="math notranslate nohighlight">\(T_N S^2\)</span> and <span class="math notranslate nohighlight">\(T_{\Phi(N)} \RR^3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">differential</span><span class="p">(</span><span class="n">np</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[2 0]</span>
<span class="go">[0 2]</span>
<span class="go">[0 0]</span>
</pre></div>
</div>
<p>the default bases being:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">differential</span><span class="p">(</span><span class="n">np</span><span class="p">)</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span><span class="o">.</span><span class="n">default_basis</span><span class="p">()</span>
<span class="go">Basis (∂/∂u,∂/∂v) on the Tangent space at Point N on the 2-dimensional</span>
<span class="go"> differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">differential</span><span class="p">(</span><span class="n">np</span><span class="p">)</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span><span class="o">.</span><span class="n">default_basis</span><span class="p">()</span>
<span class="go">Basis (∂/∂X,∂/∂Y,∂/∂Z) on the Tangent space at Point Phi(N) on the</span>
<span class="go"> 3-dimensional differentiable manifold R^3</span>
</pre></div>
</div>
<p>Differentiable maps can be composed by means of the operator <code class="docutils literal notranslate"><span class="pre">*</span></code>: let
us introduce the map <span class="math notranslate nohighlight">\(\RR^3\rightarrow \RR^2\)</span> corresponding to
the projection from the point <span class="math notranslate nohighlight">\((X,Y,Z)=(0,0,1)\)</span> onto the equatorial plane
<span class="math notranslate nohighlight">\(Z=0\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\RR^2&#39;</span><span class="p">)</span> <span class="c1"># R^2 (equatorial plane)</span>
<span class="gp">sage: </span><span class="n">cP</span><span class="o">.&lt;</span><span class="n">xP</span><span class="p">,</span> <span class="n">yP</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Psi</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="p">(</span><span class="n">X</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">Z</span><span class="p">),</span> <span class="n">Y</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">Z</span><span class="p">)),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Psi&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                 <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Psi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Psi</span>
<span class="go">Differentiable map Psi from the 3-dimensional differentiable manifold</span>
<span class="go"> R^3 to the 2-dimensional differentiable manifold R^2</span>
<span class="gp">sage: </span><span class="n">Psi</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Psi: R^3 → R^2</span>
<span class="go">   (X, Y, Z) ↦ (xP, yP) = (-X/(Z - 1), -Y/(Z - 1))</span>
</pre></div>
</div>
<p>Then we compose <code class="docutils literal notranslate"><span class="pre">Psi</span></code> with <code class="docutils literal notranslate"><span class="pre">Phi</span></code>, thereby getting a map
<span class="math notranslate nohighlight">\(S^2\rightarrow \RR^2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ster</span> <span class="o">=</span> <span class="n">Psi</span><span class="o">*</span><span class="n">Phi</span> <span class="p">;</span> <span class="n">ster</span>
<span class="go">Differentiable map from the 2-dimensional differentiable manifold S^2</span>
<span class="go"> to the 2-dimensional differentiable manifold R^2</span>
</pre></div>
</div>
<p>Let us test on the South pole (<code class="docutils literal notranslate"><span class="pre">sp</span></code>) that <code class="docutils literal notranslate"><span class="pre">ster</span></code> is indeed the
composite of <code class="docutils literal notranslate"><span class="pre">Psi</span></code> and <code class="docutils literal notranslate"><span class="pre">Phi</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ster</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span> <span class="o">==</span> <span class="n">Psi</span><span class="p">(</span><span class="n">Phi</span><span class="p">(</span><span class="n">sp</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Actually <code class="docutils literal notranslate"><span class="pre">ster</span></code> is the stereographic projection from the North pole, as
its coordinate expression reveals:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ster</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">S^2 → R^2</span>
<span class="go">on U: (x, y) ↦ (xP, yP) = (x, y)</span>
<span class="go">on V: (u, v) ↦ (xP, yP) = (u/(u^2 + v^2), v/(u^2 + v^2))</span>
</pre></div>
</div>
<p>If its codomain is 1-dimensional, a differentiable map must be
defined by a single symbolic expression for each pair of charts, and not
by a list/tuple with a single element:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_N</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">{(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">c_N</span><span class="p">):</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">....: </span><span class="p">(</span><span class="n">c_uv</span><span class="p">,</span> <span class="n">c_N</span><span class="p">):</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)})</span>  <span class="c1"># not ...[1/(u^2+v^2)] or (1/(u^2+v^2),)</span>
</pre></div>
</div>
<p>An example of differentiable map <span class="math notranslate nohighlight">\(\RR \rightarrow \RR^2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">)</span>  <span class="c1"># field R</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>  <span class="c1"># canonical chart on R</span>
<span class="gp">sage: </span><span class="n">R2</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">)</span>  <span class="c1"># R^2</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R2</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Cartesian coordinates on R^2</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">R2</span><span class="p">,</span> <span class="p">[</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">)</span> <span class="p">;</span> <span class="n">Phi</span>
<span class="go">Differentiable map Phi from the 1-dimensional differentiable manifold R</span>
<span class="go"> to the 2-dimensional differentiable manifold R^2</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set of Morphisms from 1-dimensional differentiable manifold R to</span>
<span class="go"> 2-dimensional differentiable manifold R^2 in Category of smooth</span>
<span class="go"> manifolds over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Hom</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">R2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: R → R^2</span>
<span class="go">   t ↦ (x, y) = (cos(t), sin(t))</span>
</pre></div>
</div>
<p>An example of diffeomorphism between the unit open disk and the Euclidean
plane <span class="math notranslate nohighlight">\(\RR^2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">R2</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">c_xy</span><span class="p">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">})</span> <span class="c1"># the open unit disk</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">diffeomorphism</span><span class="p">(</span><span class="n">R2</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span>
<span class="gp">....: </span>                       <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Phi</span>
<span class="go">Diffeomorphism Phi from the Open subset D of the 2-dimensional</span>
<span class="go"> differentiable manifold R^2 to the 2-dimensional differentiable</span>
<span class="go"> manifold R^2</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set of Morphisms from Open subset D of the 2-dimensional differentiable</span>
<span class="go"> manifold R^2 to 2-dimensional differentiable manifold R^2 in Category</span>
<span class="go"> of smooth manifolds over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Hom</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">R2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: D → R^2</span>
<span class="go">   (x, y) ↦ (x, y) = (x/sqrt(-x^2 - y^2 + 1), y/sqrt(-x^2 - y^2 + 1))</span>
</pre></div>
</div>
<p>The image of a point:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">Phi</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="p">;</span> <span class="n">q</span>
<span class="go">Point on the 2-dimensional differentiable manifold R^2</span>
<span class="gp">sage: </span><span class="n">q</span><span class="o">.</span><span class="n">coord</span><span class="p">()</span>
<span class="go">(1/3*sqrt(3), 0)</span>
</pre></div>
</div>
<p>The inverse diffeomorphism is computed by means of the method
<a class="reference internal" href="../continuous_map.html#sage.manifolds.continuous_map.ContinuousMap.inverse" title="sage.manifolds.continuous_map.ContinuousMap.inverse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inverse()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="go">Diffeomorphism Phi^(-1) from the 2-dimensional differentiable manifold R^2</span>
<span class="go"> to the Open subset D of the 2-dimensional differentiable manifold R^2</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi^(-1): R^2 → D</span>
<span class="go">   (x, y) ↦ (x, y) = (x/sqrt(x^2 + y^2 + 1), y/sqrt(x^2 + y^2 + 1))</span>
</pre></div>
</div>
<p>Equivalently, one may use the notations <code class="docutils literal notranslate"><span class="pre">^(-1)</span></code> or <code class="docutils literal notranslate"><span class="pre">~</span></code> to get the
inverse:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Phi</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">Phi</span> <span class="ow">is</span> <span class="n">Phi</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Check that <code class="docutils literal notranslate"><span class="pre">~Phi</span></code> is indeed the inverse of <code class="docutils literal notranslate"><span class="pre">Phi</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="o">~</span><span class="n">Phi</span><span class="p">)(</span><span class="n">q</span><span class="p">)</span> <span class="o">==</span> <span class="n">p</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">*</span> <span class="o">~</span><span class="n">Phi</span> <span class="o">==</span> <span class="n">R2</span><span class="o">.</span><span class="n">identity_map</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">Phi</span> <span class="o">*</span> <span class="n">Phi</span> <span class="o">==</span> <span class="n">D</span><span class="o">.</span><span class="n">identity_map</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The coordinate expression of the inverse diffeomorphism:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="o">~</span><span class="n">Phi</span><span class="p">)</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi^(-1): R^2 → D</span>
<span class="go">   (x, y) ↦ (x, y) = (x/sqrt(x^2 + y^2 + 1), y/sqrt(x^2 + y^2 + 1))</span>
</pre></div>
</div>
<p>A special case of diffeomorphism: the identity map of the open unit disk:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">id</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">identity_map</span><span class="p">()</span> <span class="p">;</span> <span class="nb">id</span>
<span class="go">Identity map Id_D of the Open subset D of the 2-dimensional</span>
<span class="go"> differentiable manifold R^2</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">\mathrm{Id}_{D}</span>
<span class="gp">sage: </span><span class="nb">id</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set of Morphisms from Open subset D of the 2-dimensional differentiable</span>
<span class="go"> manifold R^2 to Open subset D of the 2-dimensional differentiable</span>
<span class="go"> manifold R^2 in Join of Category of subobjects of sets and Category of</span>
<span class="go"> smooth manifolds over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="nb">id</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Hom</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">id</span> <span class="ow">is</span> <span class="n">Hom</span><span class="p">(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>  <span class="c1"># the identity element of the monoid Hom(D,D)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The identity map acting on a point:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">id</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">Point on the 2-dimensional differentiable manifold R^2</span>
<span class="gp">sage: </span><span class="nb">id</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">==</span> <span class="n">p</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">id</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="ow">is</span> <span class="n">p</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The coordinate expression of the identity map:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">id</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Id_D: D → D</span>
<span class="go">   (x, y) ↦ (x, y)</span>
</pre></div>
</div>
<p>The identity map is its own inverse:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">id</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">id</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="o">~</span><span class="nb">id</span> <span class="ow">is</span> <span class="nb">id</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.manifolds.differentiable.diff_map.DiffMap.differential">
<span class="sig-name descname"><span class="pre">differential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.diff_map.DiffMap.differential" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the differential of <code class="docutils literal notranslate"><span class="pre">self</span></code> at a given point.</p>
<p>If the differentiable map <code class="docutils literal notranslate"><span class="pre">self</span></code> is</p>
<div class="math notranslate nohighlight">
\[\Phi: M \longrightarrow N,\]</div>
<p>where <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> are differentiable manifolds, the <em>differential</em>
of <span class="math notranslate nohighlight">\(\Phi\)</span> at a point <span class="math notranslate nohighlight">\(p \in M\)</span> is the tangent space linear map:</p>
<div class="math notranslate nohighlight">
\[\mathrm{d}\Phi_p: T_p M \longrightarrow T_{\Phi(p)} N\]</div>
<p>defined by</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{rccc}
\forall v\in T_p M,\quad \mathrm{d}\Phi_p(v) :
                    &amp; C^k(N) &amp; \longrightarrow &amp; \mathbb{R} \\
                    &amp; f &amp; \longmapsto &amp; v(f\circ \Phi)
\end{array}\end{split}\]</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">point</span></code> – point <span class="math notranslate nohighlight">\(p\)</span> in the domain <span class="math notranslate nohighlight">\(M\)</span> of the differentiable
map <span class="math notranslate nohighlight">\(\Phi\)</span></p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathrm{d}\Phi_p\)</span>, the differential of <span class="math notranslate nohighlight">\(\Phi\)</span> at <span class="math notranslate nohighlight">\(p\)</span>, as a
<a class="reference external" href="../../../../tensor_free_modules/sage/tensor/modules/free_module_morphism.html#sage.tensor.modules.free_module_morphism.FiniteRankFreeModuleMorphism" title="(in Tensors on free modules of finite rank v9.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiniteRankFreeModuleMorphism</span></code></a></p></li>
</ul>
<p>EXAMPLES:</p>
<p>Differential of a differentiable map between a 2-dimensional manifold
and a 3-dimensional one:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">{(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">):</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)},</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                 <span class="n">latex_name</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">dPhip</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">differential</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="p">;</span> <span class="n">dPhip</span>
<span class="go">Generic morphism:</span>
<span class="go">  From: Tangent space at Point p on the 2-dimensional differentiable manifold M</span>
<span class="go">  To:   Tangent space at Point Phi(p) on the 3-dimensional differentiable manifold N</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">dPhip</span><span class="p">)</span>
<span class="go">{\mathrm{d}\Phi}_{p}</span>
<span class="gp">sage: </span><span class="n">dPhip</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Set of Morphisms from Tangent space at Point p on the 2-dimensional</span>
<span class="go"> differentiable manifold M to Tangent space at Point Phi(p) on the</span>
<span class="go"> 3-dimensional differentiable manifold N in Category of finite</span>
<span class="go"> dimensional vector spaces over Symbolic Ring</span>
</pre></div>
</div>
<p>The matrix of <span class="math notranslate nohighlight">\(\mathrm{d}\Phi_p\)</span> w.r.t. to the default bases of
<span class="math notranslate nohighlight">\(T_p M\)</span> and <span class="math notranslate nohighlight">\(T_{\Phi(p)} N\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dPhip</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[ 1 -2]</span>
<span class="go">[-1  2]</span>
<span class="go">[ 4 -3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.manifolds.differentiable.diff_map.DiffMap.differential_functions">
<span class="sig-name descname"><span class="pre">differential_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chart1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chart2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.diff_map.DiffMap.differential_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinate expression of the differential of the
differentiable map with respect to a pair of charts.</p>
<p>If the differentiable map is</p>
<div class="math notranslate nohighlight">
\[\Phi: M \longrightarrow  N,\]</div>
<p>where <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> are differentiable manifolds, the <em>differential</em>
of <span class="math notranslate nohighlight">\(\Phi\)</span> at a point <span class="math notranslate nohighlight">\(p \in M\)</span> is the tangent space linear map:</p>
<div class="math notranslate nohighlight">
\[\mathrm{d}\Phi_p: T_p M \longrightarrow T_{\Phi(p)} N\]</div>
<p>defined by</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{rccc}
\forall v\in T_p M,\quad \mathrm{d}\Phi_p(v) : &amp; C^k(N) &amp;
                                  \longrightarrow &amp; \mathbb{R}, \\
                    &amp; f &amp; \longmapsto &amp; v(f\circ \Phi).
\end{array}\end{split}\]</div>
<p>If the coordinate expression of <span class="math notranslate nohighlight">\(\Phi\)</span> is</p>
<div class="math notranslate nohighlight">
\[y^i = Y^i(x^1, \ldots, x^n), \quad 1 \leq i \leq m,\]</div>
<p>where <span class="math notranslate nohighlight">\((x^1, \ldots, x^n)\)</span> are coordinates of a chart on <span class="math notranslate nohighlight">\(M\)</span> and
<span class="math notranslate nohighlight">\((y^1, \ldots, y^m)\)</span> are coordinates of a chart on <span class="math notranslate nohighlight">\(\Phi(M)\)</span>, the
expression of the differential of <span class="math notranslate nohighlight">\(\Phi\)</span> with respect to these
coordinates is</p>
<div class="math notranslate nohighlight">
\[J_{ij} = \frac{\partial Y^i}{\partial x^j} \quad 1\leq i \leq m,
                \qquad 1 \leq j \leq n.\]</div>
<p><span class="math notranslate nohighlight">\(\left. J_{ij} \right|_p\)</span> is then the matrix of the linear map
<span class="math notranslate nohighlight">\(\mathrm{d}\Phi_p\)</span> with respect to the bases of <span class="math notranslate nohighlight">\(T_p M\)</span> and
<span class="math notranslate nohighlight">\(T_{\Phi(p)} N\)</span> associated to the above charts:</p>
<div class="math notranslate nohighlight">
\[\mathrm{d}\Phi_p\left( \left. \frac{\partial}{\partial x^j}
   \right|_p \right) = \left. J_{ij} \right|_p \;
 \left. \frac{\partial}{\partial y^i} \right| _{\Phi(p)}.\]</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chart1</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) chart on the domain <span class="math notranslate nohighlight">\(M\)</span> of <span class="math notranslate nohighlight">\(\Phi\)</span>
(coordinates denoted by <span class="math notranslate nohighlight">\((x^j)\)</span> above); if <code class="docutils literal notranslate"><span class="pre">None</span></code>, the domain’s
default chart is assumed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chart2</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) chart on the codomain of <span class="math notranslate nohighlight">\(\Phi\)</span>
(coordinates denoted by <span class="math notranslate nohighlight">\((y^i)\)</span> above); if <code class="docutils literal notranslate"><span class="pre">None</span></code>, the codomain’s
default chart is assumed</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>the functions <span class="math notranslate nohighlight">\(J_{ij}\)</span> as a double array, <span class="math notranslate nohighlight">\(J_{ij}\)</span> being
the element <code class="docutils literal notranslate"><span class="pre">[i][j]</span></code> represented by a
<a class="reference internal" href="../chart_func.html#sage.manifolds.chart_func.ChartFunction" title="sage.manifolds.chart_func.ChartFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChartFunction</span></code></a></p></li>
</ul>
<p>To get symbolic expressions, use the method
<a class="reference internal" href="#sage.manifolds.differentiable.diff_map.DiffMap.jacobian_matrix" title="sage.manifolds.differentiable.diff_map.DiffMap.jacobian_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">jacobian_matrix()</span></code></a> instead.</p>
<p>EXAMPLES:</p>
<p>Differential functions of a map between a 2-dimensional manifold
and a 3-dimensional one:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">{(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">):</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)},</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                 <span class="n">latex_name</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">differential_functions</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span> <span class="p">;</span> <span class="n">J</span>
<span class="go">[     1     -2]</span>
<span class="go">[     y      x]</span>
<span class="go">[   2*x -3*y^2]</span>
</pre></div>
</div>
<p>The result is cached:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">differential_functions</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span> <span class="ow">is</span> <span class="n">J</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The elements of <code class="docutils literal notranslate"><span class="pre">J</span></code> are functions of the coordinates of
the chart <code class="docutils literal notranslate"><span class="pre">X</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">J</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="go">2*x</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">J</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;class &#39;sage.manifolds.chart_func.ChartFunctionRing_with_category.element_class&#39;&gt;</span>

<span class="gp">sage: </span><span class="n">J</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">(x, y) ↦ 2*x</span>
</pre></div>
</div>
<p>In contrast, the method <a class="reference internal" href="#sage.manifolds.differentiable.diff_map.DiffMap.jacobian_matrix" title="sage.manifolds.differentiable.diff_map.DiffMap.jacobian_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">jacobian_matrix()</span></code></a> leads directly to
symbolic expressions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">JJ</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">jacobian_matrix</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span> <span class="p">;</span> <span class="n">JJ</span>
<span class="go">[     1     -2]</span>
<span class="go">[     y      x]</span>
<span class="go">[   2*x -3*y^2]</span>
<span class="gp">sage: </span><span class="n">JJ</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">2*x</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">JJ</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;class &#39;sage.symbolic.expression.Expression&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span> <span class="n">JJ</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">J</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">expr</span><span class="p">()</span> <span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.manifolds.differentiable.diff_map.DiffMap.jacobian_matrix">
<span class="sig-name descname"><span class="pre">jacobian_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chart1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chart2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.diff_map.DiffMap.jacobian_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Jacobian matrix resulting from the coordinate expression
of the differentiable map with respect to a pair of charts.</p>
<p>If <span class="math notranslate nohighlight">\(\Phi\)</span> is the current differentiable map and its coordinate
expression is</p>
<div class="math notranslate nohighlight">
\[y^i = Y^i(x^1, \ldots, x^n),  \quad 1 \leq i \leq m,\]</div>
<p>where <span class="math notranslate nohighlight">\((x^1, \ldots, x^n)\)</span> are coordinates of a chart <span class="math notranslate nohighlight">\(X\)</span> on the
domain of <span class="math notranslate nohighlight">\(\Phi\)</span> and <span class="math notranslate nohighlight">\((y^1, \ldots, y^m)\)</span> are coordinates of a chart
<span class="math notranslate nohighlight">\(Y\)</span> on the codomain of <span class="math notranslate nohighlight">\(\Phi\)</span>, the <em>Jacobian matrix</em> of the
differentiable map <span class="math notranslate nohighlight">\(\Phi\)</span> w.r.t. to charts <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span> is</p>
<div class="math notranslate nohighlight">
\[\begin{split}J = \left( \frac{\partial Y^i}{\partial x^j}
  \right)_{\substack{1 \leq i \leq m \\ 1 \leq j \leq n}},\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(i\)</span> is the row index and <span class="math notranslate nohighlight">\(j\)</span> the column one.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chart1</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) chart <span class="math notranslate nohighlight">\(X\)</span> on the domain of
<span class="math notranslate nohighlight">\(\Phi\)</span>; if none is provided, the domain’s default chart is assumed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chart2</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) chart <span class="math notranslate nohighlight">\(Y\)</span> on the codomain of
<span class="math notranslate nohighlight">\(\Phi\)</span>; if none is provided, the codomain’s default chart is
assumed</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>the matrix <span class="math notranslate nohighlight">\(J\)</span> defined above</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Jacobian matrix of a map between a 2-dimensional manifold and a
3-dimensional one:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">{(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">):</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)},</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                 <span class="n">latex_name</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: M → N</span>
<span class="go">   (x, y) ↦ (u, v, w) = (x - 2*y, x*y, -y^3 + x^2)</span>
<span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">jacobian_matrix</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span> <span class="p">;</span> <span class="n">J</span>
<span class="go">[     1     -2]</span>
<span class="go">[     y      x]</span>
<span class="go">[   2*x -3*y^2]</span>
<span class="gp">sage: </span><span class="n">J</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 2 dense matrices over Symbolic Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.manifolds.differentiable.diff_map.DiffMap.pullback">
<span class="sig-name descname"><span class="pre">pullback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor_or_codomain_subset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latex_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.diff_map.DiffMap.pullback" title="Permalink to this definition">¶</a></dt>
<dd><p>Pullback operator associated with <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>In what follows, let <span class="math notranslate nohighlight">\(\Phi\)</span> denote a differentiable map <code class="docutils literal notranslate"><span class="pre">self</span></code>,
<span class="math notranslate nohighlight">\(M\)</span> its domain and <span class="math notranslate nohighlight">\(N\)</span> its codomain.</p>
<p>INPUT:</p>
<p>One of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tensor_or_codomain_subset</span></code> – one of the following:</p>
<ul>
<li><p>a <a class="reference internal" href="tensorfield.html#sage.manifolds.differentiable.tensorfield.TensorField" title="sage.manifolds.differentiable.tensorfield.TensorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorField</span></code></a>;
a fully covariant tensor field <span class="math notranslate nohighlight">\(T\)</span> on <span class="math notranslate nohighlight">\(N\)</span>, i.e. a tensor
field of type <span class="math notranslate nohighlight">\((0, p)\)</span>, with <span class="math notranslate nohighlight">\(p\)</span> a positive or zero integer; the
case <span class="math notranslate nohighlight">\(p = 0\)</span> corresponds to a scalar field</p></li>
<li><p>a <a class="reference internal" href="../subset.html#sage.manifolds.subset.ManifoldSubset" title="sage.manifolds.subset.ManifoldSubset"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManifoldSubset</span></code></a> <span class="math notranslate nohighlight">\(S\)</span></p></li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>(if the input is a tensor field <span class="math notranslate nohighlight">\(T\)</span>)
a <a class="reference internal" href="tensorfield.html#sage.manifolds.differentiable.tensorfield.TensorField" title="sage.manifolds.differentiable.tensorfield.TensorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorField</span></code></a>
representing a fully covariant tensor field on <span class="math notranslate nohighlight">\(M\)</span> that is the
pullback of <span class="math notranslate nohighlight">\(T\)</span> by <span class="math notranslate nohighlight">\(\Phi\)</span></p></li>
<li><p>(if the input is a manifold subset <span class="math notranslate nohighlight">\(S\)</span>)
a <a class="reference internal" href="../subset.html#sage.manifolds.subset.ManifoldSubset" title="sage.manifolds.subset.ManifoldSubset"><code class="xref py py-class docutils literal notranslate"><span class="pre">ManifoldSubset</span></code></a> that is the
preimage <span class="math notranslate nohighlight">\(\Phi^{-1}(S)\)</span>; same as <code class="xref py py-meth docutils literal notranslate"><span class="pre">preimage()</span></code></p></li>
</ul>
<p>EXAMPLES:</p>
<p>Pullback on <span class="math notranslate nohighlight">\(S^2\)</span> of a scalar field defined on <span class="math notranslate nohighlight">\(R^3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;S^2&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># the complement of a meridian (domain of spherical coordinates)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">th</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;th:(0,pi):\theta ph:(0,2*pi):\phi&#39;</span><span class="p">)</span> <span class="c1"># spherical coord. on U</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\RR^3&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Cartesian coord. on R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">th</span><span class="p">)),</span>
<span class="gp">....: </span>                 <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">scalar_field</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">)</span> <span class="p">;</span> <span class="n">f</span>
<span class="go">Scalar field f on the 3-dimensional differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">f: R^3 → ℝ</span>
<span class="go">   (x, y, z) ↦ x*y*z</span>
<span class="gp">sage: </span><span class="n">pf</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">pullback</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">;</span> <span class="n">pf</span>
<span class="go">Scalar field Phi^*(f) on the Open subset U of the 2-dimensional</span>
<span class="go"> differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">pf</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi^*(f): U → ℝ</span>
<span class="go">   (th, ph) ↦ cos(ph)*cos(th)*sin(ph)*sin(th)^2</span>
</pre></div>
</div>
<p>Pullback on <span class="math notranslate nohighlight">\(S^2\)</span> of the standard Euclidean metric on <span class="math notranslate nohighlight">\(R^3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">sym_bilin_form_field</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">g</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">g</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">g = dx⊗dx + dy⊗dy + dz⊗dz</span>
<span class="gp">sage: </span><span class="n">pg</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">pullback</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="p">;</span> <span class="n">pg</span>
<span class="go">Field of symmetric bilinear forms Phi^*(g) on the Open subset U of</span>
<span class="go"> the 2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi^*(g) = dth⊗dth + sin(th)^2 dph⊗dph</span>
</pre></div>
</div>
<p>Parallel computation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Parallelism</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;tensor&#39;</span><span class="p">,</span> <span class="n">nproc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pg</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">pullback</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="p">;</span> <span class="n">pg</span>
<span class="go">Field of symmetric bilinear forms Phi^*(g) on the Open subset U of</span>
<span class="go"> the 2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi^*(g) = dth⊗dth + sin(th)^2 dph⊗dph</span>
<span class="gp">sage: </span><span class="n">Parallelism</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;tensor&#39;</span><span class="p">,</span> <span class="n">nproc</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># switch off parallelization</span>
</pre></div>
</div>
<p>Pullback on <span class="math notranslate nohighlight">\(S^2\)</span> of a 3-form on <span class="math notranslate nohighlight">\(R^3\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">diff_form</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">A = x*y*z dx∧dy∧dz</span>
<span class="gp">sage: </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">pullback</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">;</span> <span class="n">pa</span>
<span class="go">3-form Phi^*(A) on the Open subset U of the 2-dimensional</span>
<span class="go"> differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">pa</span><span class="o">.</span><span class="n">display</span><span class="p">()</span> <span class="c1"># should be zero (as any 3-form on a 2-dimensional manifold)</span>
<span class="go">Phi^*(A) = 0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.manifolds.differentiable.diff_map.DiffMap.pushforward">
<span class="sig-name descname"><span class="pre">pushforward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.diff_map.DiffMap.pushforward" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushforward operator associated with <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>In what follows, let <span class="math notranslate nohighlight">\(\Phi\)</span> denote the differentiable map, <span class="math notranslate nohighlight">\(M\)</span> its
domain and <span class="math notranslate nohighlight">\(N\)</span> its codomain.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tensor</span></code> –
<a class="reference internal" href="tensorfield.html#sage.manifolds.differentiable.tensorfield.TensorField" title="sage.manifolds.differentiable.tensorfield.TensorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorField</span></code></a>;
a fully contrariant tensor field <span class="math notranslate nohighlight">\(T\)</span> on <span class="math notranslate nohighlight">\(M\)</span>, i.e. a tensor
field of type <span class="math notranslate nohighlight">\((p, 0)\)</span>, with <span class="math notranslate nohighlight">\(p\)</span> a positive integer</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>a <a class="reference internal" href="tensorfield.html#sage.manifolds.differentiable.tensorfield.TensorField" title="sage.manifolds.differentiable.tensorfield.TensorField"><code class="xref py py-class docutils literal notranslate"><span class="pre">TensorField</span></code></a>
representing a fully contravariant tensor field along <span class="math notranslate nohighlight">\(M\)</span> with
values in <span class="math notranslate nohighlight">\(N\)</span>, which is the pushforward of <span class="math notranslate nohighlight">\(T\)</span> by <span class="math notranslate nohighlight">\(\Phi\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<p>Pushforward of a vector field on the 2-sphere <span class="math notranslate nohighlight">\(S^2\)</span> to the Euclidean
3-space <span class="math notranslate nohighlight">\(\RR^3\)</span>, via the standard embedding of <span class="math notranslate nohighlight">\(S^2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S2</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;S^2&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>  <span class="c1"># domain of spherical coordinates</span>
<span class="gp">sage: </span><span class="n">spher</span><span class="o">.&lt;</span><span class="n">th</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;th:(0,pi):\theta ph:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R3</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R3</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">R3</span><span class="p">,</span> <span class="p">{(</span><span class="n">spher</span><span class="p">,</span> <span class="n">cart</span><span class="p">):</span> <span class="p">[</span><span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span>
<span class="gp">....: </span>  <span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">th</span><span class="p">)]},</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">vector_field</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">v = ∂/∂ph</span>
<span class="gp">sage: </span><span class="n">pv</span> <span class="o">=</span> <span class="n">Phi</span><span class="o">.</span><span class="n">pushforward</span><span class="p">(</span><span class="n">v</span><span class="p">);</span> <span class="n">pv</span>
<span class="go">Vector field Phi_*(v) along the Open subset U of the 2-dimensional</span>
<span class="go"> differentiable manifold S^2 with values on the 3-dimensional</span>
<span class="go"> differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">pv</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi_*(v) = -sin(ph)*sin(th) ∂/∂x + cos(ph)*sin(th) ∂/∂y</span>
</pre></div>
</div>
<p>Pushforward of a vector field on the real line to the <span class="math notranslate nohighlight">\(\RR^3\)</span>, via a
helix embedding:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">manifolds</span><span class="o">.</span><span class="n">RealLine</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Psi</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">R3</span><span class="p">,</span> <span class="p">[</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">t</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Psi&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                 <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Psi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">vector_field</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;u&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">u = ∂/∂t</span>
<span class="gp">sage: </span><span class="n">pu</span> <span class="o">=</span> <span class="n">Psi</span><span class="o">.</span><span class="n">pushforward</span><span class="p">(</span><span class="n">u</span><span class="p">);</span> <span class="n">pu</span>
<span class="go">Vector field Psi_*(u) along the Real number line ℝ with values on</span>
<span class="go"> the 3-dimensional differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">pu</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Psi_*(u) = -sin(t) ∂/∂x + cos(t) ∂/∂y + ∂/∂z</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="manifold_homset.html"
                          title="previous chapter">Sets of Morphisms between Differentiable Manifolds</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="curve.html"
                          title="next chapter">Curves in Manifolds</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/sage/manifolds/differentiable/diff_map.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="curve.html" title="Curves in Manifolds"
             >next</a> |</li>
        <li class="right" >
          <a href="manifold_homset.html" title="Sets of Morphisms between Differentiable Manifolds"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../../index.html">Manifolds</a> &#187;
    
  </li>

          <li class="nav-item nav-item-1"><a href="../../../diff_manifold.html" >Differentiable Manifolds</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../diff_map.html" >Differentiable Maps and Curves</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Differentiable Maps between Differentiable Manifolds</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>