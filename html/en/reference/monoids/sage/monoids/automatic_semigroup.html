
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Automatic Semigroups &#8212; Sage Reference Manual v8.6: Monoids</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="prev" title="Hecke Monoids" href="hecke_monoid.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hecke_monoid.html" title="Hecke Monoids"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Monoids</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="automatic-semigroups">
<span id="sage-monoids-automatic-semigroup"></span><h1>Automatic Semigroups<a class="headerlink" href="#automatic-semigroups" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.monoids.automatic_semigroup"></span><p>Semigroups defined by generators living in an ambient semigroup and represented by an automaton.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Nicolas M. Thiéry</li>
<li>Aladin Virmaux</li>
</ul>
<dl class="class">
<dt id="sage.monoids.automatic_semigroup.AutomaticMonoid">
<em class="property">class </em><code class="descclassname">sage.monoids.automatic_semigroup.</code><code class="descname">AutomaticMonoid</code><span class="sig-paren">(</span><em>generators</em>, <em>ambient</em>, <em>one</em>, <em>mul</em>, <em>category</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticMonoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup" title="sage.monoids.automatic_semigroup.AutomaticSemigroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.monoids.automatic_semigroup.AutomaticSemigroup</span></code></a></p>
<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticMonoid.gens">
<code class="descname">gens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticMonoid.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the family of monoid generators of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">submonoid</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">monoid_generators</span><span class="p">()</span>
<span class="go">Finite family {1: 3, 2: 5}</span>
</pre></div>
</div>
<p>Note that the monoid generators do not include the unit,
unlike the semigroup generators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">semigroup_generators</span><span class="p">()</span>
<span class="go">Family (1, 3, 5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticMonoid.monoid_generators">
<code class="descname">monoid_generators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticMonoid.monoid_generators" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the family of monoid generators of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">submonoid</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">monoid_generators</span><span class="p">()</span>
<span class="go">Finite family {1: 3, 2: 5}</span>
</pre></div>
</div>
<p>Note that the monoid generators do not include the unit,
unlike the semigroup generators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">semigroup_generators</span><span class="p">()</span>
<span class="go">Family (1, 3, 5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticMonoid.one">
<code class="descname">one</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticMonoid.one" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the unit of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">submonoid</span><span class="p">(())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">one</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">M</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticMonoid.semigroup_generators">
<code class="descname">semigroup_generators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticMonoid.semigroup_generators" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the generators of <code class="docutils literal notranslate"><span class="pre">self</span></code> as a semigroup.</p>
<p>The generators of a monoid <span class="math notranslate nohighlight">\(M\)</span> as a semigroup are the generators
of <span class="math notranslate nohighlight">\(M\)</span> as a monoid and the unit.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Monoids</span><span class="p">()</span><span class="o">.</span><span class="n">free</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">semigroup_generators</span><span class="p">()</span>
<span class="go">Family (1, F[1], F[2], F[3])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup">
<em class="property">class </em><code class="descclassname">sage.monoids.automatic_semigroup.</code><code class="descname">AutomaticSemigroup</code><span class="sig-paren">(</span><em>generators</em>, <em>ambient</em>, <em>one</em>, <em>mul</em>, <em>category</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Parents and Elements v8.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></code></a>, <a class="reference external" href="../../../structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage Reference Manual: Parents and Elements v8.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.parent.Parent</span></code></a></p>
<blockquote>
<div><p>Semigroups defined by generators living in an ambient semigroup.</p>
<p>This implementation lazily constructs all the elements of the
semigroup, and the right Cayley graph relations between them, and
uses the latter as an automaton.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="ow">in</span> <span class="n">Monoids</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">one</span><span class="p">()</span> <span class="ow">in</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">_generators</span><span class="p">;</span> <span class="n">g</span>
<span class="go">Finite family {1: 3, 2: 5}</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">some_elements</span><span class="p">()</span>
<span class="go">[1, 3, 5, 9]</span>

<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[1, 3, 5, 9]</span>

<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">idempotents</span><span class="p">()</span>
<span class="go">[1, 9]</span>
</pre></div>
</div>
<p>As can be seen above, elements are represented by default the
corresponding element in the ambient monoid. One can also represent
the elements by their reduced word:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[], [1], [2], [1, 1]]</span>
</pre></div>
</div>
<p>In case the reduced word has not yet been calculated, the element
will be represented by the corresponding element in the ambient
monoid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">n</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">*</span><span class="n">n</span>
<span class="go">9</span>
</pre></div>
</div>
<p>Calling <a class="reference internal" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.construct" title="sage.monoids.automatic_semigroup.AutomaticSemigroup.construct"><code class="xref py py-meth docutils literal notranslate"><span class="pre">construct()</span></code></a>, <a class="reference internal" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.cardinality" title="sage.monoids.automatic_semigroup.AutomaticSemigroup.cardinality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cardinality()</span></code></a>, or <a class="reference internal" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.list" title="sage.monoids.automatic_semigroup.AutomaticSemigroup.list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list()</span></code></a>,
or iterating through the monoid will trigger its full construction
and, as a side effect, compute all the reduced words. The order of
the elements, and the induced choice of reduced word is currently
length-lexicographic (i.e. the chosen reduced word is of minimal
length, and then minimal lexicographically w.r.t. the order of the
indices of the generators):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[], [1], [2], [1, 1]]</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">_generators</span>

<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[1]</span>

<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">transition</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 1]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">[1, 1]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">transition</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[1]</span>

<span class="gp">sage: </span><span class="p">[</span> <span class="n">x</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[1, 3, 5, 9]</span>

<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">cayley_graph</span><span class="p">(</span><span class="n">side</span> <span class="o">=</span> <span class="s2">&quot;twosided&quot;</span><span class="p">);</span> <span class="n">G</span>
<span class="go">Looped multi-digraph on 4 vertices</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="go">[([1, 1], [1, 1], (2, &#39;left&#39;)),</span>
<span class="go"> ([1, 1], [1, 1], (2, &#39;right&#39;)),</span>
<span class="go"> ([1, 1], [1], (1, &#39;left&#39;)),</span>
<span class="go"> ([1, 1], [1], (1, &#39;right&#39;)),</span>
<span class="go"> ([1], [1, 1], (1, &#39;left&#39;)),</span>
<span class="go"> ([1], [1, 1], (1, &#39;right&#39;)),</span>
<span class="go"> ([1], [1], (2, &#39;left&#39;)),</span>
<span class="go"> ([1], [1], (2, &#39;right&#39;)),</span>
<span class="go"> ([2], [1], (1, &#39;left&#39;)),</span>
<span class="go"> ([2], [1], (1, &#39;right&#39;)),</span>
<span class="go"> ([2], [], (2, &#39;left&#39;)),</span>
<span class="go"> ([2], [], (2, &#39;right&#39;)),</span>
<span class="go"> ([], [1], (1, &#39;left&#39;)),</span>
<span class="go"> ([], [1], (1, &#39;right&#39;)),</span>
<span class="go"> ([], [2], (2, &#39;left&#39;)),</span>
<span class="go"> ([], [2], (2, &#39;right&#39;))]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">M</span><span class="o">.</span><span class="n">j_classes</span><span class="p">()))</span>
<span class="go">[[[1], [1, 1]], [[], [2]]]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">j_classes_of_idempotents</span><span class="p">()</span>
<span class="go">[[[1, 1]], [[]]]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">j_transversal_of_idempotents</span><span class="p">()</span>
<span class="go">[[1, 1], []]</span>

<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">attrcall</span><span class="p">(</span><span class="s1">&#39;pseudo_order&#39;</span><span class="p">),</span> <span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()))</span>
<span class="go">[[1, 0], [3, 1], [2, 0], [2, 1]]</span>
</pre></div>
</div>
<p>We can also use it to get submonoids from groups. We check that in the
symmetric group, a transposition and a long cycle generate the whole group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G5</span> <span class="o">=</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">G5</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">G5</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">])}),</span> <span class="n">one</span><span class="o">=</span><span class="n">G5</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span> <span class="o">==</span> <span class="n">G5</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">retract</span><span class="p">(</span><span class="n">G5</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">[1, 2, 1, 2, 2, 1, 2, 1, 2, 2]</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">from_reduced_word</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">(1,4,3,5,2)</span>
</pre></div>
</div>
</div></blockquote>
<p>We can also create a semigroup of matrices, where we define the
multiplication as matrix multiplication:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    sage: M1=matrix([[0,0,1],[1,0,0],[0,1,0]])
    sage: M2=matrix([[0,0,0],[1,1,0],[0,0,1]])
    sage: M1.set_immutable()
    sage: M2.set_immutable()
    sage: def prod_m(x,y):
    ....:     z=x*y
    ....:     z.set_immutable()
    ....:     return z
    ....:
    sage: Mon = AutomaticSemigroup([M1,M2], mul=prod_m, category=Monoids().Finite().Subobjects())
    sage: Mon.cardinality()
    24
    sage: C = Mon.cayley_graph()
    sage: C.is_directed_acyclic()
    False

Let us construct and play with the 0-Hecke Monoid::

    sage: W = WeylGroup([&#39;A&#39;,4]); W.rename(&quot;W&quot;)
    sage: ambient_monoid = FiniteSetMaps(W, action=&quot;right&quot;)
    sage: pi = W.simple_projections(length_increasing=True).map(ambient_monoid)
    sage: M = AutomaticSemigroup(pi, one=ambient_monoid.one()); M
    A submonoid of (Maps from W to itself) with 4 generators
    sage: M.repr_element_method(&quot;reduced_word&quot;)
    sage: sorted(M._elements_set, key=str)
    [[1], [2], [3], [4], []]
    sage: M.construct(n=10)
    sage: sorted(M._elements_set, key=str)
    [[1, 2], [1, 3], [1, 4], [1], [2, 1], [2, 3], [2], [3], [4], []]
    sage: elt = M.from_reduced_word([3,1,2,4,2])
    sage: M.construct(up_to=elt)
    sage: len(M._elements_set)
    36
    sage: M.cardinality()
    120

We check that the 0-Hecke monoid is `J`-trivial and contains `2^4`
idempotents::

    sage: len(M.idempotents())
    16
    sage: all([len(j) == 1 for j in M.j_classes()])
    True

.. NOTE::

    Unlike what the name of the class may suggest, this currently
    implements only a subclass of automatic semigroups;
    essentially the finite ones. See :wikipedia:`Automatic_semigroup`.

.. WARNING::

    :class:`AutomaticSemigroup` is designed primarily for finite
    semigroups. This property is not checked automatically (this
    would be too costly, if not undecidable). Use with care for an
    infinite semigroup, as certain features may require
    constructing all of it::

        sage: M = AutomaticSemigroup([2], category = Monoids().Subobjects()); M
        A submonoid of (Integer Ring) with 1 generators
        sage: M.retract(2)
        2
        sage: M.retract(3)   # not tested: runs forever trying to find 3
</pre></div>
</div>
<dl class="class">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.Element">
<em class="property">class </em><code class="descname">Element</code><span class="sig-paren">(</span><em>ambient_element</em>, <em>parent</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element_wrapper.html#sage.structure.element_wrapper.ElementWrapper" title="(in Sage Reference Manual: Parents and Elements v8.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element_wrapper.ElementWrapper</span></code></a></p>
<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.Element.lift">
<code class="descname">lift</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.Element.lift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lift the element <code class="docutils literal notranslate"><span class="pre">self</span></code> into its ambient semigroup.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">an_element</span><span class="p">();</span> <span class="n">m</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.monoids.automatic_semigroup.AutomaticSemigroup_with_category.element_class&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">lift</span><span class="p">())</span>
<span class="go">&lt;type &#39;sage.rings.finite_rings.integer_mod.IntegerMod_int&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.Element.reduced_word">
<code class="descname">reduced_word</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.Element.reduced_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the length-lexicographic shortest word of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT: a list of indexes of the generators</p>
<p>Obtaining the reduced word requires having constructed the
Cayley graph of the semigroup up to <code class="docutils literal notranslate"><span class="pre">self</span></code>. If this is
not the case, an error is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">construct</span><span class="p">()</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">:</span> <span class="k">print</span><span class="p">((</span><span class="n">m</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">reduced_word</span><span class="p">()))</span>
<span class="go">(1, [])</span>
<span class="go">(3, [1])</span>
<span class="go">(5, [2])</span>
<span class="go">(9, [1, 1])</span>
<span class="go">(0, [1, 2])</span>
<span class="go">(10, [2, 2])</span>
<span class="go">(12, [1, 1, 1])</span>
<span class="go">(6, [1, 1, 1, 1])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.Element.transition">
<code class="descname">transition</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.Element.transition" title="Permalink to this definition">¶</a></dt>
<dd><p>The multiplication on the right by a generator.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">i</span></code> – an element from the indexing set of the generators</li>
</ul>
<p>This method computes <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">*</span> <span class="pre">self._generators[i]</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">construct</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">transition</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 1]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">transition</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.ambient">
<code class="descname">ambient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.ambient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ambient semigroup of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">ambient</span><span class="p">()</span>
<span class="go">Ring of integers modulo 12</span>

<span class="gp">sage: </span><span class="n">M1</span><span class="o">=</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M2</span><span class="o">=</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">set_immutable</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">M2</span><span class="o">.</span><span class="n">set_immutable</span><span class="p">()</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">prod_m</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="go">....:     z=x*y</span>
<span class="go">....:     z.set_immutable()</span>
<span class="go">....:     return z</span>
<span class="go">....:</span>
<span class="gp">sage: </span><span class="n">Mon</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">([</span><span class="n">M1</span><span class="p">,</span><span class="n">M2</span><span class="p">],</span> <span class="n">mul</span><span class="o">=</span><span class="n">prod_m</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Mon</span><span class="o">.</span><span class="n">ambient</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices over Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.an_element">
<code class="descname">an_element</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.an_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first given generator of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.construct">
<code class="descname">construct</code><span class="sig-paren">(</span><em>up_to=None</em>, <em>n=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.construct" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the elements of the <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">up_to</span></code> – an element of <code class="docutils literal notranslate"><span class="pre">self</span></code> or of the ambient semigroup.</li>
<li><code class="docutils literal notranslate"><span class="pre">n</span></code> – an integer or <code class="docutils literal notranslate"><span class="pre">None</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</li>
</ul>
<p>This construct all the elements of this semigroup, their
reduced words, and the right Cayley graph. If <span class="math notranslate nohighlight">\(n\)</span> is
specified, only the <span class="math notranslate nohighlight">\(n\)</span> first elements of the semigroup are
constructed. If <code class="docutils literal notranslate"><span class="pre">element</span></code> is specified, only the elements up
to <code class="docutils literal notranslate"><span class="pre">ambient_element</span></code> are constructed.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">WeylGroup</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">]);</span> <span class="n">W</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;W&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ambient_monoid</span> <span class="o">=</span> <span class="n">FiniteSetMaps</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">simple_projections</span><span class="p">(</span><span class="n">length_increasing</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ambient_monoid</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="n">ambient_monoid</span><span class="o">.</span><span class="n">one</span><span class="p">());</span> <span class="n">M</span>
<span class="go">A submonoid of (Maps from W to itself) with 3 generators</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">_elements_set</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="go">[[1], [2], [3], []]</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">from_reduced_word</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="n">up_to</span><span class="o">=</span><span class="n">elt</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">_elements_set</span><span class="p">)</span>
<span class="go">19</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">24</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.from_reduced_word">
<code class="descname">from_reduced_word</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.from_reduced_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the element of <code class="docutils literal notranslate"><span class="pre">self</span></code> obtained from the reduced word <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">l</span></code> – a list of indices of the generators</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We do not save the given reduced word <code class="docutils literal notranslate"><span class="pre">l</span></code> as an attribute of the
element, as some elements above in the branches may have not been
explored by the iterator yet.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">G4</span> <span class="o">=</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="n">G4</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span> <span class="mi">2</span><span class="p">:</span><span class="n">G4</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))}),</span> <span class="n">one</span><span class="o">=</span><span class="n">G4</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">from_reduced_word</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">(1,3)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">from_reduced_word</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="n">M</span><span class="o">.</span><span class="n">retract</span><span class="p">(</span><span class="n">G4</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.gens">
<code class="descname">gens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the family of generators of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">semigroup_generators</span><span class="p">()</span>
<span class="go">Finite family {1: 3, 2: 5}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.lift">
<code class="descname">lift</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.lift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lift an element of <code class="docutils literal notranslate"><span class="pre">self</span></code> into its ambient space.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="ow">in</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">]</span>
<span class="go">[1, 3, 5, 9, 0, 10, 12, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.list">
<code class="descname">list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of elements of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[], [1], [2], [1, 1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.product">
<code class="descname">product</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.product" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the product of two elements in <code class="docutils literal notranslate"><span class="pre">self</span></code>. It is done by
retracting the multiplication in the ambient semigroup.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">*</span><span class="n">b</span>
<span class="go">[1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.repr_element_method">
<code class="descname">repr_element_method</code><span class="sig-paren">(</span><em>style='ambient'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.repr_element_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the representation of the elements of the monoid.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">style</span></code> – “ambient” or “reduced_word”</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}),</span> <span class="n">one</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[1, 3, 5, 9, 15, 8, 10, 11, 7, 6, 13, 16, 4, 14, 12, 2]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">repr_element_method</span><span class="p">(</span><span class="s2">&quot;reduced_word&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[], [1], [2], [1, 1], [1, 2], [2, 2], [1, 1, 1], [1, 1, 2], [1, 2, 2],</span>
<span class="go"> [2, 2, 2], [1, 1, 1, 1], [1, 1, 1, 2], [1, 1, 2, 2], [1, 1, 1, 1, 2],</span>
<span class="go"> [1, 1, 1, 2, 2], [1, 1, 1, 1, 2, 2]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.retract">
<code class="descname">retract</code><span class="sig-paren">(</span><em>ambient_element</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.retract" title="Permalink to this definition">¶</a></dt>
<dd><p>Retract an element of the ambient semigroup into <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">S5</span> <span class="o">=</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">S5</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;S5&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="n">S5</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span> <span class="mi">2</span><span class="p">:</span><span class="n">S5</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))}),</span> <span class="n">one</span><span class="o">=</span><span class="n">S5</span><span class="o">.</span><span class="n">one</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">retract</span><span class="p">(</span><span class="n">S5</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)));</span> <span class="n">m</span>
<span class="go">(1,3)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">retract</span><span class="p">(</span><span class="n">S5</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">(4,5)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">retract</span><span class="p">(</span><span class="n">S5</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">(4,5) not in A subgroup of (S5) with 2 generators</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.monoids.automatic_semigroup.AutomaticSemigroup.semigroup_generators">
<code class="descname">semigroup_generators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.monoids.automatic_semigroup.AutomaticSemigroup.semigroup_generators" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the family of generators of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.monoids.automatic_semigroup</span> <span class="kn">import</span> <span class="n">AutomaticSemigroup</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">AutomaticSemigroup</span><span class="p">(</span><span class="n">Family</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">:</span> <span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">)}))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">semigroup_generators</span><span class="p">()</span>
<span class="go">Finite family {1: 3, 2: 5}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="hecke_monoid.html"
                        title="previous chapter">Hecke Monoids</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/monoids/automatic_semigroup.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hecke_monoid.html" title="Hecke Monoids"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Monoids</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>