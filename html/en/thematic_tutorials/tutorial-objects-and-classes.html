
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Tutorial: Objects and Classes in Python and Sage &#8212; Thematic Tutorials v8.8</title>
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Functional Programming for Mathematicians" href="functional_programming.html" />
    <link rel="prev" title="Tutorial: Comprehensions, Iterators, and Iterables" href="tutorial-comprehensions.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
    <script src="_static/thebe.js" type="text/javascript"></script>
    <script src="_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="functional_programming.html" title="Functional Programming for Mathematicians"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial-comprehensions.html" title="Tutorial: Comprehensions, Iterators, and Iterables"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Thematic Tutorials v8.8</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="toctree.html" accesskey="U">Thematic tutorial document tree</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial-objects-and-classes-in-python-and-sage">
<span id="tutorial-objects-and-classes"></span><h1>Tutorial: Objects and Classes in Python and Sage<a class="headerlink" href="#tutorial-objects-and-classes-in-python-and-sage" title="Permalink to this headline">¶</a></h1>
<p><em>Author: Florent Hivert &lt;<a class="reference external" href="mailto:florent&#46;hivert&#37;&#52;&#48;univ-rouen&#46;fr">florent<span>&#46;</span>hivert<span>&#64;</span>univ-rouen<span>&#46;</span>fr</a>&gt;</em></p>
<p>This tutorial is an introduction to object-oriented programming in Python and
Sage. It requires basic knowledge about imperative/procedural programming (the
most common programming style) – that is, conditional instructions, loops,
functions (see the “Programming” section of the Sage tutorial) – but no further knowledge
about objects and classes is assumed. It is designed as an alternating
sequence of formal introduction and exercises. <a class="reference internal" href="#solutions"><span class="std std-ref">Solutions to the exercises</span></a> are given at
the end.</p>
<div class="section" id="foreword-variables-names-and-objects">
<h2>Foreword: variables, names and objects<a class="headerlink" href="#foreword-variables-names-and-objects" title="Permalink to this headline">¶</a></h2>
<p>As an object-oriented language, Python’s ‘’variables’’ behavior may be
surprising for people used to imperative languages like C or Maple. The reason
is that they are <strong>not variables but names</strong>.</p>
<p>The following explanation is <a class="reference external" href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#python-has-names">borrowed from
David Goodger</a>.</p>
</div>
<div class="section" id="other-languages-have-variables">
<h2>Other languages have “variables”<a class="headerlink" href="#other-languages-have-variables" title="Permalink to this headline">¶</a></h2>
<div class="handout docutils container">
In many other languages, assigning to a variable puts a value into
a box.</div>
<table border="1" class="incremental borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">int a = 1;</span>
</pre></div>
</div>
</td>
<td><img alt="_images/a1box.png" class="incremental first last" src="_images/a1box.png" />
</td>
</tr>
</tbody>
</table>
<div class="handout docutils container">
<p>Box “a” now contains an integer 1.</p>
<p>Assigning another value to the same variable replaces the contents
of the box:</p>
</div>
<table border="1" class="incremental borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">a = 2;</span>
</pre></div>
</div>
</td>
<td><img alt="_images/a2box.png" class="incremental first last" src="_images/a2box.png" />
</td>
</tr>
</tbody>
</table>
<div class="handout docutils container">
<p>Now box “a” contains an integer 2.</p>
<p>Assigning one variable to another makes a copy of the value and
puts it in the new box:</p>
</div>
<table border="1" class="incremental borderless docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">int b = a;</span>
</pre></div>
</div>
</td>
<td><img alt="_images/b2box.png" class="incremental first last" src="_images/b2box.png" />
</td>
<td><img alt="_images/a2box.png" class="incremental first last" src="_images/a2box.png" />
</td>
</tr>
</tbody>
</table>
<div class="handout docutils container">
“b” is a second box, with a copy of integer 2.  Box “a” has a
separate copy.</div>
</div>
<div class="section" id="python-has-names">
<h2>Python has “names”<a class="headerlink" href="#python-has-names" title="Permalink to this headline">¶</a></h2>
<div class="handout docutils container">
In Python, a “name” or “identifier” is like a parcel tag (or
nametag) attached to an object.</div>
<table border="1" class="incremental borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">a = 1</span>
</pre></div>
</div>
</td>
<td><img alt="_images/a1tag.png" class="incremental first last" src="_images/a1tag.png" />
</td>
</tr>
</tbody>
</table>
<div class="handout docutils container">
<p>Here, an integer 1 object has a tag labelled “a”.</p>
<p>If we reassign to “a”, we just move the tag to another object:</p>
</div>
<table border="1" class="incremental borderless docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">a = 2</span>
</pre></div>
</div>
</td>
<td><img alt="_images/a2tag.png" class="incremental first last" src="_images/a2tag.png" />
</td>
<td><img alt="_images/1.png" class="incremental first last" src="_images/1.png" />
</td>
</tr>
</tbody>
</table>
<div class="handout docutils container">
<p>Now the name “a” is attached to an integer 2 object.</p>
<p>The original integer 1 object no longer has a tag “a”.  It may live
on, but we can’t get to it through the name “a”.  (When an object
has no more references or tags, it is removed from memory.)</p>
<p>If we assign one name to another, we’re just attaching another
nametag to an existing object:</p>
</div>
<table border="1" class="incremental borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">b = a</span>
</pre></div>
</div>
</td>
<td><img alt="_images/ab2tag.png" class="incremental first last" src="_images/ab2tag.png" />
</td>
</tr>
</tbody>
</table>
<div class="handout docutils container">
<p>The name “b” is just a second tag bound to the same object as “a”.</p>
<p>Although we commonly refer to “variables” even in Python (because
it’s common terminology), we really mean “names” or “identifiers”.
In Python, “variables” are nametags for values, not labelled boxes.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>As a consequence, when there are <strong>two tags</strong> “a” and “b” on the <strong>same
object</strong>, modifying the object tagged “b” also modifies the object tagged
“a”:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="gp">sage: </span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">[1, 0, 3]</span>
</pre></div>
</div>
<p>Note that reassigning the tag “b” (rather than modifying the object
with that tag) doesn’t affect the object tagged “a”:</p>
<div class="last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="mi">7</span>
<span class="gp">sage: </span><span class="n">b</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">[1, 0, 3]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="object-oriented-programming-paradigm">
<h2>Object-oriented programming paradigm<a class="headerlink" href="#object-oriented-programming-paradigm" title="Permalink to this headline">¶</a></h2>
<p>The <strong>object-oriented programming</strong> paradigm relies on the two following
fundamental rules:</p>
<ol class="arabic simple">
<li>Anything of the real (or mathematical) world which needs to be manipulated
by the computer is modeled by an <strong>object</strong>.</li>
<li>Each object is an <strong>instance</strong> of some <strong>class</strong>.</li>
</ol>
<p>At this point, those two rules are a little meaningless, so let’s give some
more or less precise definitions of the terms:</p>
<hr class="docutils" />
<dl class="docutils">
<dt><strong>object</strong></dt>
<dd>a <strong>portion of memory</strong> which contains the information needed to model
the real world thing.</dd>
<dt><strong>class</strong></dt>
<dd>defines the <strong>data structure</strong> used to store the objects which are instances
of the class together with their <strong>behavior</strong>.</dd>
</dl>
<hr class="docutils" />
<p>Let’s start with some examples: We consider the vector space over <span class="math notranslate nohighlight">\(\QQ\)</span> whose
basis is indexed by permutations, and a particular element in it:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">Permutations</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">el</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">F</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">+</span> <span class="n">F</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">el</span>
<span class="go">B[[1, 2, 3]] + 3*B[[1, 3, 2]]</span>
</pre></div>
</div>
<p>(For each permutation, say <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">3,</span> <span class="pre">2]</span></code>, the corresponding element in
<code class="docutils literal notranslate"><span class="pre">F</span></code> is denoted by <code class="docutils literal notranslate"><span class="pre">B[[1,</span> <span class="pre">3,</span> <span class="pre">2]]</span></code> – in a <code class="docutils literal notranslate"><span class="pre">CombinatorialFreeModule</span></code>,
if an element is indexed by <code class="docutils literal notranslate"><span class="pre">x</span></code>, then by default its print
representation is <code class="docutils literal notranslate"><span class="pre">B[x]</span></code>.)</p>
<p>In Python, everything is an object so there isn’t any difference between types
and classes. One can get the class of the object <code class="docutils literal notranslate"><span class="pre">el</span></code> by:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.combinat.free_module.CombinatorialFreeModule_with_category.element_class&#39;&gt;</span>
</pre></div>
</div>
<p>As such, this is not very informative. We’ll come back to it later. The data
associated to objects are stored in so-called <strong>attributes</strong>. They are
accessed through the syntax <code class="docutils literal notranslate"><span class="pre">obj.attribute_name</span></code>. For an element of a
combinatorial free module, the main attribute is called
<code class="docutils literal notranslate"><span class="pre">_monomial_coefficients</span></code>. It is a dictionary associating coefficients to
indices:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="n">_monomial_coefficients</span>
<span class="go">{[1, 2, 3]: 1, [1, 3, 2]: 3}</span>
</pre></div>
</div>
<p>Modifying the attribute modifies the objects:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="n">_monomial_coefficients</span><span class="p">[</span><span class="n">Permutation</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">el</span>
<span class="go">B[[1, 2, 3]] + 3*B[[1, 3, 2]] + 1/2*B[[3, 2, 1]]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">as a user, you are <em>not</em> supposed to do such a modification by
yourself (see note on <a class="reference internal" href="#private-attributes"><span class="std std-ref">private attributes</span></a> below).</p>
</div>
<p>As an element of a vector space, <code class="docutils literal notranslate"><span class="pre">el</span></code> has a particular behavior:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">2</span><span class="o">*</span><span class="n">el</span>
<span class="go">2*B[[1, 2, 3]] + 6*B[[1, 3, 2]] + B[[3, 2, 1]]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">el</span><span class="o">.</span><span class="n">support</span><span class="p">())</span>
<span class="go">[[1, 2, 3], [1, 3, 2], [3, 2, 1]]</span>
<span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">1</span>
</pre></div>
</div>
<p>The behavior is defined through <strong>methods</strong> (<code class="docutils literal notranslate"><span class="pre">support</span></code>, <code class="docutils literal notranslate"><span class="pre">coefficient</span></code>). Note
that this is true even for equality, printing or mathematical operations. For
example, the call <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">b</span></code> actually is translated to the method call
<code class="docutils literal notranslate"><span class="pre">a.__eq__(b)</span></code>. The names of those special methods which are usually called
through operators are fixed by the Python language and are of the form
<code class="docutils literal notranslate"><span class="pre">__name__</span></code>. Examples include <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> and <code class="docutils literal notranslate"><span class="pre">__le__</span></code> for operators <code class="docutils literal notranslate"><span class="pre">==</span></code> and
<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> (see <a class="reference internal" href="#sage-specifics"><span class="std std-ref">Sage specifics about classes</span></a>) for printing, <code class="docutils literal notranslate"><span class="pre">__add__</span></code> and
<code class="docutils literal notranslate"><span class="pre">__mult__</span></code> for operators <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code>.  See
<a class="reference external" href="http://docs.python.org/library/">http://docs.python.org/library/</a> for a complete list.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">F</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
<span class="go">&#39;B[[1, 2, 3]] + 3*B[[1, 3, 2]] + 1/2*B[[3, 2, 1]]&#39;</span>
<span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="fm">__mul__</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2*B[[1, 2, 3]] + 6*B[[1, 3, 2]] + B[[3, 2, 1]]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>We now create a custom <a class="reference external" href="../reference/structure/sage/structure/element.html#sage.structure.element.Element" title="(in Sage Reference Manual: Parents and Elements v8.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>
class to explain the details of how attributes work in Python
(you can ignore the <code class="docutils literal notranslate"><span class="pre">parent</span></code> in the code below, that is not
relevant here):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElt</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">(</span><span class="n">MyElt</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">val</span>
<span class="gp">sage: </span><span class="n">el</span> <span class="o">=</span> <span class="n">MyElt</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">el</span>
<span class="go">Generic element of a structure</span>
</pre></div>
</div>
<p>The class is stored in a particular attribute called <code class="docutils literal notranslate"><span class="pre">__class__</span></code>,
and the normal attributes are stored in a dictionary called <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">{&#39;value&#39;: 42}</span>
<span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="vm">__class__</span>
<span class="go">&lt;class &#39;__main__.MyElt&#39;&gt;</span>
</pre></div>
</div>
<p>Some particular actions modify the attributes of <code class="docutils literal notranslate"><span class="pre">el</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;bla&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">el</span>
<span class="go">bla</span>
<span class="gp">sage: </span><span class="n">el</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">{&#39;__custom_name&#39;: &#39;bla&#39;, &#39;value&#39;: 42}</span>
</pre></div>
</div>
<p>Lots of Sage objects are not Python objects but compiled Cython
objects. Python sees them as builtin objects and you do not have
access to some of their internal data structure. For example, the
base class <code class="docutils literal notranslate"><span class="pre">Element</span></code> stores the parent of <code class="docutils literal notranslate"><span class="pre">el</span></code> as a Cython
attribute <code class="docutils literal notranslate"><span class="pre">_parent</span></code> but it does not appear in the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>
and we cannot access it from Python.</p>
<p>Some examples of Cython classes (technically,
<a class="reference external" href="http://cython.readthedocs.io/en/stable/src/userguide/extension_types.html">extension types</a>)
in Sage include integers and permutation group elements. These do
not have a <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> at all:</p>
<div class="last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.integer.Integer&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;sage.rings.integer.Integer&#39; object has no attribute &#39;__dict__&#39;</span>

<span class="gp">sage: </span><span class="n">id4</span> <span class="o">=</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">id4</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.groups.perm_gps.permgroup_element.SymmetricGroupElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">id4</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;sage.groups.perm_gps.permgroup_element.SymmetricGroupElement&#39; object has no attribute &#39;__dict__&#39;</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Each object corresponds to a portion of memory called its <strong>identity</strong> in
Python. You can get the identity using <code class="docutils literal notranslate"><span class="pre">id</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el</span> <span class="o">=</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">id</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>  <span class="c1"># random</span>
<span class="go">139813642977744</span>
<span class="gp">sage: </span><span class="n">el1</span> <span class="o">=</span> <span class="n">el</span><span class="p">;</span> <span class="nb">id</span><span class="p">(</span><span class="n">el1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">el1</span> <span class="ow">is</span> <span class="n">el</span>
<span class="go">True</span>
</pre></div>
</div>
<p>In Python (and therefore in Sage), two objects with the same
identity will be equal, but the converse is not true in general.
Thus the identity function is different from mathematical
identity:</p>
<div class="last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">el2</span> <span class="o">=</span> <span class="n">Integer</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">el2</span> <span class="o">==</span> <span class="n">el1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">el2</span> <span class="ow">is</span> <span class="n">el1</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="nb">id</span><span class="p">(</span><span class="n">el2</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h3>
<p>To define some object, you first have to write a <strong>class</strong>. The class will
define the methods and the attributes of the object.</p>
<dl class="docutils">
<dt><strong>method</strong></dt>
<dd>particular kind of function associated with an object used to get
information about the object or to manipulate it.</dd>
<dt><strong>attribute</strong></dt>
<dd>variable where information about the object is stored.</dd>
</dl>
</div>
<div class="section" id="an-example-glass-of-beverage-in-a-restaurant">
<h3>An example: glass of beverage in a restaurant<a class="headerlink" href="#an-example-glass-of-beverage-in-a-restaurant" title="Permalink to this headline">¶</a></h3>
<p>Let’s write a small class about glasses in a restaurant:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Glass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">assert</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>  <span class="c1"># an attribute</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># another attribute</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="s2">&quot;An empty glass of size </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="s2">&quot;A glass of size </span><span class="si">%s</span><span class="s2"> cl containing </span><span class="si">%s</span><span class="s2"> cl of water&quot;</span><span class="o">%</span><span class="p">(</span>
<span class="gp">....: </span>                    <span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s create a small glass:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">myGlass</span> <span class="o">=</span> <span class="n">Glass</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="n">myGlass</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">myGlass</span><span class="o">.</span><span class="n">fill</span><span class="p">();</span> <span class="n">myGlass</span>
<span class="go">A glass of size 10.0 cl containing 10.0 cl of water</span>
<span class="gp">sage: </span><span class="n">myGlass</span><span class="o">.</span><span class="n">empty</span><span class="p">();</span> <span class="n">myGlass</span>
<span class="go">An empty glass of size 10.0</span>
</pre></div>
</div>
<p>Some comments:</p>
<ol class="arabic simple">
<li>The definition of the class <code class="docutils literal notranslate"><span class="pre">Glass</span></code> defines two attributes,
<code class="docutils literal notranslate"><span class="pre">_size</span></code> and <code class="docutils literal notranslate"><span class="pre">_content</span></code>.  It defines four methods, <code class="docutils literal notranslate"><span class="pre">__init__</span></code>,
<code class="docutils literal notranslate"><span class="pre">__repr__</span></code>, <code class="docutils literal notranslate"><span class="pre">fill</span></code>, and <code class="docutils literal notranslate"><span class="pre">empty</span></code>.  (Any instance of this class
will also have other attributes and methods, inherited from the
class <code class="docutils literal notranslate"><span class="pre">object</span></code>.  See <a class="reference internal" href="#id1"><span class="std std-ref">Inheritance</span></a> below.)</li>
<li>The method <code class="docutils literal notranslate"><span class="pre">__init__</span></code> is used to initialize the object: it is used by the
so-called <strong>constructor</strong> of the class that is executed when calling
<code class="docutils literal notranslate"><span class="pre">Glass(10)</span></code>.</li>
<li>The method <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> returns a string which is used to
print the object, for example in this case when evaluating <code class="docutils literal notranslate"><span class="pre">myGlass</span></code>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Private Attributes</strong></p>
<ul class="last simple" id="private-attributes">
<li>Most of the time, in order to ensure consistency of the data structures,
the user is not supposed to directly change certain attributes of an
object. Those attributes are called <strong>private</strong>. Since there is no
mechanism to ensure privacy in Python, the convention is the following:
private attributes have names beginning with an underscore.</li>
<li>As a consequence, attribute access is only made through methods. Methods
for reading or writing a private attribute are called accessors.</li>
<li>Methods which are only for internal use are also prefixed with an
underscore.</li>
</ul>
</div>
</div>
<div class="section" id="exercises">
<h3>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Add a method <code class="docutils literal notranslate"><span class="pre">is_empty</span></code> which returns true if a glass is empty.</li>
<li>Define a method <code class="docutils literal notranslate"><span class="pre">drink</span></code> with a parameter <code class="docutils literal notranslate"><span class="pre">amount</span></code> which allows one to
partially drink the water in the glass. Raise an error if one asks to
drink more water than there is in the glass or a negative amount of
water.</li>
<li>Allows the glass to be filled with wine, beer or another beverage. The method
<code class="docutils literal notranslate"><span class="pre">fill</span></code> should accept a parameter <code class="docutils literal notranslate"><span class="pre">beverage</span></code>. The beverage is stored in
an attribute <code class="docutils literal notranslate"><span class="pre">_beverage</span></code>. Update the method <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> accordingly.</li>
<li>Add an attribute <code class="docutils literal notranslate"><span class="pre">_clean</span></code> and methods <code class="docutils literal notranslate"><span class="pre">is_clean</span></code> and <code class="docutils literal notranslate"><span class="pre">wash</span></code>. At the
creation a glass is clean, as soon as it’s filled it becomes dirty,
and it must be washed to become clean again.</li>
<li>Test everything.</li>
<li>Make sure that everything is tested.</li>
<li>Test everything again.</li>
</ol>
</div>
</div>
<div class="section" id="inheritance">
<h2>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h2>
<p id="id1">The problem: objects of <strong>different</strong> classes may share a <strong>common behavior</strong>.</p>
<p>For example, if one wants to deal with different dishes (forks, spoons, …),
then there is common behavior (becoming dirty and being washed). So the
different classes associated to the different kinds of dishes should have the
same <code class="docutils literal notranslate"><span class="pre">clean</span></code>, <code class="docutils literal notranslate"><span class="pre">is_clean</span></code> and <code class="docutils literal notranslate"><span class="pre">wash</span></code> methods. But copying and pasting
code is very bad for maintenance: mistakes are copied, and to change anything
one has to remember the location of all the copies. So there is a need for a
mechanism which allows the programmer to factorize the common behavior. It is called
<strong>inheritance</strong> or <strong>sub-classing</strong>: one writes a base class which factorizes
the common behavior and then reuses the methods from this class.</p>
<p>We first write a small class ‘’AbstractDish’’ which implements the
“clean-dirty-wash” behavior:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">AbstractDish</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">is_clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;clean&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span> <span class="k">else</span> <span class="s2">&quot;dirty&quot;</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;An unspecified </span><span class="si">%s</span><span class="s2"> dish&quot;</span><span class="o">%</span><span class="k">self</span>.state()
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_make_dirty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">wash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>Now one can reuse this behavior within a class <code class="docutils literal notranslate"><span class="pre">Spoon</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Spoon</span><span class="p">(</span><span class="n">AbstractDish</span><span class="p">):</span>  <span class="c1"># Spoon inherits from AbstractDish</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;A </span><span class="si">%s</span><span class="s2"> spoon&quot;</span><span class="o">%</span><span class="k">self</span>.state()
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">eat_with</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_make_dirty</span><span class="p">()</span>
</pre></div>
</div>
<p>Let’s test it:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Spoon</span><span class="p">();</span> <span class="n">s</span>
<span class="go">A clean spoon</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">eat_with</span><span class="p">();</span> <span class="n">s</span>
<span class="go">A dirty spoon</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">wash</span><span class="p">();</span> <span class="n">s</span>
<span class="go">A clean spoon</span>
</pre></div>
</div>
<div class="section" id="id2">
<h3>Summary<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Any class can reuse the behavior of another class. One says that the
subclass <strong>inherits</strong> from the superclass or that it <strong>derives</strong> from it.</p>
</li>
<li><p class="first">Any instance of the subclass is also an instance of its superclass:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;class &#39;__main__.Spoon&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">Spoon</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">AbstractDish</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">If a subclass redefines a method, then it replaces the former one. One says
that the subclass <strong>overloads</strong> the method. One can nevertheless explicitly
call the hidden superclass method.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
<span class="go">&#39;A clean spoon&#39;</span>
<span class="gp">sage: </span><span class="n">Spoon</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&#39;A clean spoon&#39;</span>
<span class="gp">sage: </span><span class="n">AbstractDish</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&#39;An unspecified clean dish&#39;</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Advanced superclass method call</strong></p>
<p>Sometimes one wants to call an overloaded method without knowing in which
class it is defined. To do this, use the <code class="docutils literal notranslate"><span class="pre">super</span></code> operator:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">super</span><span class="p">(</span><span class="n">Spoon</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
<span class="go">&#39;An unspecified clean dish&#39;</span>
</pre></div>
</div>
<p>A very common usage of this construct is to call the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method of the
superclass:</p>
<div class="last highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Spoon</span><span class="p">(</span><span class="n">AbstractDish</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Building a spoon&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">(</span><span class="n">Spoon</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;A </span><span class="si">%s</span><span class="s2"> spoon&quot;</span><span class="o">%</span><span class="k">self</span>.state()
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">eat_with</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_make_dirty</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Spoon</span><span class="p">()</span>
<span class="go">Building a spoon</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">A clean spoon</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h3>Exercises<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Modify the class <code class="docutils literal notranslate"><span class="pre">Glasses</span></code> so that it inherits from <code class="docutils literal notranslate"><span class="pre">Dish</span></code>.</li>
<li>Write a class <code class="docutils literal notranslate"><span class="pre">Plate</span></code> whose instance can contain any meal together with
a class <code class="docutils literal notranslate"><span class="pre">Fork</span></code>. Avoid as much as possible code duplication (hint:
you can write a factorized class <code class="docutils literal notranslate"><span class="pre">ContainerDish</span></code>).</li>
<li>Test everything.</li>
</ol>
</div>
</div>
<div class="section" id="sage-specifics-about-classes">
<span id="sage-specifics"></span><h2>Sage specifics about classes<a class="headerlink" href="#sage-specifics-about-classes" title="Permalink to this headline">¶</a></h2>
<p>Compared to Python, Sage has particular ways to handle objects:</p>
<ul class="simple">
<li>Any classes for mathematical objects in Sage should inherit from
<a class="reference external" href="../reference/structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Parents and Elements v8.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageObject</span></code></a> rather than from <code class="docutils literal notranslate"><span class="pre">object</span></code>. Most of the time, they
actually inherit from a subclass such as <a class="reference external" href="../reference/structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage Reference Manual: Parents and Elements v8.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parent</span></code></a> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code>.</li>
<li>Printing should be done through <code class="docutils literal notranslate"><span class="pre">_repr_</span></code> instead of <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> to allow
for renaming.</li>
<li>More generally, Sage-specific special methods are usually named <code class="docutils literal notranslate"><span class="pre">_meth_</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">__meth__</span></code>. For example, lots of classes implement <code class="docutils literal notranslate"><span class="pre">_hash_</span></code>
which is used and cached by <code class="docutils literal notranslate"><span class="pre">__hash__</span></code>. In the same vein, elements of a
group usually implement <code class="docutils literal notranslate"><span class="pre">_mul_</span></code>, so that there is no need to take care
about coercions as they are done in <code class="docutils literal notranslate"><span class="pre">__mul__</span></code>.</li>
</ul>
<p>For more details, see the Sage Developer’s Guide.</p>
</div>
<div class="section" id="solutions-to-the-exercises">
<span id="solutions"></span><h2>Solutions to the exercises<a class="headerlink" href="#solutions-to-the-exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Here is a solution to the first exercise:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Glass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">assert</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">wash</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="s2">&quot;An empty glass of size </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="s2">&quot;A glass of size </span><span class="si">%s</span><span class="s2"> cl containing </span><span class="si">%s</span><span class="s2"> cl of </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span>
<span class="gp">....: </span>                    <span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">content</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">beverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">beverage</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_clean</span><span class="p">():</span>
<span class="gp">....: </span>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Don&#39;t want to fill a dirty glass&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span> <span class="o">=</span> <span class="n">beverage</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">==</span> <span class="mf">0.0</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">drink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">amount</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;amount must be positive&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">elif</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;not enough beverage in the glass&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">-=</span> <span class="nb">float</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">is_clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">wash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Let’s check that everything is working as expected:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Glass</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_empty</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">drink</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: not enough beverage in the glass</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&quot;beer&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">A glass of size 10.0 cl containing 10.0 cl of beer</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_empty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">drink</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">A glass of size 10.0 cl containing 5.0 cl of beer</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_empty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">drink</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&quot;orange juice&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Don&#39;t want to fill a dirty glass</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">wash</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&quot;orange juice&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">A glass of size 10.0 cl containing 10.0 cl of orange juice</span>
</pre></div>
</div>
</li>
<li><p class="first">Here is the solution to the second exercice:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">AbstractDish</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">is_clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;clean&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span> <span class="k">else</span> <span class="s2">&quot;dirty&quot;</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;An unspecified </span><span class="si">%s</span><span class="s2"> dish&quot;</span><span class="o">%</span><span class="k">self</span>.state()
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_make_dirty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">wash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_clean</span> <span class="o">=</span> <span class="bp">True</span>


<span class="gp">sage: </span><span class="k">class</span> <span class="nc">ContainerDish</span><span class="p">(</span><span class="n">AbstractDish</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">assert</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">(</span><span class="n">ContainerDish</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">content</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">==</span> <span class="mf">0.0</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">wash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">(</span><span class="n">ContainerDish</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">wash</span><span class="p">()</span>


<span class="gp">sage: </span><span class="k">class</span> <span class="nc">Glass</span><span class="p">(</span><span class="n">ContainerDish</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="s2">&quot;An empty glass of size </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="s2">&quot;A glass of size </span><span class="si">%s</span><span class="s2"> cl containing </span><span class="si">%s</span><span class="s2"> cl of </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span>
<span class="gp">....: </span>                    <span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">beverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">beverage</span> <span class="o">=</span> <span class="s2">&quot;water&quot;</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_clean</span><span class="p">():</span>
<span class="gp">....: </span>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Don&#39;t want to fill a dirty glass&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_make_dirty</span><span class="p">()</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span> <span class="o">=</span> <span class="n">beverage</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">drink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">amount</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;amount must be positive&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">elif</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;not enough beverage in the glass&quot;</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">-=</span> <span class="nb">float</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">wash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">_beverage</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">(</span><span class="n">Glass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">wash</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">Let’s check that everything is working as expected:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Glass</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_empty</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">drink</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: not enough beverage in the glass</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&quot;beer&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">A glass of size 10.0 cl containing 10.0 cl of beer</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_empty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">drink</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">A glass of size 10.0 cl containing 5.0 cl of beer</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_empty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">drink</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_clean</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&quot;orange juice&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Don&#39;t want to fill a dirty glass</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">wash</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">An empty glass of size 10.0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&quot;orange juice&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span>
<span class="go">A glass of size 10.0 cl containing 10.0 cl of orange juice</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">give the example of the class <code class="docutils literal notranslate"><span class="pre">Plate</span></code>.</p>
</div>
<p>That all folks !</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial: Objects and Classes in Python and Sage</a><ul>
<li><a class="reference internal" href="#foreword-variables-names-and-objects">Foreword: variables, names and objects</a></li>
<li><a class="reference internal" href="#other-languages-have-variables">Other languages have “variables”</a></li>
<li><a class="reference internal" href="#python-has-names">Python has “names”</a></li>
<li><a class="reference internal" href="#object-oriented-programming-paradigm">Object-oriented programming paradigm</a><ul>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#an-example-glass-of-beverage-in-a-restaurant">An example: glass of beverage in a restaurant</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inheritance">Inheritance</a><ul>
<li><a class="reference internal" href="#id2">Summary</a></li>
<li><a class="reference internal" href="#id3">Exercises</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage-specifics-about-classes">Sage specifics about classes</a></li>
<li><a class="reference internal" href="#solutions-to-the-exercises">Solutions to the exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial-comprehensions.html"
                        title="previous chapter">Tutorial: Comprehensions, Iterators, and Iterables</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="functional_programming.html"
                        title="next chapter">Functional Programming for Mathematicians</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial-objects-and-classes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="functional_programming.html" title="Functional Programming for Mathematicians"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial-comprehensions.html" title="Tutorial: Comprehensions, Iterators, and Iterables"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Thematic Tutorials v8.8</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="toctree.html" >Thematic tutorial document tree</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>