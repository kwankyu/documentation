
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Tutorial: Programming in Python and Sage &#8212; Thematic Tutorials v8.7</title>
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial: Comprehensions, Iterators, and Iterables" href="tutorial-comprehensions.html" />
    <link rel="prev" title="Draw polytopes in LaTeX using TikZ" href="geometry/polytope_tikz.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
    <script src="_static/thebe.js" type="text/javascript"></script>
    <script src="_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tutorial-comprehensions.html" title="Tutorial: Comprehensions, Iterators, and Iterables"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="geometry/polytope_tikz.html" title="Draw polytopes in LaTeX using TikZ"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Thematic Tutorials v8.7</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="toctree.html" accesskey="U">Thematic tutorial document tree</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial-programming-in-python-and-sage">
<span id="tutorial-programming-python"></span><h1>Tutorial: Programming in Python and Sage<a class="headerlink" href="#tutorial-programming-in-python-and-sage" title="Permalink to this headline">¶</a></h1>
<p><em>Author: Florent Hivert &lt;<a class="reference external" href="mailto:florent&#46;hivert&#37;&#52;&#48;univ-rouen&#46;fr">florent<span>&#46;</span>hivert<span>&#64;</span>univ-rouen<span>&#46;</span>fr</a>&gt;, Franco Saliola &lt;<a class="reference external" href="mailto:saliola&#37;&#52;&#48;gmail&#46;com">saliola<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;, et al.</em></p>
<p>This tutorial is an introduction to basic programming in Python and Sage, for
readers with elementary notions of programming but not familiar with the Python
language. It is far from exhaustive. For a more complete tutorial, have a look
at the <a class="reference external" href="http://docs.python.org/release/2.6.4/tutorial/index.html">Python Tutorial</a>. Also Python’s
<a class="reference external" href="http://docs.python.org/release/2.6.4/">documentation</a> and in particular the
<a class="reference external" href="http://docs.python.org/release/2.6.4/library">standard library</a> can be
useful.</p>
<p>A <a class="reference internal" href="tutorial-objects-and-classes.html#tutorial-objects-and-classes"><span class="std std-ref">more advanced tutorial</span></a> presents the
notions of objects and classes in Python.</p>
<p>Here are further resources to learn Python:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.korokithakis.net/tutorials/python">Learn Python in 10 minutes</a> ou en français
<a class="reference external" href="http://mat.oxyg3n.org/index.php?post/2009/07/26/Python-en-10-minutes">Python en 10 minutes</a></li>
<li><a class="reference external" href="http://diveintopython.net/">Dive into Python</a>
is a Python book for experienced programmers. Also available in
<a class="reference external" href="http://diveintopython.net/#languages">other languages</a>.</li>
<li><a class="reference external" href="http://www.ibm.com/developerworks/views/opensource/libraryview.jsp?search_by=Discover+Python+Part|">Discover Python</a>
is a series of articles published in IBM’s <a class="reference external" href="http://www.ibm.com/developerworks/">developerWorks</a> technical resource center.</li>
</ul>
<div class="section" id="data-structures">
<h2>Data structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<p>In Python, <em>typing is dynamic</em>; there is no such thing as declaring variables.
The function <code class="xref py py-func docutils literal notranslate"><span class="pre">type()</span></code> returns the type of an object <code class="docutils literal notranslate"><span class="pre">obj</span></code>. To convert an
object to a type <code class="docutils literal notranslate"><span class="pre">typ</span></code> just write <code class="docutils literal notranslate"><span class="pre">typ(obj)</span></code> as in <code class="docutils literal notranslate"><span class="pre">int(&quot;123&quot;)</span></code>. The
command <code class="docutils literal notranslate"><span class="pre">isinstance(ex,</span> <span class="pre">typ)</span></code> returns whether the expression <code class="docutils literal notranslate"><span class="pre">ex</span></code> is of
type <code class="docutils literal notranslate"><span class="pre">typ</span></code>. Specifically, any value is <em>an instance of a class</em> and there is
no difference between classes and types.</p>
<p>The symbol <code class="docutils literal notranslate"><span class="pre">=</span></code> denotes the affectation to a variable; it should not be
confused with <code class="docutils literal notranslate"><span class="pre">==</span></code> which denotes mathematical equality. Inequality is <code class="docutils literal notranslate"><span class="pre">!=</span></code>.</p>
<p>The <em>standard types</em> are <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>,
<a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>.</p>
<ul>
<li><p class="first">The type <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code> (<em>booleans</em>) has two values: <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code>. The
boolean operators are denoted by their names <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span></code>.</p>
</li>
<li><p class="first">The Python types <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">long</span></code> are used to
represent integers of limited size. To handle arbitrary large
integers with exact arithmetic, Sage uses its own type named
<a class="reference external" href="../reference/rings_standard/sage/rings/integer.html#sage.rings.integer.Integer" title="(in Sage Reference Manual: Standard Commutative Rings v8.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a>.</p>
</li>
<li><p class="first">A <em>list</em> is a data structure which groups values. It is constructed using
brackets as in <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">3,</span> <span class="pre">4]</span></code>. The <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> function creates integer
lists. One can also create lists using <em>list comprehension</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="o">&lt;</span><span class="n">expr</span><span class="o">&gt;</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable</span><span class="o">&gt;</span> <span class="p">(</span><span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span> <span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">]</span>
<span class="go">[0, 4, 16, 36, 64]</span>
</pre></div>
</div>
</li>
<li><p class="first">A <em>tuple</em> is very similar to a list; it is constructed using
parentheses. The empty tuple is obtained by <code class="docutils literal notranslate"><span class="pre">()</span></code> or by the
constructor <a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>. If there is only one element, one has to
write <code class="docutils literal notranslate"><span class="pre">(a,)</span></code>. A tuple is <em>immutable</em> (one cannot change it) but it
is <em>hashable</em> (see below). One can also create tuples using
comprehensions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 4, 16, 36, 64)</span>
</pre></div>
</div>
</li>
<li><p class="first">A <em>set</em> is a data structure which contains values without
multiplicities or order. One creates it from a list (or any
iterable) with the constructor <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>. The elements of a set
must be hashable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">set</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">{1, 2, 4, 5}</span>

<span class="gp">sage: </span><span class="nb">set</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">unhashable type: &#39;list&#39;</span>
</pre></div>
</div>
</li>
<li><p class="first">A <em>dictionary</em> is an association table, which associates values to
keys. Keys must be hashable. One creates dictionaries using the
constructor <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>, or using the syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">key1</span> <span class="p">:</span> <span class="n">value1</span><span class="p">,</span> <span class="n">key2</span> <span class="p">:</span> <span class="n">value2</span> <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">age</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;toto&#39;</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;mom&#39;</span> <span class="p">:</span> <span class="mi">27</span><span class="p">};</span> <span class="n">age</span>
<span class="go">{&#39;mom&#39;: 27, &#39;toto&#39;: 8}</span>
</pre></div>
</div>
</li>
<li><p class="first">Quotes (simple <code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code> or double <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code>) enclose <em>character
strings</em>. One can concatenate them using <code class="docutils literal notranslate"><span class="pre">+</span></code>.</p>
</li>
<li><p class="first">For lists, tuples, strings, and dictionaries, the <em>indexing
operator</em> is written <code class="docutils literal notranslate"><span class="pre">l[i]</span></code>. For lists, tuples, and strings one
can also uses <em>slices</em> as <code class="docutils literal notranslate"><span class="pre">l[:]</span></code>, <code class="docutils literal notranslate"><span class="pre">l[:b]</span></code>, <code class="docutils literal notranslate"><span class="pre">l[a:]</span></code>, or
<code class="docutils literal notranslate"><span class="pre">l[a:b]</span></code>. Negative indices start from the end.</p>
</li>
<li><p class="first">The <a class="reference external" href="https://docs.python.org/library/functions.html#len" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> function returns the number of elements of a list, a
tuple, a set, a string, or a dictionary. One writes <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">C</span></code> to
tests whether <code class="docutils literal notranslate"><span class="pre">x</span></code> is in <code class="docutils literal notranslate"><span class="pre">C</span></code>.</p>
</li>
<li><p class="first">Finally there is a special value called <code class="docutils literal notranslate"><span class="pre">None</span></code> to denote the
absence of a value.</p>
</li>
</ul>
</div>
<div class="section" id="control-structures">
<h2>Control structures<a class="headerlink" href="#control-structures" title="Permalink to this headline">¶</a></h2>
<p>In Python, there is no keyword for the beginning and the end of an
instructions block. Blocks are delimited solely by means of
indentation. Most of the time a new block is introduced by
<code class="docutils literal notranslate"><span class="pre">:</span></code>. Python has the following control structures:</p>
<ul>
<li><p class="first">Conditional instruction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span>
<span class="p">[</span><span class="k">elif</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span><span class="p">]</span><span class="o">*</span>
<span class="p">[</span><span class="k">else</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">Inside expression exclusively, one can write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="k">else</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Iterative instructions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span>
<span class="p">[</span><span class="k">else</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span>
<span class="p">[</span><span class="k">else</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">instruction</span> <span class="n">sequence</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">else</span></code> block is executed at the end of the loop if the loop is
ended normally, that is neither by a <code class="docutils literal notranslate"><span class="pre">break</span></code> nor an exception.</p>
</li>
<li><p class="first">In a loop, <code class="docutils literal notranslate"><span class="pre">continue</span></code> jumps to the next iteration.</p>
</li>
<li><p class="first">An iterable is an object which can be iterated through. Iterable
types include lists, tuples, dictionaries, and strings.</p>
</li>
<li><p class="first">An error (also called exception) is raised by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="o">&lt;</span><span class="n">ErrorType</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">error</span> <span class="n">message</span><span class="p">]</span>
</pre></div>
</div>
<p>Usual errors include <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> and <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Python functions vs. mathematical functions</p>
<p class="last">In what follows, we deal with <em>functions</em> is the sense of
<em>programming languages</em>. Mathematical functions, as manipulated in
calculus, are handled by Sage in a different way. In particular it
doesn’t make sense to do mathematical manipulation such as
additions or derivations on Python functions.</p>
</div>
<p>One defines a function using the keyword <code class="docutils literal notranslate"><span class="pre">def</span></code> as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>def &lt;name&gt;(&lt;argument list&gt;):
     &lt;instruction sequence&gt;
</pre></div>
</div>
<p>The result of the function is given by the instruction
<code class="docutils literal notranslate"><span class="pre">return</span></code>. Very short functions can be created anonymously using
<code class="docutils literal notranslate"><span class="pre">lambda</span></code> (remark that there is no instruction <code class="docutils literal notranslate"><span class="pre">return</span></code> here):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="o">&lt;</span><span class="n">arguments</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Functional programming</p>
<p class="last">Functions are objects as any other objects. One can assign them to
variables or return them. For details, see the tutorial on
<a class="reference internal" href="functional_programming.html#functional-programming"><span class="std std-ref">Functional Programming for Mathematicians</span></a>.</p>
</div>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h3>
<div class="section" id="creating-lists-i-square-brackets">
<h4>Creating Lists I: [Square brackets]<a class="headerlink" href="#creating-lists-i-square-brackets" title="Permalink to this headline">¶</a></h4>
<p><strong>Example:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">Permutation</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">51</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[3, [5, 1, 4, 2, 3], 17, 17, 3, 51]</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> Create the list <code class="docutils literal notranslate"><span class="pre">[63,</span> <span class="pre">12,</span> <span class="pre">-10,</span> <span class="pre">&quot;a&quot;,</span> <span class="pre">12]</span></code>,
assign it to the variable <code class="docutils literal notranslate"><span class="pre">L</span></code>, and print the list.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> Create the empty list (you will often need to do this).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-lists-ii-range">
<h4>Creating Lists II: range<a class="headerlink" href="#creating-lists-ii-range" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> function provides an easy way to construct a list of
integers. Here is the documentation of the <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>range([start,] stop[, step]) -&gt; list of integers

Return a list containing an arithmetic progression of integers.
range(i, j) returns [i, i+1, i+2, ..., j-1]; start (!) defaults to 0.
When step is given, it specifies the increment (or decrement). For
example, range(4) returns [0, 1, 2, 3].  The end point is omitted!
These are exactly the valid indices for a list of 4 elements.
</pre></div>
</div>
<p><strong>Exercise:</strong> Use <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> to construct the list <span class="math notranslate nohighlight">\([1,2,\ldots,50]\)</span>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> Use <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> to construct the list of <em>even</em>
numbers between 1 and 100 (including 100).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> The <code class="docutils literal notranslate"><span class="pre">step</span></code> argument for the <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> command can
be negative. Use range to construct the list <span class="math notranslate nohighlight">\([10, 7, 4, 1, -2]\)</span>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="https://docs.python.org/library/functions.html#xrange" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">xrange()</span></code></a>: returns an iterator rather than building a list,
(only for Python2, replaced by range in Python 3).</li>
<li><a class="reference external" href="../reference/misc/sage/arith/srange.html#sage.arith.srange.srange" title="(in Sage Reference Manual: Utilities v8.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">srange()</span></code></a>: like range but with Sage integers; see below.</li>
<li><a class="reference external" href="../reference/misc/sage/arith/srange.html#sage.arith.srange.xsrange" title="(in Sage Reference Manual: Utilities v8.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">xsrange()</span></code></a>: like xrange but with Sage integers.</li>
</ul>
</div>
</div>
<div class="section" id="creating-lists-iii-list-comprehensions">
<h4>Creating Lists III: list comprehensions<a class="headerlink" href="#creating-lists-iii-list-comprehensions" title="Permalink to this headline">¶</a></h4>
<p><em>List comprehensions</em> provide a concise way to create lists from other lists
(or other data types).</p>
<p><strong>Example</strong> We already know how to create the list <span class="math notranslate nohighlight">\([1, 2, \dots, 16]\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="p">)</span>   <span class="c1"># py2</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]</span>
</pre></div>
</div>
<p>Using a <em>list comprehension</em>, we can now create the list
<span class="math notranslate nohighlight">\([1^2, 2^2, 3^2, \dots, 16^2]\)</span> as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="p">)]</span>
<span class="go">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="p">)])</span>
<span class="go">1496</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> [<a class="reference external" href="http://projecteuler.net/index.php?section=problems&amp;id=6">Project Euler, Problem 6</a>]</p>
<p>The sum of the squares of the first ten natural numbers is</p>
<div class="math notranslate nohighlight">
\[(1^2 + 2^2 + ... + 10^2) = 385\]</div>
<p>The square of the sum of the first ten natural numbers is</p>
<div class="math notranslate nohighlight">
\[(1 + 2 + ... + 10)^2 = 55^2 = 3025\]</div>
<p>Hence the difference between the sum of the squares of the first ten natural
numbers and the square of the sum is</p>
<div class="math notranslate nohighlight">
\[3025 - 385 = 2640\]</div>
<p>Find the difference between the sum of the squares of the first one hundred
natural numbers and the square of the sum.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<div class="section" id="filtering-lists-with-a-list-comprehension">
<h5>Filtering lists with a list comprehension<a class="headerlink" href="#filtering-lists-with-a-list-comprehension" title="Permalink to this headline">¶</a></h5>
<p>A list can be <em>filtered</em> using a list comprehension.</p>
<p><strong>Example:</strong> To create a list of the squares of the prime numbers between 1
and 100, we use a list comprehension as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">p</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">..</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span> <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">p</span><span class="p">)]</span>
<span class="go">[4, 9, 25, 49, 121, 169, 289, 361, 529, 841, 961, 1369, 1681, 1849, 2209, 2809, 3481, 3721, 4489, 5041, 5329, 6241, 6889, 7921, 9409]</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> Use a <em>list comprehension</em> to list all the natural numbers below
20 that are multiples of 3 or 5. Hint:</p>
<ul class="simple">
<li>To get the remainder of 7 divided by 3 use <code class="docutils literal notranslate"><span class="pre">7%3</span></code>.</li>
<li>To test for equality use two equal signs (<code class="docutils literal notranslate"><span class="pre">==</span></code>); for example, <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">==</span> <span class="pre">7</span></code>.</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<p><a class="reference external" href="http://projecteuler.net/index.php?section=problems&amp;id=1">Project Euler, Problem 1</a>:
Find the sum of all the multiples of 3 or 5 below 1000.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</div>
<div class="section" id="nested-list-comprehensions">
<h5>Nested list comprehensions<a class="headerlink" href="#nested-list-comprehensions" title="Permalink to this headline">¶</a></h5>
<p>List comprehensions can be nested!</p>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="go">[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2), (3, 0), (3, 1), (3, 2), (4, 0), (4, 1), (4, 2)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[[</span><span class="n">i</span><span class="o">^</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[[0, 0, 0], [1, 1, 1], [2, 4, 8], [3, 9, 27], [4, 16, 64], [5, 25, 125]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="p">([[</span><span class="n">i</span><span class="o">^</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)])</span>
<span class="go">[  0   0   0]</span>
<span class="go">[  1   1   1]</span>
<span class="go">[  2   4   8]</span>
<span class="go">[  3   9  27]</span>
<span class="go">[  4  16  64]</span>
<span class="go">[  5  25 125]</span>
</pre></div>
</div>
<p><strong>Exercise:</strong></p>
<ol class="arabic">
<li><p class="first">A <em>Pythagorean triple</em> is a triple <span class="math notranslate nohighlight">\((x,y,z)\)</span> of <em>positive</em> integers satisfying
<span class="math notranslate nohighlight">\(x^2+y^2=z^2\)</span>. The Pythagorean triples whose components are at most <span class="math notranslate nohighlight">\(10\)</span> are:</p>
<div class="math notranslate nohighlight">
\[[(3, 4, 5), (4, 3, 5), (6, 8, 10), (8, 6, 10)]\,.\]</div>
<p>Using a filtered list comprehension, construct the list of
Pythagorean triples whose components are at most <span class="math notranslate nohighlight">\(50\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://projecteuler.net/index.php?section=problems&amp;id=9">Project Euler, Problem 9</a>:
There exists exactly one Pythagorean triple for which <span class="math notranslate nohighlight">\(a + b + c = 1000\)</span>.
Find the product <span class="math notranslate nohighlight">\(abc\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="accessing-individual-elements-of-lists">
<h4>Accessing individual elements of lists<a class="headerlink" href="#accessing-individual-elements-of-lists" title="Permalink to this headline">¶</a></h4>
<p>To access an element of the list <code class="docutils literal notranslate"><span class="pre">L</span></code>, use the syntax <code class="docutils literal notranslate"><span class="pre">L[i]</span></code>, where <span class="math notranslate nohighlight">\(i\)</span> is the
index of the item.</p>
<p><strong>Exercise:</strong></p>
<ol class="arabic">
<li><p class="first">Construct the list <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">[1,2,3,4,3,5,6]</span></code>. What is <code class="docutils literal notranslate"><span class="pre">L[3]</span></code>?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">What is <code class="docutils literal notranslate"><span class="pre">L[1]</span></code>?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">What is the index of the first element of <code class="docutils literal notranslate"><span class="pre">L</span></code>?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">What is <code class="docutils literal notranslate"><span class="pre">L[-1]</span></code>? What is <code class="docutils literal notranslate"><span class="pre">L[-2]</span></code>?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">What is <code class="docutils literal notranslate"><span class="pre">L.index(2)</span></code>? What is <code class="docutils literal notranslate"><span class="pre">L.index(3)</span></code>?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="modifying-lists-changing-an-element-in-a-list">
<h4>Modifying lists: changing an element in a list<a class="headerlink" href="#modifying-lists-changing-an-element-in-a-list" title="Permalink to this headline">¶</a></h4>
<p>To change the item in position <code class="docutils literal notranslate"><span class="pre">i</span></code> of a list <code class="docutils literal notranslate"><span class="pre">L</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[&#39;a&#39;, 4, 1, 8]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[&#39;a&#39;, 4, 0, 8]</span>
</pre></div>
</div>
</div>
<div class="section" id="modifying-lists-append-and-extend">
<h4>Modifying lists: append and extend<a class="headerlink" href="#modifying-lists-append-and-extend" title="Permalink to this headline">¶</a></h4>
<p>To <em>append</em> an object to a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[&#39;a&#39;, 4, 1, 8]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[&#39;a&#39;, 4, 1, 8, 17]</span>
</pre></div>
</div>
<p>To <em>extend</em> a list by another list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L1</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">sage: </span><span class="n">L2</span>
<span class="go">[7, 8, 9, 0]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">L2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L1</span>
<span class="go">[1, 2, 3, 7, 8, 9, 0]</span>
</pre></div>
</div>
</div>
<div class="section" id="modifying-lists-reverse-sort">
<h4>Modifying lists: reverse, sort, …<a class="headerlink" href="#modifying-lists-reverse-sort" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[4, 2, 5, 1, 3]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[3, 1, 5, 2, 4]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[1, 2, 3, 4, 5]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">[1, 3, 4, 6]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span>
<span class="go">[3, 1, 6, 4]</span>
</pre></div>
</div>
</div>
<div class="section" id="concatenating-lists">
<h4>Concatenating Lists<a class="headerlink" href="#concatenating-lists" title="Permalink to this headline">¶</a></h4>
<p>To concatenate two lists, add them with the operator <code class="docutils literal notranslate"><span class="pre">+</span></code>. This is
not a commutative operation!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L1</span> <span class="o">+</span> <span class="n">L2</span>
<span class="go">[1, 2, 3, 7, 8, 9, 0]</span>
</pre></div>
</div>
</div>
<div class="section" id="slicing-lists">
<h4>Slicing Lists<a class="headerlink" href="#slicing-lists" title="Permalink to this headline">¶</a></h4>
<p>You can slice a list using the syntax <code class="docutils literal notranslate"><span class="pre">L[start</span> <span class="pre">:</span> <span class="pre">stop</span> <span class="pre">:</span> <span class="pre">step]</span></code>. This will
return a sublist of <code class="docutils literal notranslate"><span class="pre">L</span></code>.</p>
<p><strong>Exercise:</strong> Below are some examples of slicing lists. Try to guess
what the output will be before evaluating the cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[3, 5, 7, 9, 11, 13]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">[15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[0, 1, 2, 3]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[:]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">[19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span>
</pre></div>
</div>
<p><strong>Exercise (Advanced):</strong> The following function combines a loop with
some of the list operations above. What does the function do?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">number_of_iterations</span><span class="p">):</span>
<span class="go">....:     L = [1]</span>
<span class="go">....:     for n in range(2, number_of_iterations):</span>
<span class="go">....:         L = [sum(L[:i]) for i in range(n-1, -1, -1)]</span>
<span class="go">....:     return numerical_approx(2*L[0]*len(L)/sum(L), digits=50)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tuples">
<h3>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h3>
<p>A <em>tuple</em> is an <em>immutable</em> list. That is, it cannot be changed once
it is created. This can be useful for code safety and foremost because
it makes tuple <em>hashable</em>. To create a tuple, use parentheses instead
of brackets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">17</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="mi">17</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">(3, 5, [3, 1], (17, [2, 3], 17), 4)</span>
</pre></div>
</div>
<p>To create a singleton tuple, a comma is required to resolve the
ambiguity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="go">(1,)</span>
</pre></div>
</div>
<p>We can create a tuple from a list, and vice-versa.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">(0, 1, 2, 3, 4)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[3, 5, [3, 1], (17, [2, 3], 17), 4]</span>
</pre></div>
</div>
<p>Tuples behave like lists in many respects:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="35%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Syntax for lists</th>
<th class="head">Syntax for tuples</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Accessing a letter</td>
<td><code class="docutils literal notranslate"><span class="pre">list[3]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">tuple[3]</span></code></td>
</tr>
<tr class="row-odd"><td>Concatenation</td>
<td><code class="docutils literal notranslate"><span class="pre">list1</span> <span class="pre">+</span> <span class="pre">list2</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">tuple1</span> <span class="pre">+</span> <span class="pre">tuple2</span></code></td>
</tr>
<tr class="row-even"><td>Slicing</td>
<td><code class="docutils literal notranslate"><span class="pre">list[3:17:2]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">tuple[3:17:2]</span></code></td>
</tr>
<tr class="row-odd"><td>A reversed copy</td>
<td><code class="docutils literal notranslate"><span class="pre">list[::-1]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">tuple[::-1]</span></code></td>
</tr>
<tr class="row-even"><td>Length</td>
<td><code class="docutils literal notranslate"><span class="pre">len(list)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">len(tuple)</span></code></td>
</tr>
</tbody>
</table>
<p>Trying to modify a tuple will fail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">(5, &#39;a&#39;, 6/5)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">&#39;tuple&#39; object does not support item assignment</span>
</pre></div>
</div>
</div>
<div class="section" id="generators">
<h3>Generators<a class="headerlink" href="#generators" title="Permalink to this headline">¶</a></h3>
<p>“Tuple-comprehensions” do not exist. Instead, the syntax produces
something called a generator. A generator allows you to process a
sequence of items one at a time. Each item is created when it is
needed, and then forgotten. This can be very efficient if we only need
to use each item once.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">&lt;generator object &lt;genexpr&gt; at 0x...&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">&#39;generator&#39; object ...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">g</span><span class="p">]</span>
<span class="go">[0, 1, 4, 9, 16]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">g</span></code> is now empty.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">g</span><span class="p">]</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>A nice ‘pythonic’ trick is to use generators as argument of
functions. We do <em>not</em> need double parentheses for this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span> <span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">100001</span><span class="p">)</span> <span class="p">)</span>
<span class="go">333338333350000</span>
</pre></div>
</div>
</div>
<div class="section" id="dictionaries">
<h3>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h3>
<p>A <em>dictionary</em> is another built-in data type. Unlike lists, which are
indexed by a range of numbers starting at 0, dictionaries are indexed
by <em>keys</em>, which can be any immutable objects. Strings and numbers can
always be keys (because they are immutable). Dictionaries are
sometimes called “associative arrays” in other programming languages.</p>
<p>There are several ways to define dictionaries. One method is to use
braces, <code class="docutils literal notranslate"><span class="pre">{}</span></code>, with comma-separated entries given in the form
<em>key:value</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">:</span><span class="s2">&quot;goo&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span> <span class="p">:</span> <span class="mi">17</span><span class="p">}</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">{0: &#39;goo&#39;, 0.500000000000000: [4, 1, 5, 2, 3], 3/2: 17, 3: 17}</span>
</pre></div>
</div>
<p>A second method is to use the constructor <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code> which admits a
list (or actually any iterable) of 2-tuples <em>(key, value)</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dd</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">dd</span>
<span class="go">{0: 0, 1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81}</span>
</pre></div>
</div>
<p>Dictionaries behave as lists and tuples for several important operations.</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="32%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Syntax for lists</th>
<th class="head">Syntax for dictionaries</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Accessing elements</td>
<td><code class="docutils literal notranslate"><span class="pre">list[3]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">D[&quot;key&quot;]</span></code></td>
</tr>
<tr class="row-odd"><td>Length</td>
<td><code class="docutils literal notranslate"><span class="pre">len(list)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">len(D)</span></code></td>
</tr>
<tr class="row-even"><td>Modifying</td>
<td><code class="docutils literal notranslate"><span class="pre">L[3]</span> <span class="pre">=</span> <span class="pre">17</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">D[&quot;key&quot;]</span> <span class="pre">=</span> <span class="pre">17</span></code></td>
</tr>
<tr class="row-odd"><td>Deleting items</td>
<td><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">L[3]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">D[&quot;key&quot;]</span></code></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;a&#39;</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">{0: &#39;goo&#39;, 0.500000000000000: [4, 1, 5, 2, 3], 3/2: 17, 3: 17, 10: &#39;a&#39;}</span>
</pre></div>
</div>
<p>A dictionary can have the same value multiple times, but each key must only
appear once and must be immutable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">14</span><span class="p">}</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">{3: 14, 4: 14}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">14</span><span class="p">}</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">{3: 14}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">:</span> <span class="mi">12</span><span class="p">}</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">unhashable type: &#39;list&#39;</span>
</pre></div>
</div>
<p>Another way to add items to a dictionary is with the <code class="docutils literal notranslate"><span class="pre">update()</span></code> method which
updates the dictionary from another dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">{}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="mi">10</span> <span class="p">:</span> <span class="s1">&#39;newvalue&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span> <span class="s1">&#39;newervalue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">{0.500000000000000: [1, 2, 3], 3: 14, 10: &#39;newvalue&#39;, 20: &#39;newervalue&#39;}</span>
</pre></div>
</div>
<p>We can iterate through the <em>keys</em>, or <em>values</em>, or both, of a
dictionary. Note that, internally, there is no sorting of keys
done. In general, the order of keys/values will depend on memory
locations can and will differ between different computers and / or
repeated runs on the same computer. However, Sage sort the dictionary
entries by key when printing the dictionary specifically to make the
docstrings more reproducible. However, the Python methods <code class="docutils literal notranslate"><span class="pre">keys()</span></code>
and <code class="docutils literal notranslate"><span class="pre">values()</span></code> do not sort for you. If you want your output to be
reproducable, then you have to sort it first just like in the examples
below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span> <span class="p">:</span> <span class="s1">&#39;newvalue&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span> <span class="s1">&#39;newervalue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sorted</span><span class="p">([</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="p">])</span>
<span class="go">[0.500000000000000, 3, 10, 20]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>   <span class="c1"># random order</span>
<span class="go">[0.500000000000000, 10, 3, 20]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[0.500000000000000, 3, 10, 20]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>   <span class="c1"># random order</span>
<span class="go">[(1, 2, 3), &#39;newvalue&#39;, 14, &#39;newervalue&#39;]</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="mi">14</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;newvalue&#39;</span><span class="p">,</span> <span class="s1">&#39;newervalue&#39;</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>    <span class="c1"># random order</span>
<span class="go">[(0.500000000000000, (1, 2, 3)), (10, &#39;newvalue&#39;), (3, 14), (20, &#39;newervalue&#39;)]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">([(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
<span class="go">[(0.500000000000000, (1, 2, 3)), (3, 14), (10, &#39;newvalue&#39;), (20, &#39;newervalue&#39;)]</span>
</pre></div>
</div>
<p><strong>Exercise:</strong> Consider the following directed graph.</p>
<img alt="_images/graph0.png" src="_images/graph0.png" />
<p>Create a dictionary whose keys are the vertices of the above directed graph,
and whose values are the lists of the vertices that it points to. For
instance, the vertex 1 points to the vertices 2 and 3, so the dictionary will
look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="o">...</span> <span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
<p>Then try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">DiGraph</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="using-sage-types-the-srange-command">
<h3>Using Sage types: The srange command<a class="headerlink" href="#using-sage-types-the-srange-command" title="Permalink to this headline">¶</a></h3>
<p><strong>Example:</strong> Construct a <span class="math notranslate nohighlight">\(3 \times 3\)</span> matrix whose <span class="math notranslate nohighlight">\((i,j)\)</span> entry is
the rational number <span class="math notranslate nohighlight">\(\frac{i}{j}\)</span>. The integers generated by
<a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> are Python <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>’s. As a consequence, dividing
them does euclidean division (in Python2):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="p">([[</span><span class="n">i</span><span class="o">/</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span> <span class="c1"># not tested</span>
<span class="go">[1 0 0]</span>
<span class="go">[2 1 0]</span>
<span class="go">[3 1 1]</span>
</pre></div>
</div>
<p>In Python3, the division of Python integers returns a float instead.</p>
<p>Whereas dividing a Sage <a class="reference external" href="../reference/rings_standard/sage/rings/integer.html#sage.rings.integer.Integer" title="(in Sage Reference Manual: Standard Commutative Rings v8.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> by a Sage <a class="reference external" href="../reference/rings_standard/sage/rings/integer.html#sage.rings.integer.Integer" title="(in Sage Reference Manual: Standard Commutative Rings v8.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a>
produces a rational number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="p">([[</span> <span class="n">i</span><span class="o">/</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
<span class="go">[  1 1/2 1/3]</span>
<span class="go">[  2   1 2/3]</span>
<span class="go">[  3 3/2   1]</span>
</pre></div>
</div>
</div>
<div class="section" id="modifying-lists-has-consequences">
<h3>Modifying lists has consequences!<a class="headerlink" href="#modifying-lists-has-consequences" title="Permalink to this headline">¶</a></h3>
<p>Try to predict the results of the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3], [1, 2, 3], [1, 2, 3]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4]]</span>
</pre></div>
</div>
<p>Now try these:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3], [1, 2, 3], [1, 2, 3]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3], [1, 2, 3], [1, 2, 3]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4]]</span>
</pre></div>
</div>
<p>This is known as the <em>reference effect</em>. You can use the command
<a class="reference external" href="https://docs.python.org/library/copy.html#copy.deepcopy" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">deepcopy()</span></code></a> to avoid this effect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">a</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3], [1, 2, 3]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[[1, 2, 3], [1, 2, 3]]</span>
</pre></div>
</div>
<p>The same effect occurs with dictionaries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">sage: </span><span class="n">dd</span> <span class="o">=</span> <span class="n">d</span>
<span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span> <span class="p">{</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;d&#39;</span> <span class="p">}</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">dd</span>
<span class="go">{1: &#39;a&#39;, 2: &#39;b&#39;, 3: &#39;c&#39;, 4: &#39;d&#39;}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="loops-and-functions">
<h2>Loops and Functions<a class="headerlink" href="#loops-and-functions" title="Permalink to this headline">¶</a></h2>
<p>For more verbose explanation of what’s going on here, a good place to look at
is the following section of the Python tutorial:
<a class="reference external" href="http://docs.python.org/tutorial/controlflow.html">http://docs.python.org/tutorial/controlflow.html</a></p>
<div class="section" id="while-loops">
<h3><em>While</em> Loops<a class="headerlink" href="#while-loops" title="Permalink to this headline">¶</a></h3>
<p><em>While</em> loops tend not to be used nearly as much as <em>for</em> loops in Python code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="go">....:     print(i)</span>
<span class="go">....:     i += 1</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="go">5</span>
<span class="go">6</span>
<span class="go">7</span>
<span class="go">8</span>
<span class="go">9</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="go">....:     if i % 2 == 1:</span>
<span class="go">....:         i += 1</span>
<span class="go">....:         continue</span>
<span class="go">....:     print(i)</span>
<span class="go">....:     i += 1</span>
<span class="go">0</span>
<span class="go">2</span>
<span class="go">4</span>
<span class="go">6</span>
<span class="go">8</span>
</pre></div>
</div>
<p>Note that the truth value of the clause expression in the <em>while</em> loop
is evaluated using <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="n">i</span><span class="p">:</span>
<span class="go">....:     print(i)</span>
<span class="go">....:     i -= 1</span>
<span class="go">4</span>
<span class="go">3</span>
<span class="go">2</span>
<span class="go">1</span>
</pre></div>
</div>
</div>
<div class="section" id="for-loops">
<h3><em>For</em> Loops<a class="headerlink" href="#for-loops" title="Permalink to this headline">¶</a></h3>
<p>Here is a basic <em>for</em> loop iterating over all of the elements in the list <code class="docutils literal notranslate"><span class="pre">l</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
<span class="go">....:     print(letter)</span>
<span class="go">a</span>
<span class="go">b</span>
<span class="go">c</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://docs.python.org/library/functions.html#range" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code></a> function is very useful when you want to generate
arithmetic progressions to loop over. Note that the end point is never
included:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: range?
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># py2</span>
<span class="go">[0, 1, 2, 3]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># py2</span>
<span class="go">[1, 2, 3, 4]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># py2</span>
<span class="go">[1, 3, 5, 7, 9]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># py2</span>
<span class="go">[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(i, i*i))</span>
<span class="go">0 0</span>
<span class="go">1 1</span>
<span class="go">2 4</span>
<span class="go">3 9</span>
</pre></div>
</div>
<p>You can use the <em>continue</em> keyword to immediately go to the next item
in the loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="go">....:     if i % 2 == 0:</span>
<span class="go">....:         continue</span>
<span class="go">....:     print(i)</span>
<span class="go">1</span>
<span class="go">3</span>
<span class="go">5</span>
<span class="go">7</span>
<span class="go">9</span>
</pre></div>
</div>
<p>If you want to break out of the loop, use the <em>break</em> keyword:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="go">....:     if i % 2 == 0:</span>
<span class="go">....:         continue</span>
<span class="go">....:     if i == 7:</span>
<span class="go">....:         break</span>
<span class="go">....:     print(i)</span>
<span class="go">1</span>
<span class="go">3</span>
<span class="go">5</span>
</pre></div>
</div>
<p>If you need to keep track of both the position in the list and its
value, one (not so elegant) way would be to do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(i, l[i]))</span>
<span class="go">0 a</span>
<span class="go">1 b</span>
<span class="go">2 c</span>
</pre></div>
</div>
<p>It’s cleaner to use <a class="reference external" href="https://docs.python.org/library/functions.html#enumerate" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a> which provides the index as well
as the value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(i, letter))</span>
<span class="go">0 a</span>
<span class="go">1 b</span>
<span class="go">2 c</span>
</pre></div>
</div>
<p>You could get a similar result to the result of the <a class="reference external" href="https://docs.python.org/library/functions.html#enumerate" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a>
function by using <a class="reference external" href="https://docs.python.org/library/functions.html#zip" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">zip()</span></code></a> to zip two lists together:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)),</span> <span class="n">l</span><span class="p">):</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(i, letter))</span>
<span class="go">0 a</span>
<span class="go">1 b</span>
<span class="go">2 c</span>
</pre></div>
</div>
<p><em>For</em> loops work using Python’s iterator protocol. This allows all
sorts of different objects to be looped over. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(i, i*i))</span>
<span class="go">0 0</span>
<span class="go">1 1</span>
<span class="go">2 4</span>
<span class="go">3 4</span>
<span class="go">4 1</span>
</pre></div>
</div>
<p>How does this work?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span> <span class="n">it</span>
<span class="go">&lt;generator object ...__iter__ at 0x...&gt;</span>

<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">1</span>

<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">2</span>

<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">3</span>

<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="go">4</span>

<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">StopIteration</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: R = GF(5)
sage: R.__iter__??
</pre></div>
</div>
<p>The command <em>yield</em> provides a very convenient way to produce
iterators.  We’ll see more about it in a bit.</p>
<div class="section" id="id1">
<h4>Exercises<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>For each of the following sets, compute the list of its elements and
their sum. Use two different ways, if possible: with a loop, and using
a list comprehension.</p>
<ol class="arabic">
<li><p class="first">The first <span class="math notranslate nohighlight">\(n\)</span> terms of the harmonic series:</p>
<div class="math notranslate nohighlight">
\[\sum_{i=1}^n \frac{1}{i}\]</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">The odd integers between <span class="math notranslate nohighlight">\(1\)</span> and <span class="math notranslate nohighlight">\(n\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">The first <span class="math notranslate nohighlight">\(n\)</span> odd integers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">The integers between <span class="math notranslate nohighlight">\(1\)</span> and <span class="math notranslate nohighlight">\(n\)</span> that are neither divisible by <span class="math notranslate nohighlight">\(2\)</span>
nor by <span class="math notranslate nohighlight">\(3\)</span> nor by <span class="math notranslate nohighlight">\(5\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
<li><p class="first">The first <span class="math notranslate nohighlight">\(n\)</span> integers between <span class="math notranslate nohighlight">\(1\)</span> and <span class="math notranslate nohighlight">\(n\)</span> that are neither
divisible by <span class="math notranslate nohighlight">\(2\)</span> nor by <span class="math notranslate nohighlight">\(3\)</span> nor by <span class="math notranslate nohighlight">\(5\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># edit here</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Functions are defined using the <em>def</em> statement, and values are
returned using the <em>return</em> keyword:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="go">....:     return x*x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Functions can be recursive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="go">....:     if n &lt;= 1:</span>
<span class="go">....:         return 1</span>
<span class="go">....:     else:</span>
<span class="go">....:         return fib(n-1) + fib(n-2)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">fib</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="go">[1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span>
</pre></div>
</div>
<p>Functions are first class objects like any other. For example, they
can be passed in as arguments to other functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span>
<span class="go">&lt;function f at 0x...&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">compose</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>   <span class="c1"># computes f(f(...f(x)))</span>
<span class="go">....:     for i in range(n):</span>
<span class="go">....:         x = f(x)        # this change is local to this function call!</span>
<span class="go">....:     return x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">compose</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">256</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">add_one</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="go">....:     return x + 1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">compose</span><span class="p">(</span><span class="n">add_one</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>You can give default values for arguments in functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">add_n</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="go">....:     return x + n</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">add_n</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">add_n</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">104</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">add_n</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="go">1004</span>
</pre></div>
</div>
<p>You can return multiple values from a function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="go">....:     return x, x*x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(2, 4)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">&lt;... &#39;function&#39;&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">g</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span>
<span class="go">100</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span>
<span class="go">10000</span>
</pre></div>
</div>
<p>You can also take a variable number of arguments and keyword arguments
in a function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(type(args), args))</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(type(kwds), kwds))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&lt;... &#39;tuple&#39;&gt; (1, 2, 3)</span>
<span class="go">&lt;... &#39;dict&#39;&gt; {&#39;n&#39;: 4}</span>
</pre></div>
</div>
<p>Let’s use the <em>yield</em> instruction to make a generator for the
Fibonacci numbers up to <span class="math notranslate nohighlight">\(n\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">fib_gen</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="go">....:     if n &lt; 1:</span>
<span class="go">....:         return</span>
<span class="go">....:     a = b = 1</span>
<span class="go">....:     yield b</span>
<span class="go">....:     while b &lt; n:</span>
<span class="go">....:         yield b</span>
<span class="go">....:         a, b = b, b+a</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fib_gen</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
<span class="go">....:     print(i)</span>
<span class="go">1</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">5</span>
<span class="go">8</span>
<span class="go">13</span>
<span class="go">21</span>
<span class="go">34</span>
</pre></div>
</div>
<div class="section" id="id3">
<h4>Exercises<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Write a function <code class="docutils literal notranslate"><span class="pre">is_even</span></code> which returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">n</span></code> is
even and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</li>
<li>Write a function <code class="docutils literal notranslate"><span class="pre">every_other</span></code> which takes a list <code class="docutils literal notranslate"><span class="pre">l</span></code> as input
and returns a list containing every other element of <code class="docutils literal notranslate"><span class="pre">l</span></code>.</li>
<li>Write a generator <code class="docutils literal notranslate"><span class="pre">every_other</span></code> which takes an iterable <code class="docutils literal notranslate"><span class="pre">l</span></code> as
input, and returns every other element of <code class="docutils literal notranslate"><span class="pre">l</span></code>, one after the
other.</li>
<li>Write a function which computes the <span class="math notranslate nohighlight">\(n\)</span>-th Fibonacci number. Try
to improve performance.</li>
</ol>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<ul class="last simple">
<li>Definition of <code class="docutils literal notranslate"><span class="pre">hashable</span></code></li>
<li>Introduction to the debugger.</li>
</ul>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial: Programming in Python and Sage</a><ul>
<li><a class="reference internal" href="#data-structures">Data structures</a></li>
<li><a class="reference internal" href="#control-structures">Control structures</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a><ul>
<li><a class="reference internal" href="#lists">Lists</a><ul>
<li><a class="reference internal" href="#creating-lists-i-square-brackets">Creating Lists I: [Square brackets]</a></li>
<li><a class="reference internal" href="#creating-lists-ii-range">Creating Lists II: range</a></li>
<li><a class="reference internal" href="#creating-lists-iii-list-comprehensions">Creating Lists III: list comprehensions</a><ul>
<li><a class="reference internal" href="#filtering-lists-with-a-list-comprehension">Filtering lists with a list comprehension</a></li>
<li><a class="reference internal" href="#nested-list-comprehensions">Nested list comprehensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accessing-individual-elements-of-lists">Accessing individual elements of lists</a></li>
<li><a class="reference internal" href="#modifying-lists-changing-an-element-in-a-list">Modifying lists: changing an element in a list</a></li>
<li><a class="reference internal" href="#modifying-lists-append-and-extend">Modifying lists: append and extend</a></li>
<li><a class="reference internal" href="#modifying-lists-reverse-sort">Modifying lists: reverse, sort, …</a></li>
<li><a class="reference internal" href="#concatenating-lists">Concatenating Lists</a></li>
<li><a class="reference internal" href="#slicing-lists">Slicing Lists</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tuples">Tuples</a></li>
<li><a class="reference internal" href="#generators">Generators</a></li>
<li><a class="reference internal" href="#dictionaries">Dictionaries</a></li>
<li><a class="reference internal" href="#using-sage-types-the-srange-command">Using Sage types: The srange command</a></li>
<li><a class="reference internal" href="#modifying-lists-has-consequences">Modifying lists has consequences!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loops-and-functions">Loops and Functions</a><ul>
<li><a class="reference internal" href="#while-loops"><em>While</em> Loops</a></li>
<li><a class="reference internal" href="#for-loops"><em>For</em> Loops</a><ul>
<li><a class="reference internal" href="#id1">Exercises</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">Functions</a><ul>
<li><a class="reference internal" href="#id3">Exercises</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="geometry/polytope_tikz.html"
                        title="previous chapter">Draw polytopes in LaTeX using TikZ</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial-comprehensions.html"
                        title="next chapter">Tutorial: Comprehensions, Iterators, and Iterables</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial-programming-python.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tutorial-comprehensions.html" title="Tutorial: Comprehensions, Iterators, and Iterables"
             >next</a> |</li>
        <li class="right" >
          <a href="geometry/polytope_tikz.html" title="Draw polytopes in LaTeX using TikZ"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Thematic Tutorials v8.7</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="toctree.html" >Thematic tutorial document tree</a> &#187;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>