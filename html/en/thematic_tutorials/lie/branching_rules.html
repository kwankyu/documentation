
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=600, initial-scale=1">
    <title>Maximal Subgroups and Branching Rules &#8212; Thematic Tutorials v9.2</title>
    <link rel="stylesheet" href="../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Weyl Groups, Coxeter Groups and the Bruhat Order" href="weyl_groups.html" />
    <link rel="prev" title="The Weyl Character Ring" href="weyl_character_ring.html" />
    <link rel="icon" href="../_static/sageicon.png" type="image/x-icon" />
    <script src="../_static/thebe.js" type="text/javascript"></script>
    <script src="../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="weyl_groups.html" title="Weyl Groups, Coxeter Groups and the Bruhat Order"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="weyl_character_ring.html" title="The Weyl Character Ring"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../index.html"><img src="../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../index.html">Thematic Tutorials v9.2</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../toctree.html" >Thematic tutorial document tree</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../lie.html" accesskey="U">Lie Methods and Related Combinatorics in Sage</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Maximal Subgroups and Branching Rules</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="maximal-subgroups-and-branching-rules">
<span id="branch-rules"></span><h1>Maximal Subgroups and Branching Rules<a class="headerlink" href="#maximal-subgroups-and-branching-rules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="branching-rules">
<h2>Branching rules<a class="headerlink" href="#branching-rules" title="Permalink to this headline">¶</a></h2>
<p>If <span class="math notranslate nohighlight">\(G\)</span> is a Lie group and <span class="math notranslate nohighlight">\(H\)</span> is a subgroup, one often needs to know
how representations of <span class="math notranslate nohighlight">\(G\)</span> restrict to <span class="math notranslate nohighlight">\(H\)</span>. Irreducibles usually do
not restrict to irreducibles. In some cases the restriction is regular
and predictable, in other cases it is chaotic. In some cases it
follows a rule that can be described combinatorially, but the
combinatorial description is subtle. The description of how
irreducibles decompose into irreducibles is called a <em>branching rule</em>.</p>
<p>References for this topic:</p>
<ul class="simple">
<li><p><a class="reference internal" href="bibliography.html#fauseretal2006" id="id1"><span>[FauserEtAl2006]</span></a></p></li>
<li><p><a class="reference internal" href="bibliography.html#king1975" id="id2"><span>[King1975]</span></a></p></li>
<li><p><a class="reference internal" href="bibliography.html#howeetal2005" id="id3"><span>[HoweEtAl2005]</span></a></p></li>
<li><p><a class="reference internal" href="bibliography.html#mckaypatera1981" id="id4"><span>[McKayPatera1981]</span></a></p></li>
</ul>
<p>Sage can compute how a character of <span class="math notranslate nohighlight">\(G\)</span> restricts to <span class="math notranslate nohighlight">\(H\)</span>. It does
so not by memorizing a combinatorial rule, but by computing the
character and restricting the character to a maximal torus of <span class="math notranslate nohighlight">\(H\)</span>.
What Sage has memorized (in a series of built-in encoded rules)
are the various embeddings of maximal tori of maximal subgroups of <span class="math notranslate nohighlight">\(G\)</span>.
The maximal subgroups of Lie groups were determined in <a class="reference internal" href="bibliography.html#dynkin1952" id="id5"><span>[Dynkin1952]</span></a>.
This approach to computing branching rules has a limitation: the
character must fit into memory and be computable by Sage’s
internal code in real time.</p>
<p>It is sufficient to consider the case where <span class="math notranslate nohighlight">\(H\)</span> is a maximal
subgroup of <span class="math notranslate nohighlight">\(G\)</span>, since if this is known then one may branch down
successively through a series of subgroups, each maximal in its
predecessors. A problem is therefore to understand the maximal
subgroups in a Lie group, and to give branching rules for each,
and a goal of this tutorial is to explain the embeddings of
maximal subgroups.</p>
<p>Sage has a class <code class="docutils literal notranslate"><span class="pre">BranchingRule</span></code> for branching rules. The function
<code class="docutils literal notranslate"><span class="pre">branching_rule</span></code> returns elements of this class. For example,
the natural embedding of <span class="math notranslate nohighlight">\(Sp(4)\)</span> into <span class="math notranslate nohighlight">\(SL(4)\)</span> corresponds to
the branching rule that we may create as follows:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;symmetric&quot;</span><span class="p">);</span> <span class="n">b</span>
<span class="go">symmetric branching rule A3 =&gt; C2</span>
</pre></div>
</div>
<p>The name “symmetric” of this branching rule will be
explained further later, but it means that <span class="math notranslate nohighlight">\(Sp(4)\)</span> is
the fixed subgroup of an involution of <span class="math notranslate nohighlight">\(Sl(4)\)</span>.
Here <code class="docutils literal notranslate"><span class="pre">A3</span></code> and <code class="docutils literal notranslate"><span class="pre">C2</span></code> are the Cartan types of the groups
<span class="math notranslate nohighlight">\(G=SL(4)\)</span> and <span class="math notranslate nohighlight">\(H=Sp(4)\)</span>.</p>
<p>Now we may see how representations of <span class="math notranslate nohighlight">\(SL(4)\)</span> decompose
into irreducibles when they are restricted to <span class="math notranslate nohighlight">\(Sp(4)\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A3</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">chi</span><span class="o">=</span><span class="n">A3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span> <span class="n">chi</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">15</span>
<span class="gp">sage: </span><span class="n">C2</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">chi</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">C2(0,1) + C2(2,0)</span>
</pre></div>
</div>
<p>Alternatively, we may pass <code class="docutils literal notranslate"><span class="pre">chi</span></code> to <code class="docutils literal notranslate"><span class="pre">b</span></code> as an
argument of its branch method, which gives the same
result:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">chi</span><span class="p">)</span>
<span class="go">C2(0,1) + C2(2,0)</span>
</pre></div>
</div>
<p>It is believed that the built-in branching rules of
Sage are sufficient to handle all maximal subgroups
and this is certainly the case when the rank if
less than or equal to 8.</p>
<p>However, if you want to branch to a subgroup that
is not maximal you may not find a built-in
branching rule. We may compose branching rules to build
up embeddings. For example, here are two different
embeddings of <span class="math notranslate nohighlight">\(Sp(4)\)</span> with Cartan type <code class="docutils literal notranslate"><span class="pre">C2</span></code> in
<span class="math notranslate nohighlight">\(Sp(8)\)</span>, with Cartan type <code class="docutils literal notranslate"><span class="pre">C4</span></code>. One embedding
factors through <span class="math notranslate nohighlight">\(Sp(4)\times Sp(4)\)</span>, while the
other factors through <span class="math notranslate nohighlight">\(SL(4)\)</span>. To check that the embeddings
are not conjugate, we branch a (randomly chosen) representation.
Observe that we do not have to build the intermediate
<a class="reference external" href="../../reference/combinat/sage/combinat/root_system/weyl_characters.html#sage.combinat.root_system.weyl_characters.WeylCharacterRing" title="(in Sage 9.2 Reference Manual: Combinatorics v9.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Weyl</span> <span class="pre">character</span> <span class="pre">rings</span></code></a>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C4</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C4&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b1</span><span class="o">=</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;C4&quot;</span><span class="p">,</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span><span class="s2">&quot;levi&quot;</span><span class="p">)</span><span class="o">*</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="s2">&quot;symmetric&quot;</span><span class="p">);</span> <span class="n">b1</span>
<span class="go">composite branching rule C4 =&gt; (levi) A3 =&gt; (symmetric) C2</span>
<span class="gp">sage: </span><span class="n">b2</span><span class="o">=</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;C4&quot;</span><span class="p">,</span><span class="s2">&quot;C2xC2&quot;</span><span class="p">,</span><span class="s2">&quot;orthogonal_sum&quot;</span><span class="p">)</span><span class="o">*</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;C2xC2&quot;</span><span class="p">,</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="s2">&quot;proj1&quot;</span><span class="p">);</span> <span class="n">b2</span>
<span class="go">composite branching rule C4 =&gt; (orthogonal_sum) C2xC2 =&gt; (proj1) C2</span>
<span class="gp">sage: </span><span class="n">C2</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C4</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C4&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">C4</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">br</span><span class="p">)</span> <span class="k">for</span> <span class="n">br</span> <span class="ow">in</span> <span class="p">[</span><span class="n">b1</span><span class="p">,</span><span class="n">b2</span><span class="p">]]</span>
<span class="go">[4*C2(0,0) + 7*C2(0,1) + 15*C2(2,0) + 7*C2(0,2) + 11*C2(2,1) + C2(0,3) + 6*C2(4,0) + 3*C2(2,2),</span>
<span class="go"> 10*C2(0,0) + 40*C2(1,0) + 50*C2(0,1) + 16*C2(2,0) + 20*C2(1,1) + 4*C2(3,0) + 5*C2(2,1)]</span>
</pre></div>
</div>
</div>
<div class="section" id="what-s-in-a-branching-rule">
<h2>What’s in a branching rule?<a class="headerlink" href="#what-s-in-a-branching-rule" title="Permalink to this headline">¶</a></h2>
<p>The essence of the branching rule is a function from the
weight lattice of <span class="math notranslate nohighlight">\(G\)</span> to the weight lattice of the subgroup <span class="math notranslate nohighlight">\(H\)</span>,
usually implemented as a function on the ambient vector
spaces. Indeed, we may conjugate the embedding so that a
Cartan subalgebra <span class="math notranslate nohighlight">\(U\)</span> of <span class="math notranslate nohighlight">\(H\)</span> is contained in a Cartan subalgebra
<span class="math notranslate nohighlight">\(T\)</span> of <span class="math notranslate nohighlight">\(G\)</span>. Since the ambient vector space of the weight
lattice of <span class="math notranslate nohighlight">\(G\)</span> is <span class="math notranslate nohighlight">\(\hbox{Lie}(T)^*\)</span>, we get map
<span class="math notranslate nohighlight">\(\hbox{Lie}(T)^*\to\hbox{Lie}(U)^*\)</span>, and this must be
implemented as a function. For speed, the function usually
just returns a list, which can be coerced into <span class="math notranslate nohighlight">\(\hbox{Lie}(U)^*\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="s2">&quot;symmetric&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">RootSystem</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ambient_space</span><span class="p">()</span><span class="o">.</span><span class="n">simple_roots</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">b</span><span class="p">(</span><span class="n">r</span><span class="p">)))</span>
<span class="go">(1, -1, 0, 0) [1, -1]</span>
<span class="go">(0, 1, -1, 0) [0, 2]</span>
<span class="go">(0, 0, 1, -1) [1, -1]</span>
</pre></div>
</div>
<p>We could conjugate this map by an element of the Weyl
group of <span class="math notranslate nohighlight">\(G\)</span>, and the resulting map would give the same
decomposition of representations of <span class="math notranslate nohighlight">\(G\)</span> into irreducibles
of <span class="math notranslate nohighlight">\(H\)</span>. However it is a good idea to choose the map so
that it takes dominant weights to dominant weights, and,
insofar as possible, simple roots of <span class="math notranslate nohighlight">\(G\)</span> into
simple roots of <span class="math notranslate nohighlight">\(H\)</span>. This includes sometimes the affine root <span class="math notranslate nohighlight">\(\alpha_0\)</span>
of <span class="math notranslate nohighlight">\(G\)</span>, which we recall is the negative of the highest root.</p>
<p>The branching rule has a <code class="docutils literal notranslate"><span class="pre">describe()</span></code> method that shows how
the roots (including the affine root) restrict. This is a
useful way of understanding the embedding. You might
want to try it with various branching rules of different
kinds, <code class="docutils literal notranslate"><span class="pre">&quot;extended&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;symmetric&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;levi&quot;</span></code> etc.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="go">0</span>
<span class="go">O-------+</span>
<span class="go">|       |</span>
<span class="go">|       |</span>
<span class="go">O---O---O</span>
<span class="go">1   2   3</span>
<span class="go">A3~</span>

<span class="go">root restrictions A3 =&gt; C2:</span>

<span class="go">O=&lt;=O</span>
<span class="go">1   2</span>
<span class="go">C2</span>

<span class="go">1 =&gt; 1</span>
<span class="go">2 =&gt; 2</span>
<span class="go">3 =&gt; 1</span>

<span class="go">For more detailed information use verbose=True</span>
</pre></div>
</div>
<p>The extended Dynkin diagram of <span class="math notranslate nohighlight">\(G\)</span> and the ordinary
Dynkin diagram of <span class="math notranslate nohighlight">\(H\)</span> are shown for reference, and
<code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">=&gt;</span> <span class="pre">1</span></code> means that the third simple root <span class="math notranslate nohighlight">\(\alpha_3\)</span>
of <span class="math notranslate nohighlight">\(G\)</span> restricts to the first simple root of <span class="math notranslate nohighlight">\(H\)</span>.
In this example, the affine root does not restrict to
a simple roots, so it is omitted from the list of
restrictions. If you add the parameter <code class="docutils literal notranslate"><span class="pre">verbose=true</span></code> you will
be shown the restriction of all simple roots and the
affine root, and also the restrictions of the fundamental weights
(in coroot notation).</p>
</div>
<div class="section" id="maximal-subgroups">
<h2>Maximal subgroups<a class="headerlink" href="#maximal-subgroups" title="Permalink to this headline">¶</a></h2>
<p>Sage has a database of maximal subgroups for every simple Cartan
type of rank <span class="math notranslate nohighlight">\(\le 8\)</span>. You may access this with the
<code class="docutils literal notranslate"><span class="pre">maximal_subgroups</span></code> method of the Weyl character ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E7</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;E7&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E7</span><span class="o">.</span><span class="n">maximal_subgroups</span><span class="p">()</span>
<span class="go">A7:branching_rule(&quot;E7&quot;,&quot;A7&quot;,&quot;extended&quot;)</span>
<span class="go">E6:branching_rule(&quot;E7&quot;,&quot;E6&quot;,&quot;levi&quot;)</span>
<span class="go">A2:branching_rule(&quot;E7&quot;,&quot;A2&quot;,&quot;miscellaneous&quot;)</span>
<span class="go">A1:branching_rule(&quot;E7&quot;,&quot;A1&quot;,&quot;iii&quot;)</span>
<span class="go">A1:branching_rule(&quot;E7&quot;,&quot;A1&quot;,&quot;iv&quot;)</span>
<span class="go">A1xF4:branching_rule(&quot;E7&quot;,&quot;A1xF4&quot;,&quot;miscellaneous&quot;)</span>
<span class="go">G2xC3:branching_rule(&quot;E7&quot;,&quot;G2xC3&quot;,&quot;miscellaneous&quot;)</span>
<span class="go">A1xG2:branching_rule(&quot;E7&quot;,&quot;A1xG2&quot;,&quot;miscellaneous&quot;)</span>
<span class="go">A1xA1:branching_rule(&quot;E7&quot;,&quot;A1xA1&quot;,&quot;miscellaneous&quot;)</span>
<span class="go">A1xD6:branching_rule(&quot;E7&quot;,&quot;A1xD6&quot;,&quot;extended&quot;)</span>
<span class="go">A5xA2:branching_rule(&quot;E7&quot;,&quot;A5xA2&quot;,&quot;extended&quot;)</span>
</pre></div>
</div>
<p>It should be understood that there are other ways of
embedding <span class="math notranslate nohighlight">\(A_2=\hbox{SL}(3)\)</span> into the Lie group <span class="math notranslate nohighlight">\(E_7\)</span>,
but only one way as a maximal subgroup. On the other
hand, there are but only one way to embed it as a
maximal subgroup. The embedding will be explained below.
You may obtain the branching rule as follows, and use it to determine
the decomposition of irreducible representations of <span class="math notranslate nohighlight">\(E_7\)</span>
as follows:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">E7</span><span class="o">.</span><span class="n">maximal_subgroup</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">);</span> <span class="n">b</span>
<span class="go">miscellaneous branching rule E7 =&gt; A2</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">E7</span><span class="p">,</span><span class="n">A2</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;E7&quot;</span><span class="p">,</span><span class="s2">&quot;A2&quot;</span><span class="p">]]</span>
<span class="gp">sage: </span><span class="n">E7</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A2</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">A2(1,1) + A2(4,4)</span>
</pre></div>
</div>
<p>This gives the same branching rule as just pasting line beginning
to the right of the colon onto the command line:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">sage:branching_rule(&quot;E7&quot;,&quot;A2&quot;,&quot;miscellaneous&quot;)</span>
<span class="go">miscellaneous branching rule E7 =&gt; A2</span>
</pre></div>
</div>
<p>There are two distict embeddings of <span class="math notranslate nohighlight">\(A_1=\hbox{SL}(2)\)</span> into
<span class="math notranslate nohighlight">\(E_7\)</span> as maximal subgroups, so the <code class="docutils literal notranslate"><span class="pre">maximal_subgroup</span></code>
method will return a list of rules:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;E7&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">maximal_subgroup</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">)</span>
<span class="go">[iii branching rule E7 =&gt; A1, iv branching rule E7 =&gt; A1]</span>
</pre></div>
</div>
<p>The list of maximal subgroups returned by the <code class="docutils literal notranslate"><span class="pre">maximal_subgroups</span></code>
method for irreducible Cartan types of rank up to 8 is believed to
be complete up to outer automorphisms. You may want a list that is
complete up to inner automorphisms.  For example, <span class="math notranslate nohighlight">\(E_6\)</span> has a
nontrivial Dynkin diagram automorphism so it has an outer
automorphism that is not inner:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">E6</span><span class="p">,</span><span class="n">A2xG2</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;E6&quot;</span><span class="p">,</span><span class="s2">&quot;A2xG2&quot;</span><span class="p">]]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">E6</span><span class="o">.</span><span class="n">maximal_subgroup</span><span class="p">(</span><span class="s2">&quot;A2xG2&quot;</span><span class="p">);</span> <span class="n">b</span>
<span class="go">miscellaneous branching rule E6 =&gt; A2xG2</span>
<span class="gp">sage: </span><span class="n">E6</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A2xG2</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">A2xG2(0,1,1,0) + A2xG2(2,0,0,0)</span>
<span class="gp">sage: </span><span class="n">E6</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A2xG2</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">A2xG2(1,0,1,0) + A2xG2(0,2,0,0)</span>
</pre></div>
</div>
<p>Since as we see the two 27 dimensional irreducibles (which are
interchanged by the outer automorphism) have different branching,
the <span class="math notranslate nohighlight">\(A_2\times G_2\)</span> subgroup is changed to a different one
by the outer automorphism. To obtain the second branching
rule, we compose the given one with this automorphism:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b1</span><span class="o">=</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E6&quot;</span><span class="p">,</span><span class="s2">&quot;E6&quot;</span><span class="p">,</span><span class="s2">&quot;automorphic&quot;</span><span class="p">)</span><span class="o">*</span><span class="n">b</span><span class="p">;</span> <span class="n">b1</span>
<span class="go">composite branching rule E6 =&gt; (automorphic) E6 =&gt; (miscellaneous) A2xG2</span>
</pre></div>
</div>
</div>
<div class="section" id="levi-subgroups">
<span id="levi-branch-rules"></span><h2>Levi subgroups<a class="headerlink" href="#levi-subgroups" title="Permalink to this headline">¶</a></h2>
<p>A Levi subgroup may or may not be maximal. They are easily
classified. If one starts with a Dynkin diagram for <span class="math notranslate nohighlight">\(G\)</span> and removes a
single node, one obtains a smaller Dynkin diagram, which is the Dynkin
diagram of a smaller subgroup <span class="math notranslate nohighlight">\(H\)</span>.</p>
<p>For example, here is the A3 Dynkin diagram:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A3</span><span class="o">.</span><span class="n">dynkin_diagram</span><span class="p">()</span>
<span class="go">O---O---O</span>
<span class="go">1   2   3</span>
<span class="go">A3</span>
</pre></div>
</div>
<p>We see that we may remove the node 3 and obtain <span class="math notranslate nohighlight">\(A_2\)</span>, or the node 2
and obtain <span class="math notranslate nohighlight">\(A_1 \times A_1\)</span>. These correspond to the Levi subgroups
<span class="math notranslate nohighlight">\(GL(3)\)</span> and <span class="math notranslate nohighlight">\(GL(2) \times GL(2)\)</span> of <span class="math notranslate nohighlight">\(GL(4)\)</span>.</p>
<p>Let us construct the irreducible
representations of <span class="math notranslate nohighlight">\(GL(4)\)</span> and branch them down to these down to
<span class="math notranslate nohighlight">\(GL(3)\)</span> and <span class="math notranslate nohighlight">\(GL(2) \times GL(2)\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">reps</span> <span class="o">=</span> <span class="p">[</span><span class="n">A3</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">A3</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()];</span> <span class="n">reps</span>
<span class="go">[A3(1,0,0,0), A3(1,1,0,0), A3(1,1,1,0)]</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A1xA1</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A1xA1&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;levi&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">reps</span><span class="p">]</span>
<span class="go">[A2(0,0,0) + A2(1,0,0), A2(1,0,0) + A2(1,1,0), A2(1,1,0) + A2(1,1,1)]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A1xA1</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;levi&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">reps</span><span class="p">]</span>
<span class="go">[A1xA1(1,0,0,0) + A1xA1(0,0,1,0),</span>
<span class="go"> A1xA1(1,1,0,0) + A1xA1(1,0,1,0) + A1xA1(0,0,1,1),</span>
<span class="go"> A1xA1(1,1,1,0) + A1xA1(1,0,1,1)]</span>
</pre></div>
</div>
<p>Let us redo this calculation in coroot notation. As we have explained,
coroot notation does not distinguish between representations of
<span class="math notranslate nohighlight">\(GL(4)\)</span> that have the same restriction to <span class="math notranslate nohighlight">\(SL(4)\)</span>, so in effect we are
now working with the groups <span class="math notranslate nohighlight">\(SL(4)\)</span> and its Levi subgroups <span class="math notranslate nohighlight">\(SL(3)\)</span> and
<span class="math notranslate nohighlight">\(SL(2) \times SL(2)\)</span>, which is the derived group of its Levi subgroup:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">reps</span> <span class="o">=</span> <span class="p">[</span><span class="n">A3</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">A3</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()];</span> <span class="n">reps</span>
<span class="go">[A3(1,0,0), A3(0,1,0), A3(0,0,1)]</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A1xA1</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A1xA1&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;levi&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">reps</span><span class="p">]</span>
<span class="go">[A2(0,0) + A2(1,0), A2(0,1) + A2(1,0), A2(0,0) + A2(0,1)]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A1xA1</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;levi&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">reps</span><span class="p">]</span>
<span class="go">[A1xA1(1,0) + A1xA1(0,1), 2*A1xA1(0,0) + A1xA1(1,1), A1xA1(1,0) + A1xA1(0,1)]</span>
</pre></div>
</div>
<p>Now we may observe a distinction difference in branching from</p>
<div class="math notranslate nohighlight">
\[GL(4) \to GL(2) \times GL(2)\]</div>
<p>versus</p>
<div class="math notranslate nohighlight">
\[SL(4) \to SL(2) \times SL(2).\]</div>
<p>Consider the representation <code class="docutils literal notranslate"><span class="pre">A3(0,1,0)</span></code>, which is the six dimensional
exterior square. In the coroot notation, the restriction contained two
copies of the trivial representation, <code class="docutils literal notranslate"><span class="pre">2*A1xA1(0,0)</span></code>. The other way,
we had instead three distinct representations in the restriction, namely
<code class="docutils literal notranslate"><span class="pre">A1xA1(1,1,0,0)</span></code> and <code class="docutils literal notranslate"><span class="pre">A1xA1(0,0,1,1)</span></code>, that is,
<span class="math notranslate nohighlight">\(\det \otimes 1\)</span> and <span class="math notranslate nohighlight">\(1 \otimes \det\)</span>.</p>
<p>The Levi subgroup <code class="docutils literal notranslate"><span class="pre">A1xA1</span></code> is actually not maximal. Indeed, we may
factor the embedding:</p>
<div class="math notranslate nohighlight">
\[SL(2) \times SL(2) \to Sp(4) \to SL(4).\]</div>
<p>Therfore there are branching rules <code class="docutils literal notranslate"><span class="pre">A3</span> <span class="pre">-&gt;</span> <span class="pre">C2</span></code> and <code class="docutils literal notranslate"><span class="pre">C2</span> <span class="pre">-&gt;</span> <span class="pre">A2</span></code>, and
we could accomplish the branching in two steps, thus:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;D2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A1xA1</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A1xA1&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">reps</span> <span class="o">=</span> <span class="p">[</span><span class="n">A3</span><span class="p">(</span><span class="n">fw</span><span class="p">)</span> <span class="k">for</span> <span class="n">fw</span> <span class="ow">in</span> <span class="n">A3</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;symmetric&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">B2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;isomorphic&quot;</span><span class="p">)</span><span class="o">.</span> \
<span class="go">         branch(D2, rule=&quot;extended&quot;).branch(A1xA1, rule=&quot;isomorphic&quot;) for pi in reps]</span>
<span class="go">[A1xA1(1,0) + A1xA1(0,1), 2*A1xA1(0,0) + A1xA1(1,1), A1xA1(1,0) + A1xA1(0,1)]</span>
</pre></div>
</div>
<p>As you can see, we’ve redone the branching rather circuitously this
way, making use of the branching rules <code class="docutils literal notranslate"><span class="pre">A3</span> <span class="pre">-&gt;</span> <span class="pre">C2</span></code> and <code class="docutils literal notranslate"><span class="pre">B2</span> <span class="pre">-&gt;</span> <span class="pre">D2</span></code>, and
two accidental isomorphisms <code class="docutils literal notranslate"><span class="pre">C2</span> <span class="pre">=</span> <span class="pre">B2</span></code> and <code class="docutils literal notranslate"><span class="pre">D2</span> <span class="pre">=</span> <span class="pre">A1xA1</span></code>. It is much
easier to go in one step using <code class="docutils literal notranslate"><span class="pre">rule=&quot;levi&quot;</span></code>, but reassuring that we
get the same answer!</p>
</div>
<div class="section" id="subgroups-classified-by-the-extended-dynkin-diagram">
<h2>Subgroups classified by the extended Dynkin diagram<a class="headerlink" href="#subgroups-classified-by-the-extended-dynkin-diagram" title="Permalink to this headline">¶</a></h2>
<p>It is also true that if we remove one node from the extended Dynkin
diagram that we obtain the Dynkin diagram of a subgroup. For example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G2</span><span class="o">.</span><span class="n">extended_dynkin_diagram</span><span class="p">()</span>
<span class="go">  3</span>
<span class="go">O=&lt;=O---O</span>
<span class="go">1   2   0</span>
<span class="go">G2~</span>
</pre></div>
</div>
<p>Observe that by removing the 1 node that we obtain an <span class="math notranslate nohighlight">\(A_2\)</span> Dynkin
diagram. Therefore the exceptional group <span class="math notranslate nohighlight">\(G_2\)</span> contains a copy of
<span class="math notranslate nohighlight">\(SL(3)\)</span>. We branch the two representations of <span class="math notranslate nohighlight">\(G_2\)</span> corresponding to the
fundamental weights to this copy of <span class="math notranslate nohighlight">\(A_2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">G2</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">G2</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()]</span>
<span class="go">[7, 14]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">G2</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;extended&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">G2</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()]</span>
<span class="go">[A2(0,0) + A2(0,1) + A2(1,0), A2(0,1) + A2(1,0) + A2(1,1)]</span>
</pre></div>
</div>
<p>The two representations of <span class="math notranslate nohighlight">\(G_2\)</span>, of degrees 7 and 14 respectively, are
the action on the octonions of trace zero and the adjoint
representation.</p>
<p>For embeddings of this type, the rank of the subgroup <span class="math notranslate nohighlight">\(H\)</span> is the same
as the rank of <span class="math notranslate nohighlight">\(G\)</span>. This is in contrast with embeddings of Levi type,
where <span class="math notranslate nohighlight">\(H\)</span> has rank one less than <span class="math notranslate nohighlight">\(G\)</span>.</p>
</div>
<div class="section" id="levi-subgroups-of-g-2">
<h2>Levi subgroups of <span class="math notranslate nohighlight">\(G_2\)</span><a class="headerlink" href="#levi-subgroups-of-g-2" title="Permalink to this headline">¶</a></h2>
<p>The exceptional group <span class="math notranslate nohighlight">\(G_2\)</span> has two Levi subgroups of type
<span class="math notranslate nohighlight">\(A_1\)</span>. Neither is maximal, as we can see from the extended
Dynkin diagram: the subgroups <span class="math notranslate nohighlight">\(A_1\times A_1\)</span> and <span class="math notranslate nohighlight">\(A_2\)</span>
are maximal and each contains a Levi subgroup. (Actually
<span class="math notranslate nohighlight">\(A_1\times A_1\)</span> contains a conjugate of both.) Only
the Levi subgroup containing the short root is implemented
as an instance of <code class="docutils literal notranslate"><span class="pre">rule=&quot;levi&quot;</span></code>. To obtain the other,
use the rule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">,</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span><span class="s2">&quot;extended&quot;</span><span class="p">)</span><span class="o">*</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;levi&quot;</span><span class="p">)</span>
<span class="go">composite branching rule G2 =&gt; (extended) A2 =&gt; (levi) A1</span>
</pre></div>
</div>
<p>which branches to the <span class="math notranslate nohighlight">\(A_1\)</span> Levi subgroup containing a long root.</p>
</div>
<div class="section" id="orthogonal-and-symplectic-subgroups-of-orthogonal-and-symplectic-groups">
<h2>Orthogonal and symplectic subgroups of orthogonal and symplectic groups<a class="headerlink" href="#orthogonal-and-symplectic-subgroups-of-orthogonal-and-symplectic-groups" title="Permalink to this headline">¶</a></h2>
<p>If <span class="math notranslate nohighlight">\(G = \hbox{SO}(n)\)</span> then <span class="math notranslate nohighlight">\(G\)</span> has a subgroup <span class="math notranslate nohighlight">\(\hbox{SO}(n-1)\)</span>. Depending on
whether <span class="math notranslate nohighlight">\(n\)</span> is even or odd, we thus have branching rules
<code class="docutils literal notranslate"><span class="pre">['D',r]</span></code> to <code class="docutils literal notranslate"><span class="pre">['B',r-1]</span></code> or <code class="docutils literal notranslate"><span class="pre">['B',r]</span></code> to <code class="docutils literal notranslate"><span class="pre">['D',r]</span></code>. These are
handled as follows:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span><span class="s2">&quot;D4&quot;</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;extended&quot;</span><span class="p">)</span>
<span class="go">extended branching rule B4 =&gt; D4</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;D4&quot;</span><span class="p">,</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;symmetric&quot;</span><span class="p">)</span>
<span class="go">symmetric branching rule D4 =&gt; B3</span>
</pre></div>
</div>
<p>If <span class="math notranslate nohighlight">\(G = \hbox{SO}(r+s)\)</span> then <span class="math notranslate nohighlight">\(G\)</span> has a subgroup
<span class="math notranslate nohighlight">\(\hbox{SO}(r) \times \hbox{SO}(s)\)</span>. This
lifts to an embedding of the universal covering groups</p>
<div class="math notranslate nohighlight">
\[\hbox{spin}(r) \times \hbox{spin}(s) \to \hbox{spin}(r+s).\]</div>
<p>Sometimes this embedding is of extended type, and sometimes it is
not. It is of extended type unless <span class="math notranslate nohighlight">\(r\)</span> and <span class="math notranslate nohighlight">\(s\)</span> are both odd. If it is
of extended type then you may use <code class="docutils literal notranslate"><span class="pre">rule=&quot;extended&quot;</span></code>. In any case you
may use <code class="docutils literal notranslate"><span class="pre">rule=&quot;orthogonal_sum&quot;</span></code>. The name refer to the origin of the
embedding <span class="math notranslate nohighlight">\(SO(r) \times SO(s) \to SO(r+s)\)</span> from the decomposition of
the underlying quadratic space as a direct sum of two orthogonal
subspaces.</p>
<p>There are four cases depending on the parity of <span class="math notranslate nohighlight">\(r\)</span> and <span class="math notranslate nohighlight">\(s\)</span>. For
example, if <span class="math notranslate nohighlight">\(r = 2k\)</span> and <span class="math notranslate nohighlight">\(s = 2l\)</span> we have an embedding:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">[&#39;D&#39;,k] x [&#39;D&#39;,l] --&gt; [&#39;D&#39;,k+l]</span>
</pre></div>
</div>
<p>This is of extended type. Thus consider the embedding
<code class="docutils literal notranslate"><span class="pre">D4xD3</span> <span class="pre">-&gt;</span> <span class="pre">D7</span></code>. Here is the extended Dynkin diagram:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">  0 O           O 7</span>
<span class="go">    |           |</span>
<span class="go">    |           |</span>
<span class="go">O---O---O---O---O---O</span>
<span class="go">1   2   3   4   5   6</span>
</pre></div>
</div>
<p>Removing the 4 vertex results in a disconnected Dynkin diagram:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">  0 O           O 7</span>
<span class="go">    |           |</span>
<span class="go">    |           |</span>
<span class="go">O---O---O       O---O</span>
<span class="go">1   2   3       5   6</span>
</pre></div>
</div>
<p>This is <code class="docutils literal notranslate"><span class="pre">D4xD3</span></code>.  Therefore use the “extended” branching rule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D7</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;D7&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D4xD3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;D4xD3&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">spin</span> <span class="o">=</span> <span class="n">D7</span><span class="p">(</span><span class="n">D7</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()[</span><span class="mi">7</span><span class="p">]);</span> <span class="n">spin</span>
<span class="go">D7(0,0,0,0,0,0,1)</span>
<span class="gp">sage: </span><span class="n">spin</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4xD3</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;extended&quot;</span><span class="p">)</span>
<span class="go">D4xD3(0,0,1,0,0,1,0) + D4xD3(0,0,0,1,0,0,1)</span>
</pre></div>
</div>
<p>But we could equally well use the “orthogonal_sum” rule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">spin</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4xD3</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;orthogonal_sum&quot;</span><span class="p">)</span>
<span class="go">D4xD3(0,0,1,0,0,1,0) + D4xD3(0,0,0,1,0,0,1)</span>
</pre></div>
</div>
<p>Similarly we have embeddings:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">[&#39;D&#39;,k] x [&#39;B&#39;,l] --&gt; [&#39;B&#39;,k+l]</span>
</pre></div>
</div>
<p>These are also of extended type. For example consider the embedding of
<code class="docutils literal notranslate"><span class="pre">D3xB2</span> <span class="pre">-&gt;</span> <span class="pre">B5</span></code>. Here is the <code class="docutils literal notranslate"><span class="pre">B5</span></code> extended Dynkin diagram:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">    O 0</span>
<span class="go">    |</span>
<span class="go">    |</span>
<span class="go">O---O---O---O=&gt;=O</span>
<span class="go">1   2   3   4   5</span>
</pre></div>
</div>
<p>Removing the 3 node gives:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">    O 0</span>
<span class="go">    |</span>
<span class="go">O---O       O=&gt;=O</span>
<span class="go">1   2       4   5</span>
</pre></div>
</div>
<p>and this is the Dynkin diagram or <code class="docutils literal notranslate"><span class="pre">D3xB2</span></code>. For such branchings we
again use either <code class="docutils literal notranslate"><span class="pre">rule=&quot;extended&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">rule=&quot;orthogonal_sum&quot;</span></code>.</p>
<p>Finally, there is an embedding</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">[&#39;B&#39;,k] x [&#39;B&#39;,l] --&gt; [&#39;D&#39;,k+l+1]</span>
</pre></div>
</div>
<p>This is <em>not</em> of extended type, so you may not use <code class="docutils literal notranslate"><span class="pre">rule=&quot;extended&quot;</span></code>.
You <em>must</em> use <code class="docutils literal notranslate"><span class="pre">rule=&quot;orthogonal_sum&quot;</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D5</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;D5&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B2xB2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;B2xB2&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">D5</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">B2xB2</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;orthogonal_sum&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">D5</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()]</span>
<span class="go">[B2xB2(1,0,0,0) + B2xB2(0,0,1,0),</span>
<span class="go"> B2xB2(0,2,0,0) + B2xB2(1,0,1,0) + B2xB2(0,0,0,2),</span>
<span class="go"> B2xB2(0,2,0,0) + B2xB2(0,2,1,0) + B2xB2(1,0,0,2) + B2xB2(0,0,0,2),</span>
<span class="go"> B2xB2(0,1,0,1), B2xB2(0,1,0,1)]</span>
</pre></div>
</div>
</div>
<div class="section" id="non-maximal-levi-subgroups-and-projection-from-reducible-types">
<h2>Non-maximal Levi subgroups and Projection from Reducible Types<a class="headerlink" href="#non-maximal-levi-subgroups-and-projection-from-reducible-types" title="Permalink to this headline">¶</a></h2>
<p>Not all Levi subgroups are maximal. Recall that the Dynkin-diagram
of a Levi subgroup <span class="math notranslate nohighlight">\(H\)</span> of <span class="math notranslate nohighlight">\(G\)</span> is obtained by removing a node
from the Dynkin diagram of <span class="math notranslate nohighlight">\(G\)</span>. Removing the same node from
the extended Dynkin diagram of <span class="math notranslate nohighlight">\(G\)</span> results in the Dynkin
diagram of a subgroup of <span class="math notranslate nohighlight">\(G\)</span> that is strictly larger than
<span class="math notranslate nohighlight">\(H\)</span>. However this subgroup may or may not be proper, so the
Levi subgroup may or may not be maximal.</p>
<p>If the Levi subgroup is not maximal, the branching rule
may or may not be implemented in Sage. However if it is
not implemented, it may be constructed as a composition
of two branching rules.</p>
<p>For example, prior to Sage-6.1 <code class="docutils literal notranslate"><span class="pre">branching_rule(&quot;E6&quot;,&quot;A5&quot;,&quot;levi&quot;)</span></code>
returned a not-implemented error and the advice to branch to
<code class="docutils literal notranslate"><span class="pre">A5xA1</span></code>. And we can see from the extended Dynkin diagram of <span class="math notranslate nohighlight">\(E_6\)</span>
that indeed <span class="math notranslate nohighlight">\(A_5\)</span> is not a maximal subgroup, since removing node 2
from the extended Dynkin diagram (see below) gives <code class="docutils literal notranslate"><span class="pre">A5xA1</span></code>. To
construct the branching rule to <span class="math notranslate nohighlight">\(A_5\)</span> we may proceed as follows:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E6&quot;</span><span class="p">,</span><span class="s2">&quot;A5xA1&quot;</span><span class="p">,</span><span class="s2">&quot;extended&quot;</span><span class="p">)</span><span class="o">*</span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;A5xA1&quot;</span><span class="p">,</span><span class="s2">&quot;A5&quot;</span><span class="p">,</span><span class="s2">&quot;proj1&quot;</span><span class="p">);</span> <span class="n">b</span>
<span class="go">composite branching rule E6 =&gt; (extended) A5xA1 =&gt; (proj1) A5</span>
<span class="gp">sage: </span><span class="n">E6</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;E6&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A5</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A5&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E6</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A5</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">3*A5(0,0,0,0,0) + 2*A5(0,0,1,0,0) + A5(1,0,0,0,1)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="go">        O 0</span>
<span class="go">        |</span>
<span class="go">        |</span>
<span class="go">        O 2</span>
<span class="go">        |</span>
<span class="go">        |</span>
<span class="go">O---O---O---O---O</span>
<span class="go">1   3   4   5   6</span>
<span class="go">E6~</span>
<span class="go">root restrictions E6 =&gt; A5:</span>

<span class="go">O---O---O---O---O</span>
<span class="go">1   2   3   4   5</span>
<span class="go">A5</span>

<span class="go">0 =&gt; (zero)</span>
<span class="go">1 =&gt; 1</span>
<span class="go">3 =&gt; 2</span>
<span class="go">4 =&gt; 3</span>
<span class="go">5 =&gt; 4</span>
<span class="go">6 =&gt; 5</span>

<span class="go">For more detailed information use verbose=True</span>
</pre></div>
</div>
<p>Note that it is not necessary to construct the Weyl character ring
for the intermediate group <code class="docutils literal notranslate"><span class="pre">A5xA1</span></code>.</p>
<p>This last example illustrates another common problem:
how to extract one component from a reducible root system.
We used the rule <code class="docutils literal notranslate"><span class="pre">&quot;proj1&quot;</span></code> to extract the first component.
We could similarly use <code class="docutils literal notranslate"><span class="pre">&quot;proj2&quot;</span></code> to get the second, or
more generally any combination of components:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;A2xB2xG2&quot;</span><span class="p">,</span><span class="s2">&quot;A2xG2&quot;</span><span class="p">,</span><span class="s2">&quot;proj13&quot;</span><span class="p">)</span>
<span class="go">proj13 branching rule A2xB2xG2 =&gt; A2xG2</span>
</pre></div>
</div>
</div>
<div class="section" id="symmetric-subgroups">
<h2>Symmetric subgroups<a class="headerlink" href="#symmetric-subgroups" title="Permalink to this headline">¶</a></h2>
<p>If <span class="math notranslate nohighlight">\(G\)</span> admits an outer automorphism (usually of order two) then we may
try to find the branching rule to the fixed subgroup <span class="math notranslate nohighlight">\(H\)</span>. It can be
arranged that this automorphism maps the maximal torus <span class="math notranslate nohighlight">\(T\)</span> to itself
and that a maximal torus <span class="math notranslate nohighlight">\(U\)</span> of <span class="math notranslate nohighlight">\(H\)</span> is contained in <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>Suppose that the Dynkin diagram of <span class="math notranslate nohighlight">\(G\)</span> admits an automorphism. Then
<span class="math notranslate nohighlight">\(G\)</span> itself admits an outer automorphism. The Dynkin diagram of the
group <span class="math notranslate nohighlight">\(H\)</span> of invariants may be obtained by “folding” the Dynkin
diagram of <span class="math notranslate nohighlight">\(G\)</span> along the automorphism. The exception is the branching
rule <span class="math notranslate nohighlight">\(GL(2r) \to SO(2r)\)</span>.</p>
<p>Here are the branching rules that can be obtained using
<code class="docutils literal notranslate"><span class="pre">rule=&quot;symmetric&quot;</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 25%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(G\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(H\)</span></p></th>
<th class="head"><p>Cartan Types</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(GL(2r)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Sp(2r)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['A',2r-1]</span> <span class="pre">=&gt;</span> <span class="pre">['C',r]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(GL(2r+1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r+1)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['A',2r]</span> <span class="pre">=&gt;</span> <span class="pre">['B',r]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(GL(2r)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['A',2r-1]</span> <span class="pre">=&gt;</span> <span class="pre">['D',r]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(SO(2r)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r-1)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['D',r]</span> <span class="pre">=&gt;</span> <span class="pre">['B',r-1]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(E_6\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(F_4\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['E',6]</span> <span class="pre">=&gt;</span> <span class="pre">['F',4]</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tensor-products">
<h2>Tensor products<a class="headerlink" href="#tensor-products" title="Permalink to this headline">¶</a></h2>
<p>If <span class="math notranslate nohighlight">\(G_1\)</span> and <span class="math notranslate nohighlight">\(G_2\)</span> are Lie groups, and we have representations
<span class="math notranslate nohighlight">\(\pi_1: G_1 \to GL(n)\)</span> and <span class="math notranslate nohighlight">\(\pi_2: G_2 \to GL(m)\)</span> then the tensor
product is a representation of <span class="math notranslate nohighlight">\(G_1 \times G_2\)</span>. It has its image
in <span class="math notranslate nohighlight">\(GL(nm)\)</span> but sometimes this is conjugate to a subgroup of <span class="math notranslate nohighlight">\(SO(nm)\)</span>
or <span class="math notranslate nohighlight">\(Sp(nm)\)</span>. In particular we have the following cases.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 31%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Group</p></th>
<th class="head"><p>Subgroup</p></th>
<th class="head"><p>Cartan Types</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(GL(rs)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(GL(r)\times GL(s)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['A',</span> <span class="pre">rs-1]</span> <span class="pre">=&gt;</span> <span class="pre">['A',r-1]</span> <span class="pre">x</span> <span class="pre">['A',s-1]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(SO(4rs+2r+2s+1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r+1)\times SO(2s+1)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['B',2rs+r+s]</span> <span class="pre">=&gt;</span> <span class="pre">['B',r]</span> <span class="pre">x</span> <span class="pre">['B',s]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(SO(4rs+2s)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r+1)\times SO(2s)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['D',2rs+s]</span> <span class="pre">=&gt;</span> <span class="pre">['B',r]</span> <span class="pre">x</span> <span class="pre">['D',s]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(SO(4rs)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r)\times SO(2s)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['D',2rs]</span> <span class="pre">=&gt;</span> <span class="pre">['D',r]</span> <span class="pre">x</span> <span class="pre">['D',s]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(SO(4rs)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Sp(2r)\times Sp(2s)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['D',2rs]</span> <span class="pre">=&gt;</span> <span class="pre">['C',r]</span> <span class="pre">x</span> <span class="pre">['C',s]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(Sp(4rs+2s)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(SO(2r+1)\times Sp(2s)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['C',2rs+s]</span> <span class="pre">=&gt;</span> <span class="pre">['B',r]</span> <span class="pre">x</span> <span class="pre">['C',s]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(Sp(4rs)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Sp(2r)\times SO(2s)\)</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['C',2rs]</span> <span class="pre">=&gt;</span> <span class="pre">['C',r]</span> <span class="pre">x</span> <span class="pre">['D',s]</span></code></p></td>
</tr>
</tbody>
</table>
<p>These branching rules are obtained using <code class="docutils literal notranslate"><span class="pre">rule=&quot;tensor&quot;</span></code>.</p>
</div>
<div class="section" id="symmetric-powers">
<h2>Symmetric powers<a class="headerlink" href="#symmetric-powers" title="Permalink to this headline">¶</a></h2>
<p>The <span class="math notranslate nohighlight">\(k\)</span>-th symmetric and exterior power homomorphisms map
<span class="math notranslate nohighlight">\(GL(n) \to GL \left(\binom{n+k-1}{k} \right)\)</span> and
<span class="math notranslate nohighlight">\(GL \left(\binom{n}{k} \right)\)</span>. The corresponding branching rules
are not implemented but a special case is. The <span class="math notranslate nohighlight">\(k\)</span>-th symmetric power
homomorphism <span class="math notranslate nohighlight">\(SL(2) \to GL(k+1)\)</span> has its image inside of <span class="math notranslate nohighlight">\(SO(2r+1)\)</span> if
<span class="math notranslate nohighlight">\(k = 2r\)</span> and inside of <span class="math notranslate nohighlight">\(Sp(2r)\)</span> if <span class="math notranslate nohighlight">\(k = 2r-1\)</span>. Hence there are
branching rules:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[&#39;B&#39;,r] =&gt; A1
[&#39;C&#39;,r] =&gt; A1
</pre></div>
</div>
<p>and these may be obtained using <code class="docutils literal notranslate"><span class="pre">rule=&quot;symmetric_power&quot;</span></code>.</p>
</div>
<div class="section" id="plethysms">
<h2>Plethysms<a class="headerlink" href="#plethysms" title="Permalink to this headline">¶</a></h2>
<p>The above branching rules are sufficient for most cases, but a few
fall between the cracks. Mostly these involve maximal subgroups of
fairly small rank.</p>
<p>The rule <code class="docutils literal notranslate"><span class="pre">rule=&quot;plethysm&quot;</span></code> is a powerful rule that includes any
branching rule from types <span class="math notranslate nohighlight">\(A\)</span>, <span class="math notranslate nohighlight">\(B\)</span>, <span class="math notranslate nohighlight">\(C\)</span> or <span class="math notranslate nohighlight">\(D\)</span> as a special case. Thus it
could be used in place of the above rules and would give the same
results. However, it is most useful when branching from <span class="math notranslate nohighlight">\(G\)</span> to a
maximal subgroup <span class="math notranslate nohighlight">\(H\)</span> such that <span class="math notranslate nohighlight">\(rank(H) &lt; rank(G)-1\)</span>.</p>
<p>We consider a homomorphism <span class="math notranslate nohighlight">\(H \to G\)</span> where <span class="math notranslate nohighlight">\(G\)</span> is one of <span class="math notranslate nohighlight">\(SL(r+1)\)</span>,
<span class="math notranslate nohighlight">\(SO(2r+1)\)</span>, <span class="math notranslate nohighlight">\(Sp(2r)\)</span> or <span class="math notranslate nohighlight">\(SO(2r)\)</span>. The function
<code class="docutils literal notranslate"><span class="pre">branching_rule_from_plethysm</span></code> produces the corresponding branching
rule. The main ingredient is the character <span class="math notranslate nohighlight">\(\chi\)</span> of the
representation of <span class="math notranslate nohighlight">\(H\)</span> that is the homomorphism to <span class="math notranslate nohighlight">\(GL(r+1)\)</span>,
<span class="math notranslate nohighlight">\(GL(2r+1)\)</span> or <span class="math notranslate nohighlight">\(GL(2r)\)</span>.</p>
<p>Let us consider the symmetric fifth power representation of
<span class="math notranslate nohighlight">\(SL(2)\)</span>. This is implemented above by <code class="docutils literal notranslate"><span class="pre">rule=&quot;symmetric_power&quot;</span></code>, but
suppose we want to use <code class="docutils literal notranslate"><span class="pre">rule=&quot;plethysm&quot;</span></code>. First we construct the
homomorphism by invoking its character, to be called <code class="docutils literal notranslate"><span class="pre">chi</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A1</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">chi</span> <span class="o">=</span> <span class="n">A1</span><span class="p">([</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">chi</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">chi</span><span class="o">.</span><span class="n">frobenius_schur_indicator</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>This confirms that the character has degree 6 and is symplectic, so it
corresponds to a homomorphism <span class="math notranslate nohighlight">\(SL(2) \to Sp(6)\)</span>, and there is a
corresponding branching rule <code class="docutils literal notranslate"><span class="pre">C3</span> <span class="pre">-&gt;</span> <span class="pre">A1</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A1</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C3&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">chi</span> <span class="o">=</span> <span class="n">A1</span><span class="p">([</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">sym5rule</span> <span class="o">=</span> <span class="n">branching_rule_from_plethysm</span><span class="p">(</span><span class="n">chi</span><span class="p">,</span> <span class="s2">&quot;C3&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">C3</span><span class="p">(</span><span class="n">hwv</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A1</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">sym5rule</span><span class="p">)</span> <span class="k">for</span> <span class="n">hwv</span> <span class="ow">in</span> <span class="n">C3</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()]</span>
<span class="go">[A1(5), A1(4) + A1(8), A1(3) + A1(9)]</span>
</pre></div>
</div>
<p>This is identical to the results we would obtain using
<code class="docutils literal notranslate"><span class="pre">rule=&quot;symmetric_power&quot;</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A1</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;C3&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">C3</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A1</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;symmetric_power&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">C3</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()]</span>
<span class="go">[A1(5), A1(4) + A1(8), A1(3) + A1(9)]</span>
</pre></div>
</div>
<p>But the next example of plethysm gives a branching rule not available
by other methods:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D7</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;D7&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ad</span> <span class="o">=</span> <span class="n">G2</span><span class="o">.</span><span class="n">adjoint_representation</span><span class="p">();</span> <span class="n">ad</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">14</span>
<span class="gp">sage: </span><span class="n">ad</span><span class="o">.</span><span class="n">frobenius_schur_indicator</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">D7</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">():</span>  <span class="c1"># long time (1.29s)</span>
<span class="gp">....: </span>   <span class="k">print</span><span class="p">(</span><span class="n">D7</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">G2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">branching_rule_from_plethysm</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s2">&quot;D7&quot;</span><span class="p">)))</span>
<span class="go">G2(0,1)</span>
<span class="go">G2(0,1) + G2(3,0)</span>
<span class="go">G2(0,0) + G2(2,0) + G2(3,0) + G2(0,2) + G2(4,0)</span>
<span class="go">G2(0,1) + G2(2,0) + G2(1,1) + G2(0,2) + G2(2,1) + G2(4,0) + G2(3,1)</span>
<span class="go">G2(1,0) + G2(0,1) + G2(1,1) + 2*G2(3,0) + 2*G2(2,1) + G2(1,2) + G2(3,1) + G2(5,0) + G2(0,3)</span>
<span class="go">G2(1,1)</span>
<span class="go">G2(1,1)</span>
</pre></div>
</div>
<p>In this example, <span class="math notranslate nohighlight">\(ad\)</span> is the 14-dimensional adjoint representation of the
exceptional group <span class="math notranslate nohighlight">\(G_2\)</span>. Since the Frobenius-Schur indicator is 1, the
representation is orthogonal, and factors through <span class="math notranslate nohighlight">\(SO(14)\)</span>, that is, <span class="math notranslate nohighlight">\(D7\)</span>.</p>
<p>We do not actually have to create the character (or for that matter
its ambient WeylCharacterRing) in order to create the branching rule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;D4&quot;</span><span class="p">,</span><span class="s2">&quot;A2.adjoint_representation()&quot;</span><span class="p">,</span><span class="s2">&quot;plethysm&quot;</span><span class="p">)</span>
<span class="go">plethysm (along A2(1,1)) branching rule D4 =&gt; A2</span>
</pre></div>
</div>
<p>The adjoint representation of any semisimple Lie group is orthogonal, so we
do not need to compute the Frobenius-Schur indicator.</p>
</div>
<div class="section" id="miscellaneous-other-subgroups">
<h2>Miscellaneous other subgroups<a class="headerlink" href="#miscellaneous-other-subgroups" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">rule=&quot;miscellaneous&quot;</span></code> for the following rules. Every maximal
subgroup <span class="math notranslate nohighlight">\(H\)</span> of an exceptional group <span class="math notranslate nohighlight">\(G\)</span> are either among these,
or the five <span class="math notranslate nohighlight">\(A_1\)</span> subgroups described in the next section,
or (if <span class="math notranslate nohighlight">\(G\)</span> and <span class="math notranslate nohighlight">\(H\)</span> have the same rank) is available using
<code class="docutils literal notranslate"><span class="pre">rule=&quot;extended&quot;</span></code>.</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
B_3 &amp; \to G_2,
\\ E_6 &amp; \to A_2,
\\ E_6 &amp; \to G_2,
\\ F_4 &amp; \to G_2 \times A_1,
\\ E_6 &amp; \to G_2 \times A_2,
\\ E_7 &amp; \to G_2 \times C_3,
\\ E_7 &amp; \to F_4 \times A_1,
\\ E_7 &amp; \to A_1 \times A_1,
\\ E_7 &amp; \to G_2 \times A_1,
\\ E_7 &amp; \to A_2
\\ E_8 &amp; \to G_2 \times F_4.
\\ E_8 &amp; \to A_2 \times A_1.
\\ E_8 &amp; \to B_2
\end{aligned}\end{split}\]</div>
</div></blockquote>
<p>The first rule corresponds to the embedding of <span class="math notranslate nohighlight">\(G_2\)</span> in
<span class="math notranslate nohighlight">\(\hbox{SO}(7)\)</span> in its action on the trace zero octonions.
The two branching rules from <span class="math notranslate nohighlight">\(E_6\)</span> to <span class="math notranslate nohighlight">\(G_2\)</span> or <span class="math notranslate nohighlight">\(A_2\)</span>
are described in <a class="reference internal" href="bibliography.html#testerman1989" id="id6"><span>[Testerman1989]</span></a>. We caution the reader
that Theorem G.2 of that paper, proved there in positive
characteristic is false over the complex numbers. On
the other hand, the assumption of characteristic <span class="math notranslate nohighlight">\(p\)</span>
is not important for Theorems G.1 and A.1, which
describe the torus embeddings, hence contain enough
information to compute the branching rule. There
are other ways of embedding <span class="math notranslate nohighlight">\(G_2\)</span> or <span class="math notranslate nohighlight">\(A_2\)</span> into
<span class="math notranslate nohighlight">\(E_6\)</span>.  These may embeddings be characterized by the
condition that the two 27-dimensional representations of
<span class="math notranslate nohighlight">\(E_6\)</span> restrict irreducibly to <span class="math notranslate nohighlight">\(G_2\)</span> or <span class="math notranslate nohighlight">\(A_2\)</span>.
Their images are maximal subgroups.</p>
<p>The remaining rules come about as follows. Let <span class="math notranslate nohighlight">\(G\)</span> be
<span class="math notranslate nohighlight">\(F_4\)</span>, <span class="math notranslate nohighlight">\(E_6\)</span>, <span class="math notranslate nohighlight">\(E_7\)</span> or <span class="math notranslate nohighlight">\(E_8\)</span>, and let <span class="math notranslate nohighlight">\(H\)</span> be <span class="math notranslate nohighlight">\(G_2\)</span>,
or else (if <span class="math notranslate nohighlight">\(G=E_7\)</span>) <span class="math notranslate nohighlight">\(F_4\)</span>. We embed <span class="math notranslate nohighlight">\(H\)</span> into <span class="math notranslate nohighlight">\(G\)</span>
in the most obvious way; that is, in the chain
of subgroups</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[G_2\subset F_4\subset E_6 \subset E_7 \subset E_8\]</div>
</div></blockquote>
<p>Then the centralizer of <span class="math notranslate nohighlight">\(H\)</span> is <span class="math notranslate nohighlight">\(A_1\)</span>, <span class="math notranslate nohighlight">\(A_2\)</span>, <span class="math notranslate nohighlight">\(C_3\)</span>, <span class="math notranslate nohighlight">\(F_4\)</span> (if <span class="math notranslate nohighlight">\(H=G_2\)</span>) or
<span class="math notranslate nohighlight">\(A_1\)</span> (if <span class="math notranslate nohighlight">\(G=E_7\)</span> and <span class="math notranslate nohighlight">\(H=F_4\)</span>). This gives us five of the cases.
Regarding the branching rule <span class="math notranslate nohighlight">\(E_6 \to G_2 \times A_2\)</span>, Rubenthaler
<a class="reference internal" href="bibliography.html#rubenthaler2008" id="id7"><span>[Rubenthaler2008]</span></a> describes the embedding and applies it in an interesting
way.</p>
<p>The embedding of <span class="math notranslate nohighlight">\(A_1\times A_1\)</span> into <span class="math notranslate nohighlight">\(E_7\)</span> is as
follows. Deleting the 5 node of the <span class="math notranslate nohighlight">\(E_7\)</span> Dynkin
diagram gives the Dynkin diagram of <span class="math notranslate nohighlight">\(A_4\times A_2\)</span>, so this is a Levi
subgroup. We embed <span class="math notranslate nohighlight">\(\hbox{SL}(2)\)</span> into this Levi subgroup via the
representation <span class="math notranslate nohighlight">\([4]\otimes[2]\)</span>.  This embeds the first copy of <span class="math notranslate nohighlight">\(A_1\)</span>. The
other <span class="math notranslate nohighlight">\(A_1\)</span> is the connected centralizer. See <a class="reference internal" href="bibliography.html#seitz1991" id="id8"><span>[Seitz1991]</span></a>, particularly the
proof of (3.12).</p>
<p>The embedding if <span class="math notranslate nohighlight">\(G_2\times A_1\)</span> into <span class="math notranslate nohighlight">\(E_7\)</span> is as
follows. Deleting the 2 node of the <span class="math notranslate nohighlight">\(E_7\)</span> Dynkin
diagram gives the <span class="math notranslate nohighlight">\(A_6\)</span> Dynkin diagram, which is
the Levi subgroup <span class="math notranslate nohighlight">\(\hbox{SL}(7)\)</span>. We embed <span class="math notranslate nohighlight">\(G_2\)</span> into
<span class="math notranslate nohighlight">\(\hbox{SL}(7)\)</span> via the irreducible seven-dimensional representation
of <span class="math notranslate nohighlight">\(G_2\)</span>. The <span class="math notranslate nohighlight">\(A_1\)</span> is the centralizer.</p>
<p>The embedding if <span class="math notranslate nohighlight">\(A_2\times A_1\)</span> into <span class="math notranslate nohighlight">\(E_8\)</span> is as
follows. Deleting the 2 node of the <span class="math notranslate nohighlight">\(E_8\)</span> Dynkin
diagram gives the <span class="math notranslate nohighlight">\(A_7\)</span> Dynkin diagram, which is
the Levi subgroup <span class="math notranslate nohighlight">\(\hbox{SL}(8)\)</span>. We embed <span class="math notranslate nohighlight">\(A_2\)</span> into
<span class="math notranslate nohighlight">\(\hbox{SL}(8)\)</span> via the irreducible eight-dimensional adjoint
representation of <span class="math notranslate nohighlight">\(\hbox{SL}(2)\)</span>. The <span class="math notranslate nohighlight">\(A_1\)</span> is the centralizer.</p>
<p>The embedding <span class="math notranslate nohighlight">\(A_2\)</span> into <span class="math notranslate nohighlight">\(E_7\)</span> is proved in
<a class="reference internal" href="bibliography.html#seitz1991" id="id9"><span>[Seitz1991]</span></a> (5.8). In particular, he computes the
embedding of the <span class="math notranslate nohighlight">\(\hbox{SL}(3)\)</span> torus in the
<span class="math notranslate nohighlight">\(E_7\)</span> torus, which is what is needed to implement
the branching rule. The embedding of <span class="math notranslate nohighlight">\(B_2\)</span> into
<span class="math notranslate nohighlight">\(E_8\)</span> is also constructed in <a class="reference internal" href="bibliography.html#seitz1991" id="id10"><span>[Seitz1991]</span></a> (6.7).
The embedding of the <span class="math notranslate nohighlight">\(B_2\)</span> Cartan subalgebra,
needed to implement the branching rule, is
easily deduced from (10) on page 111.</p>
</div>
<div class="section" id="maximal-a1-subgroups-of-exceptional-groups">
<h2>Maximal A1 subgroups of Exceptional Groups<a class="headerlink" href="#maximal-a1-subgroups-of-exceptional-groups" title="Permalink to this headline">¶</a></h2>
<p>There are seven embeddings of <span class="math notranslate nohighlight">\(SL(2)\)</span> into an exceptional
group as a maximal subgroup: one each for <span class="math notranslate nohighlight">\(G_2\)</span> and <span class="math notranslate nohighlight">\(F_4\)</span>,
two nonconjugate embeddings for <span class="math notranslate nohighlight">\(E_7\)</span> and three for <span class="math notranslate nohighlight">\(E_8\)</span>
These are constructed in <a class="reference internal" href="bibliography.html#testerman1992" id="id11"><span>[Testerman1992]</span></a>. Create the
corresponding branching rules as follows. The names of
the rules are roman numerals referring to the seven
cases of Testerman’s Theorem 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
<span class="go">i branching rule G2 =&gt; A1</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;F4&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;ii&quot;</span><span class="p">)</span>
<span class="go">ii branching rule F4 =&gt; A1</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E7&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;iii&quot;</span><span class="p">)</span>
<span class="go">iii branching rule E7 =&gt; A1</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E7&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;iv&quot;</span><span class="p">)</span>
<span class="go">iv branching rule E7 =&gt; A1</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E8&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;v&quot;</span><span class="p">)</span>
<span class="go">v branching rule E8 =&gt; A1</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E8&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;vi&quot;</span><span class="p">)</span>
<span class="go">vi branching rule E8 =&gt; A1</span>
<span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E8&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;vii&quot;</span><span class="p">)</span>
<span class="go">vii branching rule E8 =&gt; A1</span>
</pre></div>
</div>
<p>The embeddings are characterized by the root
restrictions in their branching rules: usually
a simple root of the ambient group <span class="math notranslate nohighlight">\(G\)</span> restricts
to the unique simple root of <span class="math notranslate nohighlight">\(A_1\)</span>, except for
root <span class="math notranslate nohighlight">\(\alpha_4\)</span> for rules iv, vi and vii,
and the root <span class="math notranslate nohighlight">\(\alpha_6\)</span> for root vii; this is
essentially the way Testerman characterizes
the embeddings, and this information may
be obtained from Sage by employing the
<code class="docutils literal notranslate"><span class="pre">describe()</span></code> method of the branching rule.
Thus:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;E8&quot;</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span><span class="s2">&quot;vii&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="go">        O 2</span>
<span class="go">        |</span>
<span class="go">        |</span>
<span class="go">O---O---O---O---O---O---O---O</span>
<span class="go">1   3   4   5   6   7   8   0</span>
<span class="go">E8~</span>
<span class="go">root restrictions E8 =&gt; A1:</span>

<span class="go">O</span>
<span class="go">1</span>
<span class="go">A1</span>

<span class="go">1 =&gt; 1</span>
<span class="go">2 =&gt; 1</span>
<span class="go">3 =&gt; 1</span>
<span class="go">4 =&gt; (zero)</span>
<span class="go">5 =&gt; 1</span>
<span class="go">6 =&gt; (zero)</span>
<span class="go">7 =&gt; 1</span>
<span class="go">8 =&gt; 1</span>

<span class="go">For more detailed information use verbose=True</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-your-own-branching-rules">
<h2>Writing your own branching rules<a class="headerlink" href="#writing-your-own-branching-rules" title="Permalink to this headline">¶</a></h2>
<p>Sage has many built-in branching rules. Indeed, at least
up to rank eight (including all the exceptional groups)
branching rules to all maximal subgroups are implemented
as built in rules, except for a few obtainable using
<code class="docutils literal notranslate"><span class="pre">branching_rule_from_plethysm</span></code>. This means that
all the rules in <a class="reference internal" href="bibliography.html#mckaypatera1981" id="id12"><span>[McKayPatera1981]</span></a> are available in Sage.</p>
<p>Still in this section we are including instructions for coding a rule by
hand. As we have already explained, the branching rule is a function from the
weight lattice of <code class="docutils literal notranslate"><span class="pre">G</span></code> to the weight lattice of <code class="docutils literal notranslate"><span class="pre">H</span></code>, and if you supply this
you can write your own branching rules.</p>
<p>As an example, let us consider how to implement the branching rule
<code class="docutils literal notranslate"><span class="pre">A3</span> <span class="pre">-&gt;</span> <span class="pre">C2</span></code>.  Here <code class="docutils literal notranslate"><span class="pre">H</span> <span class="pre">=</span> <span class="pre">C2</span> <span class="pre">=</span> <span class="pre">Sp(4)</span></code> embedded as a subgroup in
<code class="docutils literal notranslate"><span class="pre">A3</span> <span class="pre">=</span> <span class="pre">GL(4)</span></code>. The Cartan subalgebra <span class="math notranslate nohighlight">\(\hbox{Lie}(U)\)</span> consists of
diagonal matrices with eigenvalues <code class="docutils literal notranslate"><span class="pre">u1,</span> <span class="pre">u2,</span> <span class="pre">-u2,</span> <span class="pre">-u1</span></code>. Then
<code class="docutils literal notranslate"><span class="pre">C2.space()</span></code> is the two dimensional vector spaces consisting of the
linear functionals <code class="docutils literal notranslate"><span class="pre">u1</span></code> and <code class="docutils literal notranslate"><span class="pre">u2</span></code> on <code class="docutils literal notranslate"><span class="pre">U</span></code>. On the other hand
<span class="math notranslate nohighlight">\(Lie(T) = \mathbf{R}^4\)</span>. A convenient way to see the restriction is to
think of it as the adjoint of the map <code class="docutils literal notranslate"><span class="pre">[u1,u2]</span> <span class="pre">-&gt;</span> <span class="pre">[u1,u2,-u2,-u1]</span></code>,
that is, <code class="docutils literal notranslate"><span class="pre">[x0,x1,x2,x3]</span> <span class="pre">-&gt;</span> <span class="pre">[x0-x3,x1-x2]</span></code>. Hence we may encode the
rule:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">brule</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
</pre></div>
</div>
<p>or simply:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">brule</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
</pre></div>
</div>
<p>Let us check that this agrees with the built-in rule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A3</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C2</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">brule</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">sage: </span><span class="n">A3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">brule</span><span class="p">)</span>
<span class="go">C2(0,0) + C2(1,1)</span>
<span class="gp">sage: </span><span class="n">A3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="s2">&quot;symmetric&quot;</span><span class="p">)</span>
<span class="go">C2(0,0) + C2(1,1)</span>
</pre></div>
</div>
<p>Although this works, it is better to make the rule
into an element of the <a class="reference external" href="../../reference/combinat/sage/combinat/root_system/branching_rules.html#sage.combinat.root_system.branching_rules.BranchingRule" title="(in Sage 9.2 Reference Manual: Combinatorics v9.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BranchingRule</span></code></a> class, as follows.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">brule</span> <span class="o">=</span> <span class="n">BranchingRule</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span><span class="s2">&quot;C2&quot;</span><span class="p">,</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span><span class="s2">&quot;custom&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">brule</span><span class="p">)</span>
<span class="go">C2(0,0) + C2(1,1)</span>
</pre></div>
</div>
</div>
<div class="section" id="automorphisms-and-triality">
<h2>Automorphisms and triality<a class="headerlink" href="#automorphisms-and-triality" title="Permalink to this headline">¶</a></h2>
<p>The case where <span class="math notranslate nohighlight">\(G=H\)</span> can be treated as a special case of a branching
rule. In most cases if <span class="math notranslate nohighlight">\(G\)</span> has a nontrivial outer automorphism, it
has order two, corresponding to the symmetry of the Dynkin diagram.
Such an involution exists in the cases <span class="math notranslate nohighlight">\(A_r\)</span>, <span class="math notranslate nohighlight">\(D_r\)</span>, <span class="math notranslate nohighlight">\(E_6\)</span>.</p>
<p>So the automorphism acts on the representations of <span class="math notranslate nohighlight">\(G\)</span>, and its
effect may be computed using the branching rule code:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A4</span> <span class="o">=</span> <span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;A4&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">45</span>
<span class="gp">sage: </span><span class="n">A4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">45</span>
<span class="gp">sage: </span><span class="n">A4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">A4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;automorphic&quot;</span><span class="p">)</span>
<span class="go">A4(0,1,0,1)</span>
</pre></div>
</div>
<p>In the special case where <code class="docutils literal notranslate"><span class="pre">G=D4</span></code>, the Dynkin diagram has
extra symmetries, and these correspond to outer automorphisms
of the group. These are implemented as the <code class="docutils literal notranslate"><span class="pre">&quot;triality&quot;</span></code>
branching rule:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">branching_rule</span><span class="p">(</span><span class="s2">&quot;D4&quot;</span><span class="p">,</span><span class="s2">&quot;D4&quot;</span><span class="p">,</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="go">    O 4</span>
<span class="go">    |</span>
<span class="go">    |</span>
<span class="go">O---O---O</span>
<span class="go">1   |2  3</span>
<span class="go">    |</span>
<span class="go">    O 0</span>
<span class="go">D4~</span>
<span class="go">root restrictions D4 =&gt; D4:</span>

<span class="go">    O 4</span>
<span class="go">    |</span>
<span class="go">    |</span>
<span class="go">O---O---O</span>
<span class="go">1   2   3</span>
<span class="go">D4</span>

<span class="go">1 =&gt; 3</span>
<span class="go">2 =&gt; 2</span>
<span class="go">3 =&gt; 4</span>
<span class="go">4 =&gt; 1</span>

<span class="go">For more detailed information use verbose=True</span>
</pre></div>
</div>
<p>Triality his is not an automorphisms of <span class="math notranslate nohighlight">\(SO(8)\)</span>, but
of its double cover <span class="math notranslate nohighlight">\(spin(8)\)</span>. Note that <span class="math notranslate nohighlight">\(spin(8)\)</span> has
three representations of degree 8, namely the standard
representation of <span class="math notranslate nohighlight">\(SO(8)\)</span> and the two
eight-dimensional spin representations. These are
permuted by triality:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D4</span><span class="o">=</span><span class="n">WeylCharacterRing</span><span class="p">(</span><span class="s2">&quot;D4&quot;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;coroots&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span>
<span class="go">D4(1,0,0,0)</span>
<span class="gp">sage: </span><span class="n">D4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span>
<span class="go">D4(0,0,1,0)</span>
<span class="gp">sage: </span><span class="n">D4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;triality&quot;</span><span class="p">)</span>
<span class="go">D4(0,0,0,1)</span>
</pre></div>
</div>
<p>By contrast, <code class="docutils literal notranslate"><span class="pre">rule=&quot;automorphic&quot;</span></code> simply interchanges the two
spin representations, as it always does in type <span class="math notranslate nohighlight">\(D\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;automorphic&quot;</span><span class="p">)</span>
<span class="go">D4(0,0,1,0)</span>
<span class="gp">sage: </span><span class="n">D4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="n">D4</span><span class="p">,</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;automorphic&quot;</span><span class="p">)</span>
<span class="go">D4(0,0,0,1)</span>
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Maximal Subgroups and Branching Rules</a><ul>
<li><a class="reference internal" href="#branching-rules">Branching rules</a></li>
<li><a class="reference internal" href="#what-s-in-a-branching-rule">What’s in a branching rule?</a></li>
<li><a class="reference internal" href="#maximal-subgroups">Maximal subgroups</a></li>
<li><a class="reference internal" href="#levi-subgroups">Levi subgroups</a></li>
<li><a class="reference internal" href="#subgroups-classified-by-the-extended-dynkin-diagram">Subgroups classified by the extended Dynkin diagram</a></li>
<li><a class="reference internal" href="#levi-subgroups-of-g-2">Levi subgroups of <span class="math notranslate nohighlight">\(G_2\)</span></a></li>
<li><a class="reference internal" href="#orthogonal-and-symplectic-subgroups-of-orthogonal-and-symplectic-groups">Orthogonal and symplectic subgroups of orthogonal and symplectic groups</a></li>
<li><a class="reference internal" href="#non-maximal-levi-subgroups-and-projection-from-reducible-types">Non-maximal Levi subgroups and Projection from Reducible Types</a></li>
<li><a class="reference internal" href="#symmetric-subgroups">Symmetric subgroups</a></li>
<li><a class="reference internal" href="#tensor-products">Tensor products</a></li>
<li><a class="reference internal" href="#symmetric-powers">Symmetric powers</a></li>
<li><a class="reference internal" href="#plethysms">Plethysms</a></li>
<li><a class="reference internal" href="#miscellaneous-other-subgroups">Miscellaneous other subgroups</a></li>
<li><a class="reference internal" href="#maximal-a1-subgroups-of-exceptional-groups">Maximal A1 subgroups of Exceptional Groups</a></li>
<li><a class="reference internal" href="#writing-your-own-branching-rules">Writing your own branching rules</a></li>
<li><a class="reference internal" href="#automorphisms-and-triality">Automorphisms and triality</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="weyl_character_ring.html"
                        title="previous chapter">The Weyl Character Ring</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="weyl_groups.html"
                        title="next chapter">Weyl Groups, Coxeter Groups and the Bruhat Order</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/lie/branching_rules.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="weyl_groups.html" title="Weyl Groups, Coxeter Groups and the Bruhat Order"
             >next</a> |</li>
        <li class="right" >
          <a href="weyl_character_ring.html" title="The Weyl Character Ring"
             >previous</a> |</li>
  
    
      <a href="../../index.html"><img src="../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../index.html">Thematic Tutorials v9.2</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../toctree.html" >Thematic tutorial document tree</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../lie.html" >Lie Methods and Related Combinatorics in Sage</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Maximal Subgroups and Branching Rules</a></li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2020, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>