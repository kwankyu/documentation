
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Launching SageMath &#8212; Installation Guide</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Troubleshooting" href="troubles.html" />
    <link rel="prev" title="Install from Source Code" href="source.html" />
  <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="troubles.html" title="Troubleshooting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="source.html" title="Install from Source Code"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="index.html">Installation Guide</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Launching SageMath</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="launching-sagemath">
<span id="sec-launching"></span><h1>Launching SageMath<a class="headerlink" href="#launching-sagemath" title="Permalink to this headline">¶</a></h1>
<p>Now we assume that you installed SageMath properly on your system. This
section quickly explains how to start the Sage console and the Jupyter
Notebook from the command line.</p>
<p>If you did install the Windows version or the macOS application you
should have icons available on your desktops or launching menus. Otherwise
you are strongly advised to create shortcuts for Sage as indicated at the end
of the “Linux” Section in <a class="reference internal" href="binary.html#sec-installation-from-binaries"><span class="std std-ref">Install from Pre-built Binaries</span></a>. Assuming
that you have this shortcut, running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sage
</pre></div>
</div>
<p>in a console starts a Sage session.  To quit the session enter <code class="docutils literal notranslate"><span class="pre">quit</span></code> and
then press <code class="docutils literal notranslate"><span class="pre">&lt;Enter&gt;</span></code>.</p>
<p>To start a Jupyter Notebook instead of a Sage console, run the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sage -n jupyter
</pre></div>
</div>
<p>instead of just <code class="docutils literal notranslate"><span class="pre">sage</span></code>. To quit the Jupyter Notebook press <code class="docutils literal notranslate"><span class="pre">&lt;Ctrl&gt;</span> <span class="pre">+</span> <span class="pre">&lt;c&gt;</span></code>
twice in the console where you launched the command.</p>
<section id="using-a-jupyter-notebook-remotely">
<h2>Using a Jupyter Notebook remotely<a class="headerlink" href="#using-a-jupyter-notebook-remotely" title="Permalink to this headline">¶</a></h2>
<p>If Sage is installed on a remote machine to which you have <code class="docutils literal notranslate"><span class="pre">ssh</span></code> access, you
can launch a Jupyter Notebook using a command such as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh -L localhost:8888:localhost:8888 -t USER@REMOTE sage -n jupyter --no-browser --port<span class="o">=</span><span class="m">8888</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">USER&#64;REMOTE</span></code> needs to be replaced by the login details to the remote
machine. This uses local port forwarding to connect your local machine to the
remote one. The command will print a URL to the console which you can copy and
paste in a web browser.</p>
<p>Note that this assumes that a firewall which might be present between server
and client allows connections on port 8888. See details on port forwarding on
the internet, e.g. <a class="reference external" href="https://www.ssh.com/ssh/tunneling/example">https://www.ssh.com/ssh/tunneling/example</a>.</p>
</section>
<section id="wsl-post-installation-steps">
<span id="sec-launching-wsl-post-installation"></span><h2>WSL Post-installation steps<a class="headerlink" href="#wsl-post-installation-steps" title="Permalink to this headline">¶</a></h2>
<p>If you’ve installed Sage Math from source on WSL, there are a couple of extra steps you can do to make your life easier:</p>
<section id="create-a-notebook-launch-script">
<h3>Create a notebook launch script<a class="headerlink" href="#create-a-notebook-launch-script" title="Permalink to this headline">¶</a></h3>
<p>If you plan to use JupyterLab, install that first.</p>
<p>Now create a script called <code class="docutils literal notranslate"><span class="pre">~/sage_nb.sh</span></code> containing the following lines, and fill in the correct paths for your desired starting directory and <code class="docutils literal notranslate"><span class="pre">SAGE_ROOT</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># Switch to desired windows directory</span>
<span class="nb">cd</span> /mnt/c/path/to/desired/starting/directory
<span class="c1"># Start the Jupyter notebook</span>
SAGE_ROOT/sage --notebook
<span class="c1"># Alternatively you can run JupyterLab - delete the line above, and uncomment the line below</span>
<span class="c1">#SAGE_ROOT/sage --notebook jupyterlab</span>
</pre></div>
</div>
<p>Make it executable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod ug+x ~/sage_nb.sh
</pre></div>
</div>
<p>Run it to test:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~
./sage_nb.sh
</pre></div>
</div>
<p>The Jupyter(Lab) server should start in the terminal window, and you windows browser should open a page showing the Jupyter or JupyterLab starting page, at the directory you specified.</p>
</section>
<section id="create-a-shortcut">
<h3>Create a shortcut<a class="headerlink" href="#create-a-shortcut" title="Permalink to this headline">¶</a></h3>
<p>This is a final nicety that lets you start the Jupyter or JupyterLab server in one click:</p>
<ul class="simple">
<li><p>Open Windows explorer, and type <code class="docutils literal notranslate"><span class="pre">%APPDATA%\Microsoft\Windows\Start</span> <span class="pre">Menu\Programs</span></code> in the address bar and press enter. This is the folder that contains you start menu shortcuts. If you want the sage shortcut somewhere else (like your desktop), open that folder instead.</p></li>
<li><p>Open a separate window and go to <code class="docutils literal notranslate"><span class="pre">%LOCALAPPDATA%\Microsoft\WindowsApps\</span></code></p></li>
<li><p>Right-click-drag the <code class="docutils literal notranslate"><span class="pre">ubuntu.exe</span></code> icon from the second window into the first, then choose <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">shortcuts</span> <span class="pre">here</span></code> from the context menu when you drop it.</p></li>
<li><p>To customize this shortcut, right-click on it and choose properties.</p>
<ul>
<li><p>On the General tab:</p>
<ul>
<li><p>Change the name to whatever you want, e.g. “Sage 9.2 JupyterLab”</p></li>
</ul>
</li>
<li><p>On the Shortcut tab:</p>
<ul>
<li><p>Change Target to: <code class="docutils literal notranslate"><span class="pre">ubuntu.exe</span> <span class="pre">run</span> <span class="pre">~/sage_nb.sh</span></code></p></li>
<li><p>Change Start in to: <code class="docutils literal notranslate"><span class="pre">%USERPROFILE%</span></code></p></li>
<li><p>Change Run to: Minimised</p></li>
<li><p>Change the icon if you want</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Now hit the start button or key and type the name you gave it. it should appear in the list, and should load the server and fire up your browser when you click on it.</p>
<hr class="docutils" />
<p>For further reading you can have a look at the other documents in the
SageMath documentation at <a class="reference external" href="http://doc.sagemath.org/">http://doc.sagemath.org/</a>.</p>
</section>
</section>
<section id="setting-up-sagemath-as-a-jupyter-kernel-in-an-existing-jupyter-notebook-or-jupyterlab-installation">
<h2>Setting up SageMath as a Jupyter kernel in an existing Jupyter notebook or JupyterLab installation<a class="headerlink" href="#setting-up-sagemath-as-a-jupyter-kernel-in-an-existing-jupyter-notebook-or-jupyterlab-installation" title="Permalink to this headline">¶</a></h2>
<p>You may already have a global installation of Jupyter.  For added
convenience, it is possible to link your installation of SageMath into
your Jupyter installation, adding it to the list of available kernels
that can be selected in the notebook or JupyterLab interface.</p>
<p>Assuming that SageMath can be invoked by typing <code class="docutils literal notranslate"><span class="pre">sage</span></code>, you can use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sage -sh -c <span class="s1">&#39;ls -d $SAGE_VENV/share/jupyter/kernels/sagemath&#39;</span>
</pre></div>
</div>
<p>to find the location of the SageMath kernel description.</p>
<p>Assuming that the Jupyter notebook can be started by typing <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">notebook</span></code>,
the following command will install SageMath as a new kernel.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jupyter kernelspec install --user <span class="k">$(</span>sage -sh -c <span class="s1">&#39;ls -d $SAGE_VENV/share/jupyter/kernels/sagemath&#39;</span><span class="k">)</span>
</pre></div>
</div>
<p>This installs the kernel under the name <code class="docutils literal notranslate"><span class="pre">sagemath</span></code>.  If you wish to
rename it to something more specific in order to distinguish between
different installations of SageMath, you can use the additional option
<code class="docutils literal notranslate"><span class="pre">--name</span></code>, for example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jupyter kernelspec install --user <span class="k">$(</span>sage -sh -c <span class="s1">&#39;ls -d $SAGE_VENV/share/jupyter/kernels/sagemath&#39;</span><span class="k">)</span> --name sagemath-dev-worktree
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">kernelspec</span></code> approach by default does lead to about 2Gb of
SageMath documentation being copied into your personal jupyter configuration
directory. You can avoid that by instead putting a symlink in the relevant spot.
and</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jupyter --paths
</pre></div>
</div>
<p>to find valid data directories for your Jupyter installation.
A command along the lines of</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ln -s <span class="k">$(</span>sage -sh -c <span class="s1">&#39;ls -d $SAGE_VENV/share/jupyter/kernels/sagemath&#39;</span><span class="k">)</span> <span class="nv">$HOME</span>/.local/share/jupyter
</pre></div>
</div>
<p>can then be used to create a symlink to the SageMath kernel description
in a location where your own <code class="docutils literal notranslate"><span class="pre">jupyter</span></code> can find it.</p>
<p>If you have installed SageMath from source, the alternative command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ln -s <span class="k">$(</span>sage -sh -c <span class="s1">&#39;ls -d $SAGE_ROOT/venv/share/jupyter/kernels/sagemath&#39;</span><span class="k">)</span> <span class="nv">$HOME</span>/.local/share/jupyter
</pre></div>
</div>
<p>creates a symlink that will stay current even if you switch to a different Python version
later.</p>
<p>To get the full functionality of the SageMath kernel in your global
Jupyter installation, the following Notebook Extension packages also
need to be installed (or linked) in the environment from which the
Jupyter installation runs.</p>
<p>You can check the presence of some of these packages using the command
<code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">nbextension</span> <span class="pre">list</span></code>.</p>
<blockquote>
<div><ul>
<li><p>For the Sage interacts, you will need the package
<code class="docutils literal notranslate"><span class="pre">widgetsnbextension</span></code> installed in the Python environment of the
Jupyter installation.  If your Jupyter installation is coming from
the system package manager, it is best to install
<code class="docutils literal notranslate"><span class="pre">widgetsnbextension</span></code> in the same way.  Otherwise, install it
using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<p>To verify that interacts work correctly, you can evaluate the following code
in the notebook:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">@interact</span>
<span class="go">def _(k=slider(vmin=-1.0, vmax= 3.0, step_size=0.1, default=0), auto_update=True):</span>
<span class="go">plot([lambda u:u^2-1, lambda u:u+k], (-2,2),</span>
<span class="go">     ymin=-1, ymax=3, fill={1:[0]}, fillalpha=0.5).show()</span>
</pre></div>
</div>
</li>
<li><p>For 3D graphics using Three.js, by default, internet connectivity
is needed, as SageMath’s custom build of the Javascript package
Three.js is retrieved from a content delivery network.</p>
<p>To verify that online 3D graphics with Three.js works correctly,
you can evaluate the following code in the notebook:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">plot3d(lambda u,v:(u^2+v^2)/4-2,(-2,2),(-2,2)).show()</span>
</pre></div>
</div>
<p>However, it is possible to configure graphics with Three.js for
offline use.  In this case, the Three.js installation from the Sage
distribution needs to be made available in the environment of the
Jupyter installation.  This can be done by copying or symlinking.
The Three.js installation in the environment of the Jupyter
installation must exactly match the version that comes from the
Sage distribution.  It is not supported to use several Jupyter
kernels corresponding to different versions of the Sage distribution.</p>
<p>To verify that offline 3D graphics with Three.js works correctly,
you can evaluate the following code in the notebook:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">plot3d(lambda u,v:(u^2+v^2)/4-2,(-2,2),(-2,2), online=False).show()</span>
</pre></div>
</div>
</li>
<li><p>For 3D graphics using jsmol, you will need the package
<code class="docutils literal notranslate"><span class="pre">jupyter-jsmol</span></code> installed in the Python environment of the
Jupyter installation. You can install it using <code class="docutils literal notranslate"><span class="pre">pip</span></code>.
(Alternatively, you can copy or symlink it.)</p>
<p>To verify that jsmol graphics work correctly, you can evaluate the
following code in the notebook:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">plot3d(lambda u,v:(u^2+v^2)/4-2,(-2,2),(-2,2)).show(viewer=&quot;jmol&quot;)</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Launching SageMath</a><ul>
<li><a class="reference internal" href="#using-a-jupyter-notebook-remotely">Using a Jupyter Notebook remotely</a></li>
<li><a class="reference internal" href="#wsl-post-installation-steps">WSL Post-installation steps</a><ul>
<li><a class="reference internal" href="#create-a-notebook-launch-script">Create a notebook launch script</a></li>
<li><a class="reference internal" href="#create-a-shortcut">Create a shortcut</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-sagemath-as-a-jupyter-kernel-in-an-existing-jupyter-notebook-or-jupyterlab-installation">Setting up SageMath as a Jupyter kernel in an existing Jupyter notebook or JupyterLab installation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="source.html"
                          title="previous chapter">Install from Source Code</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="troubles.html"
                          title="next chapter">Troubleshooting</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/launching.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="troubles.html" title="Troubleshooting"
             >next</a> |</li>
        <li class="right" >
          <a href="source.html" title="Install from Source Code"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="index.html">Installation Guide</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Launching SageMath</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>