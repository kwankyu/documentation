
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>La ligne de commande interactive &#8212; Tutoriel Sage v8.4</title>
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Interfaces" href="interfaces.html" />
    <link rel="prev" title="Quelques mathématiques plus avancées" href="tour_advanced.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
    <script src="_static/thebe.js" type="text/javascript"></script>
    <script src="_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="interfaces.html" title="Interfaces"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="tour_advanced.html" title="Quelques mathématiques plus avancées"
             accesskey="P">précédent</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Tutoriel Sage v8.4</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="la-ligne-de-commande-interactive">
<span id="chapter-interactive-shell"></span><h1>La ligne de commande interactive<a class="headerlink" href="#la-ligne-de-commande-interactive" title="Lien permanent vers ce titre">¶</a></h1>
<p>Dans la plus grande partie de ce tutoriel, nous supposons que vous avez
lancé l’interpréteur Sage avec la commande <code class="docutils literal notranslate"><span class="pre">sage</span></code>. Cela démarre une
version adaptée du shell (interpréteur de commandes) IPython et importe
un grand nombre de fonctions et de classes qui sont ainsi prêtes à
l’emploi depuis l’invite de commande. D’autres personnalisations sont
possibles en éditant le fichier <code class="docutils literal notranslate"><span class="pre">$SAGE_ROOT/ipythonrc</span></code>. Au démarrage,
le shell Sage affiche un message de ce genre :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">----------------------------------------------------------------------</span>
<span class="o">|</span> <span class="n">SAGE</span> <span class="n">Version</span> <span class="mf">3.1</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="n">Release</span> <span class="n">Date</span><span class="p">:</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">24</span>                       <span class="o">|</span>
<span class="o">|</span> <span class="n">Type</span> <span class="n">notebook</span><span class="p">()</span> <span class="k">for</span> <span class="n">the</span> <span class="n">GUI</span><span class="p">,</span> <span class="ow">and</span> <span class="n">license</span><span class="p">()</span> <span class="k">for</span> <span class="n">information</span><span class="o">.</span>        <span class="o">|</span>
<span class="o">----------------------------------------------------------------------</span>


<span class="n">sage</span><span class="p">:</span>
</pre></div>
</div>
<p>Pour quitter Sage, tapez Ctrl-D ou tapez <code class="docutils literal notranslate"><span class="pre">quit</span></code> ou <code class="docutils literal notranslate"><span class="pre">exit</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">quit</span>
<span class="go">Exiting SAGE (CPU time 0m0.00s, Wall time 0m0.89s)</span>
</pre></div>
</div>
<p>L’indication <em>wall time</em> donne le temps écoulé à votre montre (ou
l’horloge suspendue au mur) pendant l’exécution. C’est une donnée
pertinente car le temps processeur (<em>CPU time</em>) ne tient pas compte du
temps utilisé par les sous-processus comme GAP et Singular.</p>
<p>(Il vaut mieux éviter de tuer un processus Sage depuis un terminal avec
<code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">-9</span></code>, car il est possible que Sage ne tue pas ses processus
enfants, par exemple des processus Maple qu’il aurait lancés, ou encore
qu’il ne nettoie pas les fichiers temporaires de
<code class="docutils literal notranslate"><span class="pre">$HOME/.sage/tmp</span></code>.)</p>
<div class="section" id="votre-session-sage">
<h2>Votre session Sage<a class="headerlink" href="#votre-session-sage" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une session est la suite des entrées et sorties qui interviennent entre
le moment où vous démarrez Sage et celui où vous le quittez. Sage
enregistre un journal de toutes les entrées via IPython. Si vous
utilisez le shell interactif (par opposition à l’interface <em>notebook</em>),
vous pouvez taper <code class="docutils literal notranslate"><span class="pre">%history</span></code> (ou <code class="docutils literal notranslate"><span class="pre">%hist</span></code>) à n’importe
quel moment pour obtenir la
liste de toutes les lignes de commandes entrées depuis le début de la
session. Tapez <code class="docutils literal notranslate"><span class="pre">?</span></code> à l’invite de commande Sage pour plus
d’informations sur IPython. Par exemple : « IPython fournit des invites
de commande numérotées […] avec un cache des entrées-sorties. Toutes
les entrées sont sauvegardées et peuvent être rappelées comme variables
(en plus de la navigation habituelle dans l’historique avec les flèches
du clavier). Les variables GLOBALES suivantes existent toujours (ne les
écrasez pas !) » :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="p">:</span> <span class="n">dernière</span> <span class="n">entrée</span> <span class="p">(</span><span class="n">shell</span> <span class="n">et</span> <span class="n">notebook</span><span class="p">)</span>
<span class="n">__</span> <span class="p">:</span> <span class="n">avant</span><span class="o">-</span><span class="n">dernière</span> <span class="n">entrée</span> <span class="p">(</span><span class="n">shell</span> <span class="n">uniquement</span><span class="p">)</span>
<span class="n">_oh</span> <span class="p">:</span> <span class="n">liste</span> <span class="n">de</span> <span class="n">toutes</span> <span class="n">les</span> <span class="n">entrées</span> <span class="n">précédentes</span> <span class="p">(</span><span class="n">shell</span> <span class="n">uniquement</span><span class="p">)</span>
</pre></div>
</div>
<p>Voici un exemple :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">factor</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go"> _1 = 2^2 * 5^2</span>
<span class="gp">sage: </span><span class="n">kronecker_symbol</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go"> _2 = -1</span>
<span class="gp">sage: </span><span class="o">%</span><span class="n">hist</span>   <span class="c1">#Fonctionne depuis le shell mais pas depuis le notebook.</span>
<span class="go">1: factor(100)</span>
<span class="go">2: kronecker_symbol(3,5)</span>
<span class="go">3: %hist</span>
<span class="gp">sage: </span><span class="n">_oh</span>
<span class="go"> _4 = {1: 2^2 * 5^2, 2: -1}</span>
<span class="gp">sage: </span><span class="n">_i1</span>
<span class="go"> _5 = &#39;factor(ZZ(100))\n&#39;</span>
<span class="gp">sage: </span><span class="nb">eval</span><span class="p">(</span><span class="n">_i1</span><span class="p">)</span>
<span class="go"> _6 = 2^2 * 5^2</span>
<span class="gp">sage: </span><span class="o">%</span><span class="n">hist</span>
<span class="go">1: factor(100)</span>
<span class="go">2: kronecker_symbol(3,5)</span>
<span class="go">3: %hist</span>
<span class="go">4: _oh</span>
<span class="go">5: _i1</span>
<span class="go">6: eval(_i1)</span>
<span class="go">7: %hist</span>
</pre></div>
</div>
<p>Dans la suite de ce tutoriel et le reste de la documentation de Sage,
nous omettrons la numérotation des sorties.</p>
<p>Il est possible de créer (pour la durée d’une session) une macro qui
rappelle une liste de plusieurs lignes d’entrée.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">EllipticCurve</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ModularSymbols</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span>
<span class="gp">sage: </span><span class="o">%</span><span class="n">hist</span>
<span class="go">1: E = EllipticCurve([1,2,3,4,5])</span>
<span class="go">2: M = ModularSymbols(37)</span>
<span class="go">3: %hist</span>
<span class="gp">sage: </span><span class="o">%</span><span class="n">macro</span> <span class="n">em</span> <span class="mi">1</span><span class="o">-</span><span class="mi">2</span>
<span class="go">Macro `em` created. To execute, type its name (without quotes).</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span>
<span class="go">Elliptic Curve defined by y^2 + x*y + 3*y = x^3 + 2*x^2 + 4*x + 5 over</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">sage: </span><span class="n">em</span>
<span class="go">Executing Macro...</span>
<span class="gp">sage: </span><span class="n">E</span>
<span class="go">Elliptic Curve defined by y^2 + x*y + 3*y = x^3 + 2*x^2 + 4*x + 5 over</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
<p>Depuis le shell interactif Sage, il est possible d’exécuter une commande
Unix en la faisant précéder d’un point d’exclamation <code class="docutils literal notranslate"><span class="pre">!</span></code>. Par exemple,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: !ls
auto  example.sage glossary.tex  t  tmp  tut.log  tut.tex
</pre></div>
</div>
<p>renvoie la liste des fichiers du répertoire courant.</p>
<p>Dans ce contexte, le <code class="docutils literal notranslate"><span class="pre">PATH</span></code> commence par le répertoire des binaires
de Sage, de sorte que les commandes <code class="docutils literal notranslate"><span class="pre">gp</span></code>, <code class="docutils literal notranslate"><span class="pre">gap</span></code>, <code class="docutils literal notranslate"><span class="pre">singular</span></code>,
<code class="docutils literal notranslate"><span class="pre">maxima</span></code>, etc. appellent les versions inclues dans Sage.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: !gp
Reading GPRC: /etc/gprc ...Done.

                           GP/PARI CALCULATOR Version 2.2.11 (alpha)
                  i686 running linux (ix86/GMP-4.1.4 kernel) 32-bit version
...
sage: !singular
                     SINGULAR                             /  Development
 A Computer Algebra System for Polynomial Computations   /   version 3-0-1
                                                       0&lt;
     by: G.-M. Greuel, G. Pfister, H. Schoenemann        \   October 2005
FB Mathematik der Universitaet, D-67653 Kaiserslautern    \
</pre></div>
</div>
</div>
<div class="section" id="journal-des-entrees-sorties">
<h2>Journal des entrées-sorties<a class="headerlink" href="#journal-des-entrees-sorties" title="Lien permanent vers ce titre">¶</a></h2>
<p>Enregistrer le journal d’une session Sage n’est pas la même chose que
sauvegarder la session (voir <a class="reference internal" href="#section-save"><span class="std std-ref">Enregister et recharger des sessions entières</span></a> pour cette possibilité).
Pour tenir un journal des entrées (et optionnellement des sorties) de
Sage, utilisez la commande <code class="docutils literal notranslate"><span class="pre">logstart</span></code>. Tapez <code class="docutils literal notranslate"><span class="pre">logsatart?</span></code> pour plus
d’informations. Cette commande permet d’enregistrer toutes les entrées que
vous tapez, toutes les sorties, et de rejouer ces entrées dans une
session future (en rechargeant le fichier journal).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>was@form:~$ sage
----------------------------------------------------------------------
| SAGE Version 3.0.2, Release Date: 2008-05-24                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------

sage: logstart setup
Activating auto-logging. Current session state plus future input saved.
Filename       : setup
Mode           : backup
Output logging : False
Timestamping   : False
State          : active
sage: E = EllipticCurve([1,2,3,4,5]).minimal_model()
sage: F = QQ^3
sage: x,y = QQ[&#39;x,y&#39;].gens()
sage: G = E.gens()
sage:
Exiting SAGE (CPU time 0m0.61s, Wall time 0m50.39s).
was@form:~$ sage
----------------------------------------------------------------------
| SAGE Version 3.0.2, Release Date: 2008-05-24                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------

sage: load(&quot;setup&quot;)
Loading log file &lt;setup&gt; one line at a time...
Finished replaying log file &lt;setup&gt;
sage: E
Elliptic Curve defined by y^2 + x*y  = x^3 - x^2 + 4*x + 3 over Rational
Field
sage: x*y
x*y
sage: G
[(2 : 3 : 1)]
</pre></div>
</div>
<p>Si vous utilisez le terminal Konsole de KDE, vous pouvez aussi sauver votre
session comme suit : après avoir lancé Sage dans la <code class="docutils literal notranslate"><span class="pre">konsole</span></code>, ouvrez
le menu « Configuration » et choisissez « Historique… » puis comme
nombre de lignes « Illimité ». Ensuite, lorsque vous souhaitez
enregistrer l’état de votre session, sélectionnez « Enregistrer
l’historique sous… » dans le menu « Édition » et entrez le nom d’un
fichier où enregistrer le texte de votre session. Une fois le fichier
sauvegardé, vous pouvez par exemple l’ouvrir dans un éditeur comme xemacs et
l’imprimer.</p>
</div>
<div class="section" id="coller-du-texte-ignore-les-invites">
<h2>Coller du texte ignore les invites<a class="headerlink" href="#coller-du-texte-ignore-les-invites" title="Lien permanent vers ce titre">¶</a></h2>
<p>Imaginons que vous lisiez une session Sage ou Python et que vous vouliez
copier-coller les calculs dans Sage. Le problème est qu’il y a des
invites <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> ou <code class="docutils literal notranslate"><span class="pre">sage:</span></code> en plus des entrées. En fait, vous pouvez
tout à fait copier un exemple complet, invites comprises : par défaut,
l’analyseur syntaxique de Sage supprime les <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> et <code class="docutils literal notranslate"><span class="pre">sage:</span></code> en
début de ligne avant de passer la ligne à Python. Par exemple, les
lignes suivantes sont interprétées correctement :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">2</span><span class="o">^</span><span class="mi">10</span>
<span class="go">1024</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="p">:</span> <span class="n">sage</span><span class="p">:</span> <span class="mi">2</span><span class="o">^</span><span class="mi">10</span>
<span class="go">1024</span>
<span class="gp">sage: </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="o">^</span><span class="mi">10</span>
<span class="go">1024</span>
</pre></div>
</div>
</div>
<div class="section" id="mesure-du-temps-d-execution-d-une-commande">
<h2>Mesure du temps d’exécution d’une commande<a class="headerlink" href="#mesure-du-temps-d-execution-d-une-commande" title="Lien permanent vers ce titre">¶</a></h2>
<p>Si une ligne d’entrée commence par <code class="docutils literal notranslate"><span class="pre">%time</span></code>, le temps d’exécution de la
commande correspondante est affiché après la sortie. Nous pouvons par
exemple comparer le temps que prend le calcul d’une certaine puissance
entière par diverses méthodes. Les temps de calcul ci-dessous seront
sans doute très différents suivant l’ordinateur, voire la version de
Sage utilisés. Premièrement, en pur Python :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="n">time</span> <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1938</span><span class="p">)</span><span class="o">^</span><span class="nb">int</span><span class="p">(</span><span class="mi">99484</span><span class="p">)</span>
<span class="go">CPU times: user 0.66 s, sys: 0.00 s, total: 0.66 s</span>
<span class="go">Wall time: 0.66</span>
</pre></div>
</div>
<p>Le calcul a pris 0.66 seconde, pendant un intervalle de <em>wall time</em> (le
temps de votre montre) lui aussi de 0.66 seconde. Si d’autres programmes
qui s’exécutent en même temps que Sage chargent l’ordinateur avec de gros
calculs, le <em>wall time</em> peut être nettement plus important que le temps
processeur.</p>
<p>Chronométrons maintenant le calcul de la même puissance avec le type
Integer de Sage, qui est implémenté (en Cython) en utilisant la
bibliothèque GMP :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="n">time</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1938</span><span class="o">^</span><span class="mi">99484</span>
<span class="go">CPU times: user 0.04 s, sys: 0.00 s, total: 0.04 s</span>
<span class="go">Wall time: 0.04</span>
</pre></div>
</div>
<p>Avec l’interface à la bibliothèque C PARI :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="n">time</span> <span class="n">a</span> <span class="o">=</span> <span class="n">pari</span><span class="p">(</span><span class="mi">1938</span><span class="p">)</span><span class="o">^</span><span class="n">pari</span><span class="p">(</span><span class="mi">99484</span><span class="p">)</span>
<span class="go">CPU times: user 0.05 s, sys: 0.00 s, total: 0.05 s</span>
<span class="go">Wall time: 0.05</span>
</pre></div>
</div>
<p>GMP est plus rapide, mais de peu (ce n’est pas une surprise, car la
version de PARI incluse dans Sage utilise GMP pour l’arithmétique
entière).</p>
<p>Il est aussi possible de chronométrer tout un bloc de commandes avec la
commande <code class="docutils literal notranslate"><span class="pre">cputime</span></code>, comme dans l’exemple suivant :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">cputime</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1938</span><span class="p">)</span><span class="o">^</span><span class="nb">int</span><span class="p">(</span><span class="mi">99484</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="mi">1938</span><span class="o">^</span><span class="mi">99484</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">pari</span><span class="p">(</span><span class="mi">1938</span><span class="p">)</span><span class="o">^</span><span class="n">pari</span><span class="p">(</span><span class="mi">99484</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cputime</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>                       <span class="c1">#random</span>
<span class="go">0.64</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: cputime?
...
    Return the time in CPU second since SAGE started, or with optional
    argument t, return the time since time t.
    INPUT:
        t -- (optional) float, time in CPU seconds
    OUTPUT:
        float -- time in CPU seconds
</pre></div>
</div>
<p>La commande <code class="docutils literal notranslate"><span class="pre">walltime</span></code> fonctionne comme <code class="docutils literal notranslate"><span class="pre">cputime</span></code>, à ceci près
qu’elle mesure le temps total écoulé « à la montre ».</p>
<p>Nous pouvons aussi faire faire le calcul de puissance ci-dessus à chacun
des systèmes de calcul formel inclus dans Sage. Dans chaque cas, nous
commençons par lancer une commande triviale dans le système en question,
de façon à démarrer son serveur. La mesure la plus pertinente est le
<em>wall time</em>. Cependant, si la différence entre celui-ci et le temps
processeur est importante, cela peut indiquer un problème de performance
qui mérite d’être examiné.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">time</span> <span class="mi">1938</span><span class="o">^</span><span class="mi">99484</span><span class="p">;</span>
<span class="go">CPU times: user 0.01 s, sys: 0.00 s, total: 0.01 s</span>
<span class="go">Wall time: 0.01</span>
<span class="gp">sage: </span><span class="n">gp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">time</span> <span class="n">g</span> <span class="o">=</span> <span class="n">gp</span><span class="p">(</span><span class="s1">&#39;1938^99484&#39;</span><span class="p">)</span>
<span class="go">CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s</span>
<span class="go">Wall time: 0.04</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">time</span> <span class="n">g</span> <span class="o">=</span> <span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;1938^99484&#39;</span><span class="p">)</span>
<span class="go">CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s</span>
<span class="go">Wall time: 0.30</span>
<span class="gp">sage: </span><span class="n">kash</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">time</span> <span class="n">g</span> <span class="o">=</span> <span class="n">kash</span><span class="p">(</span><span class="s1">&#39;1938^99484&#39;</span><span class="p">)</span>
<span class="go">CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s</span>
<span class="go">Wall time: 0.04</span>
<span class="gp">sage: </span><span class="n">mathematica</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">        0</span>
<span class="gp">sage: </span><span class="n">time</span> <span class="n">g</span> <span class="o">=</span> <span class="n">mathematica</span><span class="p">(</span><span class="s1">&#39;1938^99484&#39;</span><span class="p">)</span>
<span class="go">CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s</span>
<span class="go">Wall time: 0.03</span>
<span class="gp">sage: </span><span class="n">maple</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">time</span> <span class="n">g</span> <span class="o">=</span> <span class="n">maple</span><span class="p">(</span><span class="s1">&#39;1938^99484&#39;</span><span class="p">)</span>
<span class="go">CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s</span>
<span class="go">Wall time: 0.11</span>
<span class="gp">sage: </span><span class="n">gap</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">time</span> <span class="n">g</span> <span class="o">=</span> <span class="n">gap</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;1938^99484;;&#39;</span><span class="p">)</span>
<span class="go">CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s</span>
<span class="go">Wall time: 1.02</span>
</pre></div>
</div>
<p>Nous voyons que GAP et Maxima sont les plus lents sur ce test (lancé sur
la machine <code class="docutils literal notranslate"><span class="pre">sage.math.washington.edu</span></code>). Mais en raison du surcoût de
l’interface pexpect, la comparaison avec Sage, qui est le plus rapide,
n’est pas vraiment équitable.</p>
</div>
<div class="section" id="trucs-et-astuces-ipython">
<h2>Trucs et astuces IPython<a class="headerlink" href="#trucs-et-astuces-ipython" title="Lien permanent vers ce titre">¶</a></h2>
<p>Comme signalé plus haut, Sage utilise l’interpréteur de commandes IPython, et
met donc à votre disposition toutes les commandes et fonctionnalités de
celui-ci. Vous voudrez peut-être consulter la <a class="reference external" href="http://ipython.scipy.org/moin/Documentation">documentation complète de IPython</a>. Voici en attendant quelques
astuces utiles – qui reposent sur ce que IPython appelle des « commandes
magiques » :</p>
<ul>
<li><p class="first">La commande magique <code class="docutils literal notranslate"><span class="pre">%bg</span></code> lance une commande en arrière-plan. Le résultat
sera ensuite accessible à travers l’objet <code class="docutils literal notranslate"><span class="pre">jobs</span></code>, comme dans l’exemple
ci-dessous. (Les commentaires « not tested » sont là parce que <code class="docutils literal notranslate"><span class="pre">%bg</span></code> ne
fonctionne pas correctement dans l’infrastructure de test automatisé de Sage,
mais si vous reproduisez l’exemple, il devrait fonctionner comme indiqué.
Naturellement, <code class="docutils literal notranslate"><span class="pre">%bg</span></code> est surtout utile pour les commandes dont l’exécution
prend beaucoup de temps.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">quick</span><span class="p">(</span><span class="n">m</span><span class="p">):</span> <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">m</span>
<span class="gp">sage: </span><span class="o">%</span><span class="n">bg</span> <span class="n">quick</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="go">Starting job # 0 in a separate thread.</span>
<span class="gp">sage: </span><span class="n">jobs</span><span class="o">.</span><span class="n">status</span><span class="p">()</span>  <span class="c1"># not tested</span>
<span class="go">Completed jobs:</span>
<span class="go">0 : quick(20)</span>
<span class="gp">sage: </span><span class="n">jobs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">result</span>  <span class="c1"># the actual answer, not tested</span>
<span class="go">40</span>
</pre></div>
</div>
<p>Attention, les tâches lancées en arrière-plan ignorent le préprocesseur Sage
(voir section <a class="reference internal" href="afterword.html#section-mathannoy"><span class="std std-ref">Le préprocesseur Sage et les différences entre Sage et Python</span></a>). Une manière (certes pas très
commode) de contourner le problème est la suivante</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="n">bg</span> <span class="nb">eval</span><span class="p">(</span><span class="n">preparse</span><span class="p">(</span><span class="s1">&#39;quick(20)&#39;</span><span class="p">))</span> <span class="c1"># not tested</span>
</pre></div>
</div>
<p>Mais il est plus simple et plus sûr de réserver <code class="docutils literal notranslate"><span class="pre">%bg</span></code> aux commandes en pur
Python, qui ne font pas appel au préprocesseur.</p>
</li>
<li><p class="first">Lorsque l’on souhaite saisir un morceau de code complexe, on peut utiliser
<code class="docutils literal notranslate"><span class="pre">%edit</span></code> (ou <code class="docutils literal notranslate"><span class="pre">%ed</span></code>, ou <code class="docutils literal notranslate"><span class="pre">ed</span></code>) pour ouvrir un éditeur de texte.
Assurez-vous que la variable d’environnement <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">EDITOR</span></code> est réglée à
votre éditeur favori au démarrage de Sage (en plaçant si nécessaire quelque
chose du genre <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">EDITOR=/usr/bin/emacs</span></code> ou encore  <code class="docutils literal notranslate"><span class="pre">export</span>
<span class="pre">EDITOR=/usr/bin/vim</span></code> dans un fichier de configuration convenable, par
exemple <code class="docutils literal notranslate"><span class="pre">.profile</span></code>). La commande <code class="docutils literal notranslate"><span class="pre">%edit</span></code> à l’invite de Sage ouvrira
l’éditeur sélectionné. Vous pouvez alors par exemple saisir une définition de
fonction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">some_function</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">2</span>
</pre></div>
</div>
<p>puis enregistrer le fichier et quitter l’éditeur. La fonction
<code class="docutils literal notranslate"><span class="pre">some_function</span></code> est désormais disponible dans votre session Sage, et vous
pouvez la modifier en saisissant <code class="docutils literal notranslate"><span class="pre">edit</span> <span class="pre">some_function</span></code> à l’invite de
commande.</p>
</li>
<li><p class="first">Si vous souhaitez reprendre une version modifiée du résultat d’un calcul dans
une nouvelle commande, tapez <code class="docutils literal notranslate"><span class="pre">%rep</span></code> après avoir fait le calcul. Cela
récupère le texte du résultat et le place sur la ligne de commande, prêt à
être modifié.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">-sin(x)</span>
</pre></div>
</div>
<p>Ainsi, après les commandes ci-dessus, la commande <code class="docutils literal notranslate"><span class="pre">%rep</span></code> fournit un nouvel
invite de commande pré-rempli avec le texte <code class="docutils literal notranslate"><span class="pre">-sin(x)</span></code> et le curseur en fin
de ligne.</p>
</li>
</ul>
<p>Pour plus d’information, entrez la commande <code class="docutils literal notranslate"><span class="pre">%quickref</span></code> pour un résumé des
possibilités de IPython. Au moment où cette documentation est écrite
(avril 2011), Sage emploie IPython 0.9.1. La <a class="reference external" href="http://ipython.org/ipython-doc/dev/interactive/tutorial.html#magic-functions">documentation des commandes
magiques</a>
est disponible en ligne, et divers aspects un peu plus avancés de leur
fonctionnement sont décrits <a class="reference external" href="http://ipython.org/ipython-doc/stable/interactive/reference.html#magic-command-system">ici</a>.</p>
</div>
<div class="section" id="erreurs-et-exceptions">
<h2>Erreurs et exceptions<a class="headerlink" href="#erreurs-et-exceptions" title="Lien permanent vers ce titre">¶</a></h2>
<p>Quand quelque chose ne marche pas, cela se manifeste habituellement par
une « exception » Python. Python essaie de plus de donner une idée de ce
qui a pu déclencher l’exception. Bien souvent, il affiche le nom de
l’exception (par exemple <code class="docutils literal notranslate"><span class="pre">NameError</span></code> ou <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, voir le manuel
de référence de Python <a class="reference internal" href="bibliography.html#py" id="id1">[Py]</a> pour une liste complète). Par exemple :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">3</span><span class="n">_2</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">   File &quot;&lt;console&gt;&quot;, line 1</span>
<span class="go">     ZZ(3)_2</span>
<span class="go">           ^</span>
<span class="go">SyntaxError: invalid syntax</span>

<span class="gp">sage: </span><span class="n">EllipticCurve</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">infinity</span><span class="p">])</span>
<span class="go">------------------------------------------------------------</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">Unable to coerce Infinity (&lt;class &#39;sage...Infinity&#39;&gt;) to Rational</span>
</pre></div>
</div>
<p>Le débogueur interactif est parfois utile pour comprendre ce qu’il s’est
passé. Il s’active ou se désactive avec <code class="docutils literal notranslate"><span class="pre">%pdb</span></code> (et est désactivé par
défaut). L’invite <code class="docutils literal notranslate"><span class="pre">ipdb&gt;&gt;</span></code> du débogueur apparaît si une exception a
lieu alors que celui-ci est actif. Le débogueur permet d’afficher l’état
de n’importe quelle variable locale et de monter ou descendre dans la
pile d’exécution. Par exemple :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="n">pdb</span>
<span class="go">Automatic pdb calling has been turned ON</span>
<span class="gp">sage: </span><span class="n">EllipticCurve</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="n">infinity</span><span class="p">])</span>
<span class="go">---------------------------------------------------------------------------</span>
<span class="go">&lt;type &#39;exceptions.TypeError&#39;&gt;             Traceback (most recent call last)</span>
<span class="gp">...</span>

<span class="go">ipdb&gt;</span>
</pre></div>
</div>
<p>Pour obtenir une liste des commandes disponibles dans le débogueur,
tapez <code class="docutils literal notranslate"><span class="pre">?</span></code> à l’invite <code class="docutils literal notranslate"><span class="pre">ipdb&gt;</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ipdb&gt; ?

Documented commands (type help &lt;topic&gt;):
========================================
EOF    break  commands   debug    h       l     pdef   quit    tbreak
a      bt     condition  disable  help    list  pdoc   r       u
alias  c      cont       down     ignore  n     pinfo  return  unalias
args   cl     continue   enable   j       next  pp     s       up
b      clear  d          exit     jump    p     q      step    w
whatis where

Miscellaneous help topics:
==========================
exec  pdb

Undocumented commands:
======================
retval  rv
</pre></div>
</div>
<p>Tapez Ctrl-D ou <code class="docutils literal notranslate"><span class="pre">quit</span></code> pour revenir à Sage.</p>
</div>
<div class="section" id="recherche-en-arriere-et-completion-de-ligne-de-commande">
<span id="section-tabcompletion"></span><h2>Recherche en arrière et complétion de ligne de commande<a class="headerlink" href="#recherche-en-arriere-et-completion-de-ligne-de-commande" title="Lien permanent vers ce titre">¶</a></h2>
<p>Commençons par créer l’espace vectoriel de dimension trois
<span class="math notranslate nohighlight">\(V=\QQ^3\)</span> comme suit :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
<p>Nous pouvons aussi utiliser la variante plus concise :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
</pre></div>
</div>
<p>Tapez ensuite le début d’une commande, puis <code class="docutils literal notranslate"><span class="pre">Ctrl-p</span></code> (ou flèche vers
le haut) pour passer en revue les lignes qui commencent par les mêmes
lettres parmi celles que vous avez entrées jusque-là. Cela fonctionne
même si vous avez quitté et relancé Sage entre-temps. Vous pouvez aussi
rechercher une portion de commande en remontant dans l’historique avec
<code class="docutils literal notranslate"><span class="pre">Ctrl-r</span></code>. Toutes ces fonctionnalités reposent sur la bibliothèque
<code class="docutils literal notranslate"><span class="pre">readline</span></code>, qui existe pour la plupart des variantes de Linux.</p>
<p>La complétion de ligne de commande permet d’obtenir facilement la liste
des fonctions membres de <span class="math notranslate nohighlight">\(V\)</span> : tapez simplement <code class="docutils literal notranslate"><span class="pre">V.</span></code> puis
appuyez sur la touche tabulation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="p">[</span><span class="n">tab</span> <span class="n">key</span><span class="p">]</span>
<span class="go">V._VectorSpace_generic__base_field</span>
<span class="gp">...</span>
<span class="go">V.ambient_space</span>
<span class="go">V.base_field</span>
<span class="go">V.base_ring</span>
<span class="go">V.basis</span>
<span class="go">V.coordinates</span>
<span class="gp">...</span>
<span class="go">V.zero_vector</span>
</pre></div>
</div>
<p>Si vous tapez les quelques premières lettres d’un nom de fonction avant
d’appuyer sur <code class="docutils literal notranslate"><span class="pre">tab</span></code>, vous n’obtiendrez que les fonctions qui
commencent par ces quelques lettres :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">i</span><span class="p">[</span><span class="n">tab</span> <span class="n">key</span><span class="p">]</span>
<span class="go">V.is_ambient  V.is_dense    V.is_full     V.is_sparse</span>
</pre></div>
</div>
<p>Si vous cherchez à savoir ce que fait une fonction, par exemple la
fonction coordinates, <code class="docutils literal notranslate"><span class="pre">V.coordinates?</span></code> affiche un message d’aide et
<code class="docutils literal notranslate"><span class="pre">V.coordinates??</span></code> le code source de la fonction, comme expliqué dans
la section suivante.</p>
</div>
<div class="section" id="aide-en-ligne">
<h2>Aide en ligne<a class="headerlink" href="#aide-en-ligne" title="Lien permanent vers ce titre">¶</a></h2>
<p>Sage dispose d’un système d’aide intégré. Pour obtenir la documentation
d’une fonction, tapez son nom suivi d’un point d’interrogation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: V = QQ^3
sage: V.coordinates?
Type:           instancemethod
Base Class:     &lt;type &#39;instancemethod&#39;&gt;
String Form:    &lt;bound method FreeModule_ambient_field.coordinates of Vector
space of dimension 3 over Rational Field&gt;
Namespace:      Interactive
File:           /home/was/s/local/lib/python2.4/site-packages/sage/modules/f
ree_module.py
Definition:     V.coordinates(self, v)
Docstring:
    Write v in terms of the basis for self.

    Returns a list c such that if B is the basis for self, then

            sum c_i B_i = v.

    If v is not in self, raises an ArithmeticError exception.

    EXAMPLES:
        sage: M = FreeModule(IntegerRing(), 2); M0,M1=M.gens()
        sage: W = M.submodule([M0 + M1, M0 - 2*M1])
        sage: W.coordinates(2*M0-M1)
        [2, -1]
</pre></div>
</div>
<p>Comme nous pouvons le voir ci-dessus, la sortie indique le type de
l’objet, le nom du fichier où il est défini, et donne une description
de l’effet de la fonction, avec des exemples que vous pouvez copier dans
votre session Sage. Pratiquement tous ces exemples sont automatiquement
testés régulièrement pour s’assurer qu’ils se comportent exactement
comme indiqué.</p>
<p>Une autre fonctionnalité, nettement dans l’esprit du caractère ouvert de
Sage, est que lorsque <code class="docutils literal notranslate"><span class="pre">f</span></code> est une fonction Python, taper <code class="docutils literal notranslate"><span class="pre">f??</span></code>
affiche son code source. Par exemple,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: V = QQ^3
sage: V.coordinates??
Type:           instancemethod
...
Source:
def coordinates(self, v):
        &quot;&quot;&quot;
        Write $v$ in terms of the basis for self.
        ...
        &quot;&quot;&quot;
        return self.coordinate_vector(v).list()
</pre></div>
</div>
<p>Nous voyons que la fonction <code class="docutils literal notranslate"><span class="pre">coordinates</span></code> ne fait qu’appeler
<code class="docutils literal notranslate"><span class="pre">coordinate_vector</span></code> et transformer le résultat en une liste. Mais alors,
que fait la fonction <code class="docutils literal notranslate"><span class="pre">coordinate_vector</span></code> ?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: V = QQ^3
sage: V.coordinate_vector??
...
def coordinate_vector(self, v):
        ...
        return self.ambient_vector_space()(v)
</pre></div>
</div>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">coordinate_vector</span></code> convertit son entrée en un élément de
l’espace ambiant, ce qui a pour effet de calculer le vecteur des
coefficients de  <span class="math notranslate nohighlight">\(v\)</span> dans <span class="math notranslate nohighlight">\(V\)</span>. L’espace <span class="math notranslate nohighlight">\(V\)</span> est déjà
« l’espace ambiant » puisque c’est simplement <span class="math notranslate nohighlight">\(\QQ^3\)</span>. Il y
a aussi une fonction <code class="docutils literal notranslate"><span class="pre">coordinate_vector</span></code> différente pour les
sous-espaces. Créons un sous-espace et examinons-là :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: V = QQ^3; W = V.span_of_basis([V.0, V.1])
sage: W.coordinate_vector??
...
def coordinate_vector(self, v):
        &quot;&quot;&quot;
         ...
        &quot;&quot;&quot;
        # First find the coordinates of v wrt echelon basis.
        w = self.echelon_coordinate_vector(v)
        # Next use transformation matrix from echelon basis to
        # user basis.
        T = self.echelon_to_user_matrix()
        return T.linear_combination_of_rows(w)
</pre></div>
</div>
<p>(Si vous pensez que cette implémentation est inefficace, venez nous
aider à optimiser l’algèbre linéaire !)</p>
<p>Vous pouvez aussi taper <code class="docutils literal notranslate"><span class="pre">help(commande)</span></code> ou <code class="docutils literal notranslate"><span class="pre">help(classe)</span></code> pour
appeler une sorte de page de manuel relative à une commande ou une
classe.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">help</span><span class="p">(</span><span class="n">VectorSpace</span><span class="p">)</span>
<span class="go">Help on class VectorSpace ...</span>

<span class="go">class VectorSpace(__builtin__.object)</span>
<span class="go"> |  Create a Vector Space.</span>
<span class="go"> |</span>
<span class="go"> |  To create an ambient space over a field with given dimension</span>
<span class="go"> |  using the calling syntax ...</span>
<span class="go"> :</span>
<span class="go"> :</span>
</pre></div>
</div>
<p>Pour quitter la page d’aide, appuyez sur <code class="docutils literal notranslate"><span class="pre">q</span></code>. Votre session revient à
l’écran comme elle était : contrairement à la sortie de <code class="docutils literal notranslate"><span class="pre">fonction?</span></code>,
celle de <code class="docutils literal notranslate"><span class="pre">help</span></code> n’encombre pas votre session. Une possibilité
particulièrement utile est de consulter l’aide d’un module entier avec
<code class="docutils literal notranslate"><span class="pre">help(nom_du_module</span></code>. Par exemple, les espaces vectoriels sont définis
dans  <code class="docutils literal notranslate"><span class="pre">sage.modules.free_module</span></code>, et on accède à la documentation de
ce module en tapant <code class="docutils literal notranslate"><span class="pre">help(sage.modules.free_module)</span></code>. Lorsque vous
lisez une page de documentation avec la commande <code class="docutils literal notranslate"><span class="pre">help</span></code>, vous pouvez
faire des recherches en avant en tapant <code class="docutils literal notranslate"><span class="pre">/</span></code> et en arrière en tapant
<code class="docutils literal notranslate"><span class="pre">?</span></code>.</p>
</div>
<div class="section" id="enregistrer-et-charger-des-objets-individuellement">
<h2>Enregistrer et charger des objets individuellement<a class="headerlink" href="#enregistrer-et-charger-des-objets-individuellement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Imaginons que nous calculions une matrice, ou pire, un espace compliqué
de symboles modulaires, et que nous souhaitions les sauvegarder pour
un usage futur. Les systèmes de calcul formel ont différentes approches
pour permettre cela.</p>
<ol class="arabic simple">
<li><strong>Sauver la partie :</strong> il n’est possible de sauver que la session
entière (p.ex. GAP, Magma).</li>
<li><strong>Format d’entrée/sortie unifié :</strong> chaque objet est
affiché sous une forme qui peut être relue (GP/PARI).</li>
<li><strong>Eval :</strong> permettre d’évaluer facilement du code arbitraire dans
l’interpréteur (p.ex. Singular, PARI).</li>
</ol>
<p>Utilisant Python, Sage adopte une approche différente, à savoir que tous
les objets peuvent être sérialisés, i.e. transformés en chaînes de
caractères à partir desquelles ils peuvent être reconstruits. C’est une
méthode semblable dans l’esprit à l’unification des entrées et sorties
de PARI, avec l’avantage que l’affichage normal des objets n’a pas
besoin d’être trop compliqué. En outre, cette fonction de sauvegarde et
de relecture des objets ne nécessite (dans la plupart des cas) aucune
programmation supplémentaire : il s’agit simplement une fonctionnalité de
Python fournie par le langage depuis la base.</p>
<p>Quasiment n’importe quel objet Sage <code class="docutils literal notranslate"><span class="pre">x</span></code> peut être enregistré sur le
disque, dans un format compressé, avec <code class="docutils literal notranslate"><span class="pre">save(x,</span> <span class="pre">nom_de_fichier)</span></code> (ou
dans bien des cas <code class="docutils literal notranslate"><span class="pre">x.save(nom_de_fichier)</span></code>). Pour recharger les
objets, on utilise <code class="docutils literal notranslate"><span class="pre">load(nom_de_fichier)</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[ 15  18  21]</span>
<span class="go">[ 42  54  66]</span>
<span class="go">[ 69  90 111]</span>
<span class="gp">sage: </span><span class="n">save</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Quittez puis redémarrez maintenant Sage. Vous pouvez récupérer <code class="docutils literal notranslate"><span class="pre">A</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[ 15  18  21]</span>
<span class="go">[ 42  54  66]</span>
<span class="go">[ 69  90 111]</span>
</pre></div>
</div>
<p>Vous pouvez faire de même avec des objets plus compliqués, par exemple
des courbes elliptiques. Toute l’information en cache sur l’objet est
stockée avec celui-ci :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">EllipticCurve</span><span class="p">(</span><span class="s1">&#39;11a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">E</span><span class="o">.</span><span class="n">anlist</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>              <span class="c1"># prend un moment</span>
<span class="gp">sage: </span><span class="n">save</span><span class="p">(</span><span class="n">E</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">quit</span>
</pre></div>
</div>
<p>Ainsi, la version sauvegardée de <code class="docutils literal notranslate"><span class="pre">E</span></code> prend 153 kilo-octets car elle
contient les 100000 premiers <span class="math notranslate nohighlight">\(a_n\)</span>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/tmp$ ls -l E.sobj
-rw-r--r--  1 was was 153500 2006-01-28 19:23 E.sobj
~/tmp$ sage [...]
sage: E = load(&#39;E&#39;)
sage: v = E.anlist(100000)              # instantané !
</pre></div>
</div>
<p>(En Python, les sauvegardes et rechargements s’effectuent à l’aide du
module <code class="docutils literal notranslate"><span class="pre">cPickle</span></code>. En particulier, on peut sauver un objet Sage <code class="docutils literal notranslate"><span class="pre">x</span></code>
par la commande <code class="docutils literal notranslate"><span class="pre">cPickle.dumps(x,</span> <span class="pre">2)</span></code>.  Attention au <code class="docutils literal notranslate"><span class="pre">2</span></code> !)</p>
<p>Sage n’est pas capable de sauvegarder les objets créés dans d’autres systèmes
de calcul formel comme GAP, Singular, Maxima etc. : au rechargement, ils
sont dans un état marqué « invalide ». Concernant GAP, un certain
nombre d’objets sont affichés sous une forme qui permet de les
reconstruire, mais d’autres non, aussi la reconstruction d’objets GAP
à partir de leur affichage est intentionnellement interdite.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">gap</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The session in which this object was defined is no longer</span>
<span class="go">running.</span>
</pre></div>
</div>
<p>Les objets GP/PARI, en revanche, peuvent être sauvegardés et rechargés,
puisque la forme imprimée d’un objet suffit à reconstruire celui-ci.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">gp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Un objet sauvegardé peut être rechargé y compris sur un ordinateur doté
d’une architecture ou d’un système d’exploitation différent. Ainsi, il
est possible de sauvegarder une immense matrice sur un OS-X 32 bits, la
recharger sur un Linux 64 bits, l’y mettre en forme échelon et rapatrier
le résultat. Bien souvent, un objet peut même être rechargé avec une
version de Sage différente de celle utilisée pour le sauver, pourvu que
le code qui gère cet objet n’ait pas trop changé d’une version sur
l’autre. Sauver un objet enregistre tous ses attributs ainsi que la
classe à laquelle il appartient (mais pas son code source). Si cette
classe n’existe plus dans une version ultérieure de Sage, l’objet ne
peut pas y être rechargé. Mais il demeure possible de le charger dans
l’ancienne version pour récupérer son dictionnaire (avec
<code class="docutils literal notranslate"><span class="pre">x.__dict__</span></code>), sauver celui-ci, et le recharger dans la nouvelle
version.</p>
<div class="section" id="enregistrer-un-objet-comme-texte">
<h3>Enregistrer un objet comme texte<a class="headerlink" href="#enregistrer-un-objet-comme-texte" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une autre possibilité consiste à sauvegarder la représentation texte ASCII
dans un fichier texte brut, ce qui se fait simplement en ouvrant le
fichier en écriture et en y écrivant la représentation de l’objet (il
est tout à fait possible d’écrire plusieurs objets). Une fois l’écriture
terminée, nous refermons le fichier.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">7</span>
<span class="gp">sage: </span><span class="n">o</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">o</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">o</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="enregister-et-recharger-des-sessions-entieres">
<span id="section-save"></span><h2>Enregister et recharger des sessions entières<a class="headerlink" href="#enregister-et-recharger-des-sessions-entieres" title="Lien permanent vers ce titre">¶</a></h2>
<p>Sage dispose de fonctions très souples de sauvegarde et relecture de
sessions entières.</p>
<p>La commande <code class="docutils literal notranslate"><span class="pre">save_session(nom_de_session)</span></code> enregistre toutes les
variables définies dans la session courante sous forme de dictionnaire
dans le fichier <code class="docutils literal notranslate"><span class="pre">nom_de_session.sobj</span></code>. (Les éventuelles variables qui
ne supportent pas la sauvegarde sont ignorées.) Le fichier <code class="docutils literal notranslate"><span class="pre">.sobj</span></code> obtenu
peut être rechargé comme n’importe quel objet sauvegardé ; on obtient en
le rechargeant un dictionnaire dont les clés sont les noms de variables
et les valeurs les objets correspondants.</p>
<p>La commande <code class="docutils literal notranslate"><span class="pre">reload_session(nom_de_session)</span></code> charge toutes les
variables sauvées dans <code class="docutils literal notranslate"><span class="pre">nom_de_session</span></code>. Cela n’efface pas les
variables déjà définies dans la session courante : les deux sessions
sont fusionnées.</p>
<p>Commençons par démarrer Sage et par définir quelques variables.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">EllipticCurve</span><span class="p">(</span><span class="s1">&#39;11a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ModularSymbols</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">389</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">T</span><span class="p">(</span><span class="mi">2003</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">();</span> <span class="n">t</span><span class="o">.</span><span class="n">charpoly</span><span class="p">()</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go"> _4 = (x - 2004) * (x - 12)^2 * (x + 54)^2</span>
</pre></div>
</div>
<p>Nous sauvons maintenant notre session, ce qui a pour effet d’enregistrer
dans un même fichier toutes les variables ci-dessus. Nous pouvons
constater que le fichier fait environ 3 ko.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">save_session</span><span class="p">(</span><span class="s1">&#39;misc&#39;</span><span class="p">)</span>
<span class="go">Saving a</span>
<span class="go">Saving M</span>
<span class="go">Saving t</span>
<span class="go">Saving E</span>
<span class="gp">sage: </span><span class="n">quit</span>
<span class="go">was@form:~/tmp$ ls -l misc.sobj</span>
<span class="go">-rw-r--r--  1 was was 2979 2006-01-28 19:47 misc.sobj</span>
</pre></div>
</div>
<p>Enfin, nous redémarrons Sage, nous définissons une nouvelle variable, et
nous rechargeons la session précédente.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="mi">19</span>
<span class="gp">sage: </span><span class="n">load_session</span><span class="p">(</span><span class="s1">&#39;misc&#39;</span><span class="p">)</span>
<span class="go">Loading a</span>
<span class="go">Loading M</span>
<span class="go">Loading E</span>
<span class="go">Loading t</span>
</pre></div>
</div>
<p>Toutes les variables sauvegardées sont à nouveau disponibles. En outre,
la variable <code class="docutils literal notranslate"><span class="pre">b</span></code> n’a pas été écrasée.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span>
<span class="go">Full Modular Symbols space for Gamma_0(37) of weight 2 with sign 0</span>
<span class="go">and dimension 5 over Rational Field</span>
<span class="gp">sage: </span><span class="n">E</span>
<span class="go">Elliptic Curve defined by y^2 + y = x^3 - x^2 - 10*x - 20 over Rational</span>
<span class="go">Field</span>
<span class="gp">sage: </span><span class="n">b</span>
<span class="go">19</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">389</span>
</pre></div>
</div>
</div>
<div class="section" id="l-interface-notebook">
<span id="section-notebook"></span><h2>L’interface <em>notebook</em><a class="headerlink" href="#l-interface-notebook" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette section concerne l’ancien bloc-note de Sage (“sagenb”). Pour plus de
détails, voir la <a class="reference external" href="https://doc.sagemath.org/html/en/reference/notebook/index.html">documentation de sagenb</a>.</p>
<p>SageMath est en cours de transition vers l’utilisation par défaut du
<a class="reference external" href="http://jupyter-notebook.readthedocs.io/en/latest/notebook.html">bloc-note Jupyter</a>,
qui a une structure différente. Pour les utilisateurs,
la différence majeure est le fait que les feuilles de calcul sont
sauvegardées dans le système de fichiers local comme n’importe quel autre
fichier, alors que pour l’ancien bloc-note de Sage le principal accès aux
feuilles de calcul passait par le serveur comme expliqué ci-dessous.</p>
<div class="section" id="ancien-bloc-note-sagenb">
<h3>Ancien bloc-note SageNB<a class="headerlink" href="#ancien-bloc-note-sagenb" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour démarrer le <em>notebook</em> Sage, tapez</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">notebook</span><span class="p">()</span>
</pre></div>
</div>
<p>sur la ligne de commande Sage. Cela démarre le serveur du <em>notebook</em> et
ouvre votre navigateur web par défaut sur la page correspondante. Les
fichiers d’état du serveur sont placés dans <code class="docutils literal notranslate"><span class="pre">$HOME/.sage/sage\_notebook.sagenb</span></code>.</p>
<p>La variante</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">notebook</span><span class="p">(</span><span class="s2">&quot;repertoire&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>lance un nouveau serveur <em>notebook</em> en utilisant les fichiers du
<code class="docutils literal notranslate"><span class="pre">repertoire.sagenb</span></code> donné à la place de <code class="docutils literal notranslate"><span class="pre">$HOME/.sage/sage_notebook</span></code>. Cela peut
être utile si vous voulez gérer une collection de feuilles de travail
attachées à un projet spécifique, ou encore lancer plusieurs instances
du serveur en même temps.</p>
<p>Au démarrage, le <em>notebook</em> commence par créer les fichiers suivants
dans <code class="docutils literal notranslate"><span class="pre">$HOME/.sage/sage_notebook.sagenb</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="n">pickle</span>
<span class="n">openid</span><span class="o">.</span><span class="n">pickle</span>
<span class="n">twistedconf</span><span class="o">.</span><span class="n">tac</span>
<span class="n">sagenb</span><span class="o">.</span><span class="n">pid</span>
<span class="n">users</span><span class="o">.</span><span class="n">pickle</span>
<span class="n">home</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span> <span class="p">(</span><span class="n">sous</span><span class="o">-</span><span class="n">répertoire</span> <span class="n">de</span> <span class="n">l</span><span class="s1">&#39;utilisateur principal)</span>
<span class="n">home</span><span class="o">/</span><span class="n">guest</span><span class="o">/</span>
<span class="n">home</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span>
</pre></div>
</div>
<p>Une fois ces fichiers créés, le <em>notebook</em> démarre un serveur web.</p>
<p>Un « <em>notebook</em> » est une collection de comptes utilisateur, qui peuvent
chacun posséder un nombre quelconque de feuilles de travail. Quand vous
créez une nouvelle feuille de travail, les données correspondantes sont
stockées dans un répertoire de la forme
<code class="docutils literal notranslate"><span class="pre">home/utilisateur/numéro</span></code>. Dans chacun de ces répertoires se trouve un
fichier texte brut <code class="docutils literal notranslate"><span class="pre">worksheet.html</span></code> qui contient tout ce qu’il faut
pour reconstituer la feuille de travail s’il lui arrive quelque
chose, si Sage rencontre un problème, ou quoi que ce soit de ce genre.</p>
<p>Dans Sage, vous pouvez taper <code class="docutils literal notranslate"><span class="pre">notebook?</span></code> pour beaucoup plus
d’informations sur comment démarrer un serveur.</p>
<p>Le schéma suivant présente l’architecture du <em>Notebook</em> Sage :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">----------------------</span>
<span class="o">|</span>                    <span class="o">|</span>
<span class="o">|</span>                    <span class="o">|</span>
<span class="o">|</span>   <span class="n">firefox</span><span class="o">/</span><span class="n">safari</span>   <span class="o">|</span>
<span class="o">|</span>                    <span class="o">|</span>
<span class="o">|</span>     <span class="n">programme</span>      <span class="o">|</span>
<span class="o">|</span>     <span class="n">javascript</span>     <span class="o">|</span>
<span class="o">|</span>                    <span class="o">|</span>
<span class="o">|</span>                    <span class="o">|</span>
<span class="o">----------------------</span>
      <span class="o">|</span>      <span class="o">^</span>
      <span class="o">|</span> <span class="n">AJAX</span> <span class="o">|</span>
      <span class="n">V</span>      <span class="o">|</span>
<span class="o">----------------------</span>
<span class="o">|</span>                    <span class="o">|</span>
<span class="o">|</span>     <span class="n">serveur</span>        <span class="o">|</span>                <span class="n">processus</span> <span class="n">SAGE</span> <span class="mi">1</span>
<span class="o">|</span>       <span class="n">web</span>          <span class="o">|</span> <span class="o">------------&gt;</span>  <span class="n">processus</span> <span class="n">SAGE</span> <span class="mi">2</span>  <span class="p">(</span><span class="n">processus</span> <span class="n">Python</span><span class="p">)</span>
<span class="o">|</span>       <span class="n">sage</span>         <span class="o">|</span>   <span class="n">pexpect</span>      <span class="n">processus</span> <span class="n">SAGE</span> <span class="mi">3</span>
<span class="o">|</span>                    <span class="o">|</span>                    <span class="o">.</span>
<span class="o">|</span>                    <span class="o">|</span>                    <span class="o">.</span>
<span class="o">----------------------</span>                    <span class="o">.</span>
</pre></div>
</div>
<p>Dans le <em>notebook</em>, pour consulter l’aide d’une commande Sage <code class="docutils literal notranslate"><span class="pre">cmd</span></code>,
tapez <code class="docutils literal notranslate"><span class="pre">cmd?</span></code> dans le champ d’entrée des commandes puis tapez <code class="docutils literal notranslate"><span class="pre">&lt;tab&gt;</span></code>
(et non <code class="docutils literal notranslate"><span class="pre">&lt;maj-entrée&gt;</span></code>).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">La ligne de commande interactive</a><ul>
<li><a class="reference internal" href="#votre-session-sage">Votre session Sage</a></li>
<li><a class="reference internal" href="#journal-des-entrees-sorties">Journal des entrées-sorties</a></li>
<li><a class="reference internal" href="#coller-du-texte-ignore-les-invites">Coller du texte ignore les invites</a></li>
<li><a class="reference internal" href="#mesure-du-temps-d-execution-d-une-commande">Mesure du temps d’exécution d’une commande</a></li>
<li><a class="reference internal" href="#trucs-et-astuces-ipython">Trucs et astuces IPython</a></li>
<li><a class="reference internal" href="#erreurs-et-exceptions">Erreurs et exceptions</a></li>
<li><a class="reference internal" href="#recherche-en-arriere-et-completion-de-ligne-de-commande">Recherche en arrière et complétion de ligne de commande</a></li>
<li><a class="reference internal" href="#aide-en-ligne">Aide en ligne</a></li>
<li><a class="reference internal" href="#enregistrer-et-charger-des-objets-individuellement">Enregistrer et charger des objets individuellement</a><ul>
<li><a class="reference internal" href="#enregistrer-un-objet-comme-texte">Enregistrer un objet comme texte</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enregister-et-recharger-des-sessions-entieres">Enregister et recharger des sessions entières</a></li>
<li><a class="reference internal" href="#l-interface-notebook">L’interface <em>notebook</em></a><ul>
<li><a class="reference internal" href="#ancien-bloc-note-sagenb">Ancien bloc-note SageNB</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="tour_advanced.html"
                        title="Chapitre précédent">Quelques mathématiques plus avancées</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="interfaces.html"
                        title="Chapitre suivant">Interfaces</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/interactive_shell.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="interfaces.html" title="Interfaces"
             >suivant</a> |</li>
        <li class="right" >
          <a href="tour_advanced.html" title="Quelques mathématiques plus avancées"
             >précédent</a> |</li>
  
    
      <a href="../index.html"><img src="_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Tutoriel Sage v8.4</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2018, The Sage Development Team.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>