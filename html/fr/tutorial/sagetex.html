
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Utiliser SageTeX &#8212; Tutoriel Sage v9.6</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="_static/translations.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Postface" href="afterword.html" />
    <link rel="prev" title="Programmation" href="programming.html" />
  <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="afterword.html" title="Postface"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="programming.html" title="Programmation"
             accesskey="P">précédent</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../en/index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="index.html">Tutoriel Sage v9.6</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Utiliser SageTeX</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="utiliser-sagetex">
<span id="sec-sagetex"></span><h1>Utiliser SageTeX<a class="headerlink" href="#utiliser-sagetex" title="Lien permanent vers ce titre">¶</a></h1>
<p>Le paquet SageTeX permet d’inclure dans un document LaTeX les résultats
de calculs effectués avec Sage. Il est fourni avec Sage, mais pour
l’utiliser, vous aurez besoin de l’ajouter à votre installation TeX.
Cette opération se résume à copier un fichier ; voyez la section
<a class="reference internal" href="introduction.html#installation"><span class="std std-ref">Installation</span></a> du présent tutoriel ainsi que « Make SageTeX known to
TeX » dans le guide d’installation de Sage (<a class="reference external" href="http://doc.sagemath.org/html/en/installation/">Sage installation guide</a>, <a class="reference external" href="../../en/installation/index.html">ce lien</a> devrait conduire à une copie
locale) pour plus de détails.</p>
<p>Voici un bref exemple d’utilisation de SageTeX. La documentation
complète se trouve dans
<code class="docutils literal notranslate"><span class="pre">SAGE_ROOT/local/share/texmf/tex/latex/sagetex</span></code>, où <code class="docutils literal notranslate"><span class="pre">SAGE_ROOT</span></code>
désigne le répertoire racine de votre installation Sage. Elle est
accompagnée d’un fichier exemple et de scripts Python potentiellement
utiles.</p>
<p>Pour essayer SageTeX, suivez les instructions d’installation puis copiez
le texte suivant dans un fichier <code class="docutils literal notranslate"><span class="pre">st_example.tex</span></code>:</p>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Attention, tel qu’il est affiché dans la version interactive de
l’aide de Sage, l’exemple suivant provoque des erreurs lors de la
compilation par LaTeX. Consultez la version statique de la
documentation pour voir le texte correct.</p>
</div>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[T1]</span><span class="nb">{</span>fontenc<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[frenchb]</span><span class="nb">{</span>babel<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>sagetex<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>

Sage<span class="k">\TeX</span><span class="nb">{}</span> permet de faire des calculs avec Sage en pla<span class="k">\,</span>cant
automatiquement les r<span class="k">\&#39;</span>esultats dans un document <span class="k">\LaTeX</span>.
Par exemple, l&#39;entier <span class="s">$</span><span class="m">1269</span><span class="s">$</span> admet
<span class="s">$</span><span class="nv">\sage</span><span class="nb">{number_of_partitions</span><span class="o">(</span><span class="m">1269</span><span class="o">)</span><span class="nb">}</span><span class="s">$</span> partitions. Le r<span class="k">\&#39;</span>esultat de ce
calcul est affich<span class="k">\&#39;</span>e sans que vous ayez <span class="k">\`</span>a le calculer
vous-m<span class="k">\^</span>eme ou m<span class="k">\^</span>eme <span class="k">\`</span>a le copier-coller dans votre document.

Un peu de code Sage :

<span class="k">\begin</span><span class="nb">{</span>sageblock<span class="nb">}</span>
    f(x) = exp(x) * sin(2*x)
<span class="k">\end</span><span class="nb">{</span>sageblock<span class="nb">}</span>

La d<span class="k">\&#39;</span>eriv<span class="k">\&#39;</span>ee seconde de <span class="s">$</span><span class="nb">f</span><span class="s">$</span> est

<span class="sb">\[</span><span class="nb"></span>
<span class="nb">  </span><span class="nv">\frac</span><span class="nb">{</span><span class="nv">\mathrm</span><span class="nb">{d}^{</span><span class="m">2</span><span class="nb">}}{</span><span class="nv">\mathrm</span><span class="nb">{d}x^{</span><span class="m">2</span><span class="nb">}} </span><span class="nv">\sage</span><span class="nb">{f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb">} </span><span class="o">=</span><span class="nb"></span>
<span class="nb">  </span><span class="nv">\sage</span><span class="nb">{diff</span><span class="o">(</span><span class="nb">f, x, </span><span class="m">2</span><span class="o">)(</span><span class="nb">x</span><span class="o">)</span><span class="nb">}.</span>
<span class="s">\]</span>

Voici enfin le graphe de <span class="s">$</span><span class="nb">f</span><span class="s">$</span> sur <span class="s">$</span><span class="o">[-</span><span class="m">1</span><span class="nb">,</span><span class="m">1</span><span class="o">]</span><span class="s">$</span>:

<span class="k">\sageplot</span><span class="nb">{</span>plot(f, -1, 1)<span class="nb">}</span>

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>
</div>
<p>Lancez LaTeX pour compiler <code class="docutils literal notranslate"><span class="pre">st_example.tex</span></code> comme à l’accoutumée.
LaTeX va afficher un certain nombre de messages d’avertissement, dont:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">Package sagetex Warning: Graphics file</span>
<span class="go">sage-plots-for-st_example.tex/plot-0.pdf on page 1 does not exist.</span>
<span class="go">Plot command is on input line 30.</span>

<span class="go">Package sagetex Warning: There were undefined Sage formulas and/or</span>
<span class="go">plots. Run Sage on st_example.sage, and then run LaTeX on</span>
<span class="go">st_example.tex again.</span>
</pre></div>
</div>
<p>En plus des fichiers habituellement produits par LaTeX, le répertoire où
vous travaillez contient maintenant un fichier <code class="docutils literal notranslate"><span class="pre">st_example.sage</span></code>. Il
s’agit d’un script Sage produit par la compilation du fichier LaTeX.
L’avertissement précédent vous demande de lancer Sage sur
<code class="docutils literal notranslate"><span class="pre">st_example.sage</span></code>, faites-le. Un nouveau message vous demande de
relancer LaTeX sur <code class="docutils literal notranslate"><span class="pre">st_example.tex</span></code>, mais avant de le faire, observez
qu’un nouveau fichier <code class="docutils literal notranslate"><span class="pre">st_example.sout</span></code> a été créé. C’est ce fichier
qui contient le résultat des calculs effectués par Sage, dans un format
que LaTeX est capable de lire pour insérer les résultats dans votre
document. Un nouveau répertoire contenant un fichier EPS avec votre
graphique est également apparu. Après une nouvelle exécution de LaTeX,
les résultats des commandes Sage sont présents dans votre document
compilé.</p>
<p>Les macros LaTeX utilisées dans l’exemple ci-dessus ne sont guère
compliquées à comprendre. Un environnement <code class="docutils literal notranslate"><span class="pre">sageblock</span></code> compose le code
qu’il contient verbatim, et le fait exécuter par Sage. Avec
<code class="docutils literal notranslate"><span class="pre">\sage{toto}</span></code>, le résultat placé dans votre document est celui de la
commande Sage <code class="docutils literal notranslate"><span class="pre">latex(toto)</span></code>. Les commandes de tracé de graphiques sont
un peu plus compliquées. L’exemple ci-dessus utilise la forme la plus
simple, <code class="docutils literal notranslate"><span class="pre">\sageplot{toto}</span></code>, qui insère dans le document l’image obtenue
sous Sage par <code class="docutils literal notranslate"><span class="pre">toto.save('fichier.eps')</span></code>.</p>
<p>Pour utiliser SageTeX, la procédure est donc la suivante :</p>
<blockquote>
<div><ul class="simple">
<li><p>lancez LaTeX sur votre fichier .tex ;</p></li>
<li><p>lancez Sage sur le fichier .sage produit pas LaTeX ;</p></li>
<li><p>lancez LaTeX une seconde fois.</p></li>
</ul>
</div></blockquote>
<p>(Il n’est pas nécessaire de lancer Sage si vous recompilez un document
LaTeX sans avoir modifié les commandes Sage qu’il contient depuis la
compilation précédente.)</p>
<p>SageTeX offre bien d’autres possibilités. Puisque Sage
comme LaTeX sont des outils complexes et puissants, le mieux est sans
doute de consulter la documentation complète de SageTeX, qui se trouve
dans <code class="docutils literal notranslate"><span class="pre">SAGE_ROOT/local/share/texmf/tex/latex/sagetex</span></code>.</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="programming.html"
                          title="Chapitre précédent">Programmation</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="afterword.html"
                          title="Chapitre suivant">Postface</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/sagetex.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="afterword.html" title="Postface"
             >suivant</a> |</li>
        <li class="right" >
          <a href="programming.html" title="Programmation"
             >précédent</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../en/index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="index.html">Tutoriel Sage v9.6</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Utiliser SageTeX</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>